import{T as $,r as g,o as r,f as d,a as i,w as y,u as a,b as e,t as f,g as b,e as j,F as h,k as U,Z as B}from"./app-Djmqi-NZ.js";import{_ as k}from"./InputLabel-DNg2qsH-.js";import{_ as p}from"./TextInput-CM5PvIwZ.js";import{_ as D}from"./Modal-c9_KHZcO.js";const I={class:"max-w-screen-lg mx-auto mt-8"},N={class:"dark:text-white mb-8"},S={class:"lg:grid grid-cols-3 gap-4"},A={key:0,class:"absolute inset-0 flex justify-center items-center bg-black/40 group-hover:opacity-100 opacity-0 duration-200 ease-in-out"},F=e("i",{class:"bx bx-photo-album text-5xl text-white p-3 rounded-full"},null,-1),L=[F],M={key:1,class:"bx bx-plus font-bold text-3xl text-white"},R=["src"],T={class:"col-span-2 p-6 rounded-lg bg-gray-800"},E=e("p",{class:"block font-medium text-sm text-gray-700 dark:text-gray-300 mt-4 select-none"},"Breakdown of cost",-1),O=["onClick"],P=e("div",{class:"flex justify-end"},[e("button",{"type-":"submit",class:"rounded-lg px-4 py-2 bg-green-500 hover:bg-green-700 active:bg-green-900 text-white text-sm duration-200 ease-in-out"},"Save")],-1),Z={class:"flex justify-end py-8"},q={class:"p-4 dark:text-white"},z=e("p",{class:"font-bold"},"Confirmation",-1),G={class:"mt-4 flex justify-end space-x-2"},W={__name:"Show",props:{item:Object},setup(s){const u=s,l=$({category_id:u.item.category_id,image:"",name:u.item.name,price:u.item.price,breakdown:u.item.costing}),x=g(null),v=g(null),V=()=>{if(l.image){let n=new FileReader;n.readAsDataURL(l.image),n.onload=t=>{v.value=t.target.result}}},C=()=>{l.breakdown.push({name:"",cost:""})},_=n=>{l.breakdown.splice(n,1)},m=g(!1);return(n,t)=>(r(),d(h,null,[i(a(B),null,{default:y(()=>[e("title",null,`\r
            `+f(s.item.name)+`\r
        `,1)]),_:1}),e("div",I,[e("p",N,f(s.item.name),1),e("div",S,[e("div",{onClick:t[0]||(t[0]=o=>x.value.click()),class:"h-72 w-72 rounded-lg overflow-hidden bg-gray-700 flex justify-center items-center relative group"},[s.item.pic?(r(),d("div",A,L)):b("",!0),!a(l).image&&!s.item.pic?(r(),d("i",M)):b("",!0),a(l).image||s.item.pic?(r(),d("img",{key:2,src:v.value||`../../storage/${s.item.pic}`,class:"w-72 h-72 object-cover",alt:""},null,8,R)):b("",!0)]),e("div",T,[e("form",{onSubmit:t[4]||(t[4]=j(o=>a(l).post(n.route("items.update",s.item)),["prevent"])),enctype:"multipart/form-data"},[e("input",{ref_key:"newImage",ref:x,onInput:t[1]||(t[1]=o=>a(l).image=o.target.files[0]),onChange:V,type:"file",accept:"image/*",hidden:""},null,544),i(k,{for:"name",value:"Name"}),i(p,{id:"name",type:"text",modelValue:a(l).name,"onUpdate:modelValue":t[2]||(t[2]=o=>a(l).name=o),class:"mt-2 w-full block"},null,8,["modelValue"]),i(k,{class:"mt-4",for:"price",value:"Price"}),i(p,{id:"price",type:"number",modelValue:a(l).price,"onUpdate:modelValue":t[3]||(t[3]=o=>a(l).price=o),class:"mt-2 w-full block"},null,8,["modelValue"]),E,(r(!0),d(h,null,U(a(l).breakdown,(o,w)=>(r(),d("div",{key:w,class:"grid grid-cols-11 gap-2 m-2"},[i(p,{type:"text",modelValue:o.name,"onUpdate:modelValue":c=>o.name=c,class:"w-full block col-span-5",placeholder:"Item"},null,8,["modelValue","onUpdate:modelValue"]),i(p,{type:"number",modelValue:o.cost,"onUpdate:modelValue":c=>o.cost=c,class:"w-full block col-span-5",placeholder:"Cost"},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:c=>_(w),class:"bx bx-x p-2 w-8 h-8 rounded-lg text-white bg-red-500 hover:bg-red-700 duration-200 ease-in-out inline-flex justify-center items-center"},null,8,O)]))),128)),e("button",{type:"button",class:"text-xs px-4 py-1 rounded-lg bg-gray-400 text-white",onClick:C},"Add"),P],32)])]),e("div",Z,[e("button",{onClick:t[5]||(t[5]=o=>m.value=!0),type:"button",class:"text-red-500 border border-red-500 px-4 hover:bg-red-500 hover:text-white rounded-lg text-sm"},"Delete")])]),i(D,{show:m.value,onClose:t[8]||(t[8]=o=>m.value=!1),"max-width":"md"},{default:y(()=>[e("div",q,[z,e("p",null,"Are you sure you want to delete "+f(s.item.name)+"?",1),e("div",G,[e("button",{onClick:t[6]||(t[6]=o=>m.value=!1),class:"dark:text-white hover:underline"},"Cancel"),e("button",{onClick:t[7]||(t[7]=o=>n.$inertia.delete(n.route("items.destroy",s.item))),class:"bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out px-3 py-1 text-white rounded-lg"},"Delete")])])]),_:1},8,["show"])],64))}};export{W as default};
