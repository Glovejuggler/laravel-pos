import{r,T as j,o as n,f as a,a as i,w as m,u,b as e,F as h,h as V,g as z,B as E,Z as A,e as x,n as K,t as k,z as O,j as F}from"./app-bx6r09WD.js";import{_ as $}from"./Modal-B8EYgpVm.js";import{_ as I}from"./TextInput-LJVBlx_m.js";const q={class:"lg:flex py-8 px-6 lg:px-8"},P={class:"w-full lg:w-1/6 bg-white dark:bg-zinc-900 py-4 rounded-2xl h-min border dark:border-zinc-700 mb-6 text-sm"},U=["onClick"],L={class:"invisible group-hover:visible space-x-2"},Z=["onClick"],G=["onClick"],H={class:"w-full md:w-5/6 md:px-4 dark:text-white"},J={key:0,class:"flex items-center mb-4"},Q={class:"grid grid-cols-3 lg:grid-cols-5 gap-2"},R=["onClick"],W=["src"],X={class:"bg-black/70 p-2 inset-x-0 bottom-0 absolute text-sm text-white"},Y={class:"p-6"},ee={class:"p-6"},te={class:"p-6 dark:text-white"},se={class:"mt-2"},oe={class:"mt-4 flex justify-end space-x-2"},re={__name:"Index",props:{items:Object,categories:Object,category:Object},setup(c){const f=r(!1),v=r(null),M=()=>{f.value=!0,E(()=>v.value.focus())},_=()=>{f.value=!1,d.reset()},N=()=>{d.post(route("categories.store"),{preserveScroll:!0,preserveState:!1,onSuccess:()=>_,onError:()=>v.value.focus(),onFinish:()=>d.reset()})},b=r(!1),g=r(null),B=o=>{l.name=o.name,l.id=o.id,b.value=!0,E(()=>g.value.focus())},S=()=>{b.value=!1,l.reset()},D=()=>{l.put(route("categories.update",l.id),{preserveScroll:!0,preserveState:!1,onSuccess:()=>S,onError:()=>g.value.focus(),onFinish:()=>l.reset()})},w=r(!1),p=r(null),T=o=>{p.value=o,w.value=!0},y=()=>{w.value=!1,p.value=null},d=j({name:""}),l=j({name:"",id:""});return(o,t)=>(n(),a(h,null,[i(u(A),null,{default:m(()=>[...t[4]||(t[4]=[e("title",null,`
            Products
        `,-1)])]),_:1}),e("div",q,[e("div",P,[e("div",{class:"flex justify-between items-center px-4 dark:text-white"},[t[5]||(t[5]=e("span",null,"Categories",-1)),e("i",{onClick:M,class:"bx bx-plus rounded-full hover:bg-black/20 dark:hover:bg-white/20 w-8 h-8 inline-flex justify-center items-center duration-200 ease-in-out"})]),t[6]||(t[6]=e("hr",{class:"border-zinc-600 mt-1"},null,-1)),(n(!0),a(h,null,V(c.categories,s=>(n(),a("div",{onClick:x(C=>o.$inertia.get(o.route("items.index",s)),["stop"]),class:K([{"bg-blue-500 hover:bg-blue-500 font-bold text-white":o.$page.url.replaceAll("%20"," ")===`/items/${s.name}`},"dark:text-white px-4 py-2 duration-200 ease-in-out flex justify-between group cursor-pointer"])},[e("span",null,k(s.name),1),e("div",L,[e("i",{class:"bx bx-edit opacity-70 hover:opacity-100",onClick:x(C=>B(s),["stop"])},null,8,Z),e("i",{class:"bx bx-trash opacity-70 hover:opacity-100",onClick:x(C=>T(s),["stop"])},null,8,G)])],10,U))),256))]),e("div",H,[c.category?(n(),a("div",J,[t[7]||(t[7]=e("span",{class:"font-semibold mr-8"},"Products",-1)),e("i",{onClick:t[0]||(t[0]=s=>o.$inertia.get(o.route("items.create"),{category:c.category.id})),class:"bx bx-plus rounded-full hover:bg-black/20 dark:hover:bg-white/20 w-8 h-8 inline-flex justify-center items-center duration-200 ease-in-out"})])):z("",!0),e("div",Q,[(n(!0),a(h,null,V(c.items,s=>(n(),a("div",{onClick:C=>o.$inertia.get(o.route("items.show",s.id)),class:"flex aspect-square w-full rounded-2xl overflow-hidden border dark:border-zinc-700 relative",style:O(`background: ${s.color??"rgb(56, 56, 65)"} !important`)},[s.pic?(n(),a("img",{key:0,class:"object-cover w-full aspect-square",src:`../storage/${s.pic}`},null,8,W)):z("",!0),e("div",X,k(s.name),1)],12,R))),256))])])]),i($,{show:f.value,onClose:_},{default:m(()=>[e("div",Y,[t[8]||(t[8]=e("p",{class:"dark:text-white font-semibold"},"Add Category",-1)),i(I,{ref_key:"newCatInput",ref:v,class:"mt-2 block w-full",type:"text",modelValue:u(d).name,"onUpdate:modelValue":t[1]||(t[1]=s=>u(d).name=s),placeholder:"Category",onKeyup:F(N,["enter"])},null,8,["modelValue"])])]),_:1},8,["show"]),i($,{show:b.value,onClose:S},{default:m(()=>[e("div",ee,[t[9]||(t[9]=e("p",{class:"dark:text-white font-semibold"},"Edit Category",-1)),i(I,{ref_key:"editCatInput",ref:g,class:"mt-2 block w-full",type:"text",modelValue:u(l).name,"onUpdate:modelValue":t[2]||(t[2]=s=>u(l).name=s),placeholder:"Category",onKeyup:F(D,["enter"])},null,8,["modelValue"])])]),_:1},8,["show"]),i($,{show:w.value,onClose:y},{default:m(()=>[e("div",te,[t[10]||(t[10]=e("p",{class:"font-semibold"},"Confirmation",-1)),e("p",se,"Are you sure you want to delete this category: "+k(p.value.name)+"?",1),t[11]||(t[11]=e("p",{class:"sm italic text-red-500"},"This action cannot be undone",-1)),e("div",oe,[e("button",{onClick:y,class:"hover:underline"},"Cancel"),e("button",{onClick:t[3]||(t[3]=s=>o.$inertia.delete(o.route("categories.destroy",p.value),{preserveScroll:!0,preserveState:!1,onSuccess:()=>y})),class:"px-4 py-2 text-sm text-white bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out"},"Delete")])])]),_:1},8,["show"])],64))}};export{re as default};
