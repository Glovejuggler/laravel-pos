import{r as c,D as X,k as B,J as ie,K as de,o as i,f as d,a as g,w as _,u as M,b as e,g as f,L as K,e as m,M as Y,F as w,h as j,d as I,t as l,p as b,N as S,v as L,n as y,Z as ue,z as ee,O as re,I as ce}from"./app-BOAQYsE1.js";import{_ as q}from"./Modal-Dr-cRsxx.js";import{Z as pe}from"./index-CbjWbaYu.js";import{d as te}from"./vuedraggable.umd-HQY9M-PE.js";const ve=e("title",null,`
            POS
        `,-1),be={class:"fixed inset-0 overflow-hidden min-h-screen max-h-screen bg-zinc-900 sm:hidden md:block"},xe={class:"grid grid-cols-12"},fe={class:"bg-zinc-900 flex flex-col space-y-2 col-span-2 p-2 text-xs md:text-sm min-h-screen max-h-screen z-50 overflow-y-auto"},me={key:0,class:"flex justify-between items-center text-white py-1"},he=e("span",null,"Editting sort",-1),ge=["onClick"],_e=["onClick"],we=["src"],ye={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},ke={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},Ce={class:"fixed bottom-8 inset-x-0"},ze={class:"rounded-xl max-w-80 mx-auto p-4 bg-zinc-950 shadow-2xl border border-zinc-800 text-white text-xs"},$e={class:"flex justify-between items-center"},je=e("span",null,"Sorting",-1),Te={class:"bg-zinc-900 p-4 col-span-3 min-h-screen max-h-screen"},Oe={class:"h-1/2 relative"},Ie={class:"h-5/6 overflow-y-auto px-2 text-white"},Se={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2"},De={class:"flex space-x-2 items-center"},Fe=["onClick"],Ne={class:"flex space-x-2 items-center"},Pe=["onClick"],Ae={key:0,class:"absolute bottom-2 text-white w-full"},Le={class:"flex justify-between"},Ee={class:"font-bold"},Ve={class:"text-xl font-black"},Ue={key:0,class:"font-bold"},Be={class:"text-xl font-black"},Me={class:"h-1/2 relative"},qe={class:"relative block mb-1"},He=["disabled"],Je={class:"relative block"},Re=["disabled"],Ge={class:"grid grid-cols-2 md:grid-cols-5 gap-2 my-2"},Qe=["disabled"],Ze=["disabled"],We=["disabled"],Xe=["disabled"],Ke=["disabled"],Ye=["disabled"],et=["disabled"],tt=["disabled"],st={class:"flex justify-between text-white space-x-2"},lt=["disabled"],nt={key:0,id:"receipt",class:"w-64 bg-white pb-6 z-10"},ot=e("div",{class:"flex justify-center"},[e("img",{src:"logo.jpg",class:"w-32",alt:""})],-1),at={class:"grid grid-cols-2"},it={class:"text-right"},dt={class:"grid grid-cols-2"},ut=e("b",null,"Type",-1),rt={class:"text-right"},ct=e("hr",{class:"border-black mt-2"},null,-1),pt=e("div",{class:"flex justify-between"},[e("p",null,"Item"),e("p",null,"Subtotal")],-1),vt=e("hr",{class:"border-black mb-2"},null,-1),bt={class:"flex justify-between pl-4 w-full"},xt={class:"w-full"},ft=e("hr",{class:"border-black my-2"},null,-1),mt={class:"font-bold text-lg flex justify-between"},ht=e("p",null,"TOTAL",-1),gt={class:"pl-4"},_t=e("hr",{class:"border-black my-2"},null,-1),wt=e("div",{class:"flex justify-center"},[e("p",null,"Thank you. Come again.")],-1),yt={class:"flex justify-between text-sm"},kt=e("p",null,"Cashier",-1),Ct={class:"flex justify-between text-sm"},zt=e("p",null,"Order ID",-1),$t={class:"text-right"},jt={class:"flex justify-between text-sm"},Tt=e("p",{class:"w-max"},"Order Time",-1),Ot={class:"w-max"},It=e("div",{class:"flex flex-col items-center justify-center text-sm mt-2 w-full"},[e("b",null,"UPTop Diner"),e("p",null,"25 L. Geirosa Ave., Brgy. Silangan"),e("p",null,"Calauan, Laguna"),e("p",null,"La Famiglia Building 2nd Floor")],-1),St=e("hr",{class:"border-black my-2"},null,-1),Dt=e("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1),Ft={class:"md:hidden sm:block fixed inset-0 bg-zinc-900 min-h-screen overflow-y-auto"},Nt={class:"p-2 flex space-x-2 overflow-x-scroll"},Pt=["onClick"],At={class:"grid grid-cols-2 gap-2 p-2 mb-24"},Lt=["onClick"],Et=["src"],Vt={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},Ut={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},Bt=e("div",{class:"flex justify-center"},[e("i",{class:"bx bx-caret-up text-zinc-900 bg-white px-10 pt-2 rounded-t-3xl"})],-1),Mt=[Bt],qt={key:0,class:"fixed inset-0 bg-zinc-900"},Ht=e("div",{class:"flex justify-center"},[e("i",{class:"bx bx-caret-down text-zinc-900 bg-white px-10 pb-2 rounded-b-3xl"})],-1),Jt=[Ht],Rt={class:"pt-8 px-2 bg-zinc-900 text-white z-50"},Gt=e("p",{class:"font-semibold mb-2"},"Cart",-1),Qt={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2 text-white"},Zt={class:"flex space-x-2 items-center"},Wt=["onClick"],Xt={class:"flex space-x-2 items-center"},Kt=["onClick"],Yt={class:"fixed inset-x-0 bottom-0 p-2 z-50"},es={class:"flex justify-between text-white"},ts={class:"font-bold"},ss={class:"text-xl font-black"},ls={key:0,class:"font-bold"},ns={class:"text-xl font-black"},os={class:"relative block mb-1"},as=["disabled"],is={class:"relative block"},ds=["disabled"],us={class:"grid grid-cols-5 gap-2 my-2"},rs=["disabled"],cs=["disabled"],ps=["disabled"],vs=["disabled"],bs=["disabled"],xs=["disabled"],fs=["disabled"],ms=["disabled"],hs={class:"flex justify-between text-white space-x-2 my-2"},gs=["disabled"],_s={key:1,id:"receipt",class:"w-64 bg-white pb-6 -z-50"},ws=e("div",{class:"flex justify-center"},[e("img",{src:"logo.jpg",class:"w-32",alt:""})],-1),ys={class:"grid grid-cols-2"},ks={class:"text-right"},Cs={class:"grid grid-cols-2"},zs=e("b",null,"Type",-1),$s={class:"text-right"},js=e("hr",{class:"border-black mt-2"},null,-1),Ts=e("div",{class:"flex justify-between"},[e("p",null,"Item"),e("p",null,"Subtotal")],-1),Os=e("hr",{class:"border-black mb-2"},null,-1),Is={class:"flex justify-between pl-4 w-full"},Ss={class:"w-full"},Ds=e("hr",{class:"border-black my-2"},null,-1),Fs={class:"font-bold text-lg flex justify-between"},Ns=e("p",null,"TOTAL",-1),Ps={class:"pl-4"},As=e("hr",{class:"border-black my-2"},null,-1),Ls=e("div",{class:"flex justify-center"},[e("p",null,"Thank you. Come again.")],-1),Es={class:"flex justify-between text-sm"},Vs=e("p",null,"Cashier",-1),Us={class:"flex justify-between text-sm"},Bs=e("p",null,"Order ID",-1),Ms={class:"text-right"},qs={class:"flex justify-between text-sm"},Hs=e("p",{class:"w-max"},"Order Time",-1),Js={class:"w-max"},Rs=e("div",{class:"flex flex-col items-center justify-center text-sm mt-2 w-full"},[e("b",null,"UPTop Diner"),e("p",null,"25 L. Geirosa Ave., Brgy. Silangan"),e("p",null,"Calauan, Laguna"),e("p",null,"La Famiglia Building 2nd Floor")],-1),Gs=e("hr",{class:"border-black my-2"},null,-1),Qs=e("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1),Zs={class:"flex justify-center p-4 bg-white text-zinc-900 text-3xl font-bold uppercase"},Ws={class:"p-6 bg-zinc-800 text-white"},Xs=e("label",{for:"note"},"Note",-1),Ks={class:"flex w-full"},Ys={class:"flex justify-end items-center space-x-4 mt-4"},el={class:"p-4 bg-zinc-800 text-white"},tl=e("span",{class:"text-lg"},"Do you want to print receipt?",-1),sl={class:"grid grid-cols-2 gap-2 mt-4"},il=Object.assign({layout:null},{__name:"POS",props:{items:Object,categories:Object},setup(H){const E=H,D=c(null),T=c(null),k=c(!1),J=c(!1),F=c(!1),C=c([]),V=o=>{T.value=o,D.value=E.items[o];const s=JSON.parse(localStorage.getItem(`prodOrder.${o}`))||[];if(s.length){const u=new Map(s.map(t=>[t.id,t.order]));C.value=D.value.map(t=>({...t,order:u.get(t.id)??t.order})),C.value.sort((t,x)=>t.order-x.order)}else C.value=D.value};X(C,o=>{o.forEach((u,t)=>{u.order=t+1});const s=o.map(u=>({id:u.id,order:u.order}));console.log(T.value),localStorage.setItem(`prodOrder.${T.value}`,JSON.stringify(s))},{deep:!0});const p=c(null),n=B(()=>{var o;return(o=p.value)==null?void 0:o.reduce((s,u)=>s+u.price*u.count,0)}),a=c(0),h=c(""),v=c(""),N=c(""),r=c(null),P=c(!1),O=c(!1),U=c(!1),R=c(null),se=()=>{U.value=!0},G=o=>{if(!$.value)if(p.value){var s=p.value.findIndex(u=>u.id===o.id);s==-1?(o.count=1,p.value.push(o)):p.value[s].count+=1}else o.count=1,p.value=[o]},Q=o=>{var s=p.value.findIndex(u=>u.id===o.id);p.value[s].count-=1,p.value[s].count===0&&p.value.splice(s,1),p.value.length||(a.value=0)},Z=o=>{var s=p.value.findIndex(u=>u.id===o.id);p.value.splice(s,1),p.value.length||(a.value=0)},W=o=>{k.value=!0,P.value=!1,ce.post(route("transaction.save"),{items:p.value,payment:a.value,name:h.value,type:v.value,note:N.value},{maxBodyLength:2048,maxContentLength:2048}).then(s=>{R.value=s.data.message,r.value=s.data.transaction}).catch(s=>{console.log(s)}).finally(()=>{p.value=null,a.value=null,h.value=null,v.value=null,N.value=null,k.value=!1,o&&le(),se()})},z=c([]);ie(()=>{let o=navigator.userAgent.toLowerCase();J.value=o.indexOf("android")>-1;const s=JSON.parse(localStorage.getItem("catOrder"))||[];if(s.length){const u=new Map(s.map(t=>[t.id,t.order]));z.value=E.categories.map(t=>({...t,order:u.get(t.id)??t.order})),z.value.sort((t,x)=>t.order-x.order)}else z.value=E.categories;V(z.value[0].name)}),X(z,o=>{o.forEach((u,t)=>{u.order=t+1});const s=o.map(u=>({id:u.id,order:u.order}));localStorage.setItem("catOrder",JSON.stringify(s))},{deep:!0});const le=()=>{const o=document.getElementById("receipt");pe(o,{quality:1,scale:2}).then(s=>{console.log(s),J.value&&(window.location.href="rawbt:"+s)})},ne=new Audio("../notif.mp3");Echo.private("done-orders").listen("OrderDone",o=>{ne.play()});const A=c(!1),$=c(!1);c(!1);const oe=B(()=>({animation:200,group:"categories",ghostClass:"opacity-40",disabled:!A.value})),ae=B(()=>({animation:200,group:"products",ghostClass:"opacity-40",disabled:!$.value}));return(o,s)=>{const u=de("longpress");return i(),d(w,null,[g(M(ue),null,{default:_(()=>[ve]),_:1}),e("main",be,[e("div",xe,[e("aside",fe,[A.value?(i(),d("div",me,[he,e("i",{onClick:s[0]||(s[0]=t=>A.value=!1),class:"bx bx-check rounded-full text-xl cursor-pointer bg-white text-black h-7 w-7 inline-flex justify-center items-center"})])):f("",!0),g(M(te),K({list:z.value,"item-key":"order"},oe.value),{item:_(({element:t})=>[b((i(),d("div",{key:t.id,class:y([{"bg-zinc-600 font-bold px-5":T.value===t.name},"py-2 px-4 text-white hover:bg-zinc-700 rounded-lg duration-200 ease-in-out"]),onClick:x=>V(t.name)},[I(l(t.name),1)],10,ge)),[[u,()=>A.value=!0]])]),_:1},16,["list"])]),C.value.length?(i(),d("div",{key:0,class:"select-none overflow-y-auto col-span-7 max-h-screen min-h-screen z-50",onContextmenu:s[4]||(s[4]=m(()=>{},["prevent"]))},[g(M(te),K({class:"grid grid-cols-4 gap-2 p-2",list:C.value,"item-key":"order"},ae.value),{item:_(({element:t})=>[b((i(),d("div",{key:t.order,style:ee(`background: ${t.color??"#121212"} !important`),class:y(["flex w-full aspect-square relative duration-150 ease-in-out rounded-md overflow-hidden",{"active:scale-95":!$.value}]),onClick:x=>G(t),ontouchstart:""},[t.pic?(i(),d("img",{key:0,draggable:"false",onContextmenu:s[1]||(s[1]=m(()=>{},["prevent"])),onDragstart:s[2]||(s[2]=m(()=>{},["prevent"])),src:`../storage/${t.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,we)):f("",!0),e("p",ye,l(t.name),1),e("span",ke,l(t.price),1)],14,_e)),[[u,()=>$.value=!0]])]),_:1},16,["list"]),g(Y,{"enter-active-class":"ease-out duration-300","enter-from-class":"translate-y-full","leave-active-class":"ease-in duration-150","leave-to-class":"translate-y-full"},{default:_(()=>[b(e("div",Ce,[e("div",ze,[e("div",$e,[je,e("button",{onClick:s[3]||(s[3]=t=>$.value=!1),class:"px-3 py-1 rounded-lg bg-white text-black"},"Save")])])],512),[[re,$.value]])]),_:1})],32)):f("",!0),e("div",Te,[e("div",Oe,[e("div",Ie,[(i(!0),d(w,null,j(p.value,t=>(i(),d("div",Se,[e("div",De,[e("i",{onClick:x=>Q(t),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,Fe),e("p",null,l(t.name)+" x"+l(t.count),1)]),e("div",Ne,[e("p",null,l(t.price*t.count),1),e("i",{onClick:x=>Z(t),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,Pe)])]))),256))]),n.value>0?(i(),d("div",Ae,[e("div",Le,[e("p",Ee,[I("Total: "),e("span",Ve,l(n.value),1)]),a.value>n.value?(i(),d("p",Ue,[I("Change: "),e("span",Be,l(n.value&&a.value-n.value),1)])):f("",!0)])])):f("",!0)]),e("div",Me,[e("label",qe,[b(e("input",{disabled:!n.value,"onUpdate:modelValue":s[5]||(s[5]=t=>h.value=t),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,He),[[S,h.value]]),e("i",{onClick:s[6]||(s[6]=m(t=>h.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),e("label",Je,[b(e("input",{disabled:!n.value,"onUpdate:modelValue":s[7]||(s[7]=t=>a.value=t),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,Re),[[S,a.value]]),e("i",{onClick:s[8]||(s[8]=m(t=>a.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),e("div",Ge,[e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:s[9]||(s[9]=t=>a.value+=50)},"50",8,Qe),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:s[10]||(s[10]=t=>a.value+=100)},"100",8,Ze),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:s[11]||(s[11]=t=>a.value+=200)},"200",8,We),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:s[12]||(s[12]=t=>a.value+=500)},"500",8,Xe),e("button",{disabled:!n.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:s[13]||(s[13]=t=>a.value+=1e3)},"1000",8,Ke),e("button",{disabled:!n.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:s[14]||(s[14]=t=>a.value=n.value)},"Exact amount",8,Ye)]),b(e("input",{disabled:!n.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":s[15]||(s[15]=t=>v.value=t)},null,8,et),[[L,v.value]]),b(e("input",{disabled:!n.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":s[16]||(s[16]=t=>v.value=t)},null,8,tt),[[L,v.value]]),e("div",st,[e("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",v.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"dinein"},"Dine-in",2),e("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",v.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"takeout"},"Take-out",2)]),e("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98] absolute bottom-0 right-0",onClick:s[17]||(s[17]=t=>O.value=!0),disabled:!v.value||!n.value||a.value<n.value||!a.value||k.value},l(k.value?"Processing...":"Place order"),9,lt)])])]),r.value?(i(),d("div",nt,[ot,e("div",at,[e("p",null,l(r.value.name??" "),1),e("p",it,l(`Order #${r.value.number}`),1)]),e("div",dt,[ut,e("b",rt,l(r.value.type),1)]),ct,pt,vt,e("div",null,[(i(!0),d(w,null,j(r.value.items,t=>(i(),d("div",null,[e("p",null,l(t.name),1),e("div",bt,[e("p",xt,l(Number(t.price).amountFormat())+" x"+l(t.quantity),1),e("p",null,l((t.quantity*t.price).amountFormat()),1)])]))),256)),ft,e("div",null,[e("div",mt,[ht,e("p",null,l(r.value.gross.amountFormat()),1)]),e("div",gt,[e("p",null,"CASH: "+l(r.value.payment.amountFormat()),1),e("p",null,"CHANGE: "+l((r.value.payment-r.value.gross).amountFormat()),1)])]),_t,wt,e("div",yt,[kt,e("p",null,l(o.$page.props.auth.user.name),1)]),e("div",Ct,[zt,e("p",$t,l(`dQw4w9WgXcQ${r.value.id.pad(4)}`),1)]),e("div",jt,[Tt,e("p",Ot,l(Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}).format(new Date(r.value.created_at))),1)]),It,St,Dt])])):f("",!0)]),e("main",Ft,[e("nav",Nt,[(i(!0),d(w,null,j(H.categories,t=>(i(),d("span",{onClick:x=>V(t.name),class:y(["inline-flex font-semibold px-2 rounded-full border-white border whitespace-nowrap text-clip h-min",T.value===t.name?"text-zinc-900 bg-white":"text-white bg-zinc-900"])},l(t.name),11,Pt))),256))]),e("div",At,[(i(!0),d(w,null,j(D.value,t=>(i(),d("div",{style:ee(`background: ${t.color??"#121212"} !important`),class:"item flex w-full aspect-square relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:x=>G(t),ontouchstart:""},[t.pic?(i(),d("img",{key:0,draggable:"false",onContextmenu:s[18]||(s[18]=m(()=>{},["prevent"])),onDragstart:s[19]||(s[19]=m(()=>{},["prevent"])),src:`../storage/${t.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,Et)):f("",!0),e("p",Vt,l(t.name),1),e("span",Ut,l(t.price),1)],12,Lt))),256))]),F.value?f("",!0):(i(),d("div",{key:0,class:"fixed z-40 w-full bottom-0 inset-x-0",onClick:s[20]||(s[20]=t=>F.value=!0)},Mt)),g(Y,{"enter-from-class":"translate-y-full","enter-active-class":"ease-in-out duration-100","leave-active-class":"ease-in-out duration-100","leave-to-class":"translate-y-full"},{default:_(()=>[F.value?(i(),d("div",qt,[e("div",{class:"fixed z-40 w-full top-0 inset-x-0",onClick:s[21]||(s[21]=t=>F.value=!1)},Jt),e("div",Rt,[Gt,(i(!0),d(w,null,j(p.value,t=>(i(),d("div",Qt,[e("div",Zt,[e("i",{onClick:x=>Q(t),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,Wt),e("p",null,l(t.name)+" x"+l(t.count),1)]),e("div",Xt,[e("p",null,l(t.price*t.count),1),e("i",{onClick:x=>Z(t),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,Kt)])]))),256))]),e("div",Yt,[e("div",es,[e("p",ts,[I("Total: "),e("span",ss,l(n.value),1)]),a.value>n.value?(i(),d("p",ls,[I("Change: "),e("span",ns,l(n.value&&a.value-n.value),1)])):f("",!0)]),e("label",os,[b(e("input",{disabled:!n.value,"onUpdate:modelValue":s[22]||(s[22]=t=>h.value=t),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,as),[[S,h.value]]),e("i",{onClick:s[23]||(s[23]=m(t=>h.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),e("label",is,[b(e("input",{disabled:!n.value,"onUpdate:modelValue":s[24]||(s[24]=t=>a.value=t),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,ds),[[S,a.value]]),e("i",{onClick:s[25]||(s[25]=m(t=>a.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),e("div",us,[e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:s[26]||(s[26]=t=>a.value+=50)},"50",8,rs),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:s[27]||(s[27]=t=>a.value+=100)},"100",8,cs),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:s[28]||(s[28]=t=>a.value+=200)},"200",8,ps),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:s[29]||(s[29]=t=>a.value+=500)},"500",8,vs),e("button",{disabled:!n.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:s[30]||(s[30]=t=>a.value+=1e3)},"1000",8,bs),e("button",{disabled:!n.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:s[31]||(s[31]=t=>a.value=n.value)},"Exact amount",8,xs)]),b(e("input",{disabled:!n.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":s[32]||(s[32]=t=>v.value=t)},null,8,fs),[[L,v.value]]),b(e("input",{disabled:!n.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":s[33]||(s[33]=t=>v.value=t)},null,8,ms),[[L,v.value]]),e("div",hs,[e("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",v.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"dinein"},"Dine-in",2),e("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",v.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"takeout"},"Take-out",2)]),e("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98]",onClick:s[34]||(s[34]=t=>O.value=!0),disabled:!v.value||!n.value||a.value<n.value||!a.value||k.value},l(k.value?"Processing...":"Place order"),9,gs)])])):f("",!0)]),_:1}),r.value?(i(),d("div",_s,[ws,e("div",ys,[e("p",null,l(r.value.name??" "),1),e("p",ks,l(`Order #${r.value.number}`),1)]),e("div",Cs,[zs,e("b",$s,l(r.value.type),1)]),js,Ts,Os,e("div",null,[(i(!0),d(w,null,j(r.value.items,t=>(i(),d("div",null,[e("p",null,l(t.name),1),e("div",Is,[e("p",Ss,l(Number(t.price).amountFormat())+" x"+l(t.quantity),1),e("p",null,l((t.quantity*t.price).amountFormat()),1)])]))),256)),Ds,e("div",null,[e("div",Fs,[Ns,e("p",null,l(r.value.gross.amountFormat()),1)]),e("div",Ps,[e("p",null,"CASH: "+l(r.value.payment.amountFormat()),1),e("p",null,"CHANGE: "+l((r.value.payment-r.value.gross).amountFormat()),1)])]),As,Ls,e("div",Es,[Vs,e("p",null,l(o.$page.props.auth.user.name),1)]),e("div",Us,[Bs,e("p",Ms,l(`dQw4w9WgXcQ${r.value.id.pad(4)}`),1)]),e("div",qs,[Hs,e("p",Js,l(Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}).format(new Date(r.value.created_at))),1)]),Rs,Gs,Qs])])):f("",!0)]),g(q,{"max-width":"sm",show:U.value,onClose:s[35]||(s[35]=t=>U.value=!1)},{default:_(()=>[e("div",Zs,l(R.value),1)]),_:1},8,["show"]),g(q,{"max-width":o.sm,show:O.value},{default:_(()=>[e("div",Ws,[Xs,e("div",Ks,[b(e("textarea",{name:"note",id:"note",rows:"5","onUpdate:modelValue":s[36]||(s[36]=t=>N.value=t),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none w-full border-zinc-700 bg-zinc-900 text-zinc-300 focus:border-indigo-600 focus:ring-indigo-600 rounded-md shadow-sm"},null,512),[[S,N.value]])]),e("div",Ys,[e("span",{class:"hover:underline cursor-pointer",onClick:s[37]||(s[37]=t=>O.value=!1)},"Cancel"),e("button",{onClick:s[38]||(s[38]=()=>{P.value=!0,O.value=!1}),class:"px-8 py-2 bg-green-500 hover:bg-green-600 active:bg-green-800 rounded-lg ease-in-out duration-200"},"Next")])])]),_:1},8,["max-width","show"]),g(q,{"max-width":"sm",show:P.value,onClose:s[41]||(s[41]=t=>P.value=!1)},{default:_(()=>[e("div",el,[tl,e("div",sl,[e("button",{onClick:s[39]||(s[39]=t=>W(!0)),class:"w-full py-2 text-lg bg-blue-500 rounded-lg"},"Yes"),e("button",{onClick:s[40]||(s[40]=t=>W(!1)),class:"w-full py-2 text-lg bg-red-500 rounded-lg"},"No")])])]),_:1},8,["show"])],64)}}});export{il as default};
