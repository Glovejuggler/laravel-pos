import{T as I,r as p,o as i,f as a,a as d,w as $,u as n,b as t,t as g,g as w,i as z,p as _,F as m,k as v,q as j,e as N,Z as A}from"./app-Dk50twIb.js";import{_ as k}from"./InputLabel-DSld51WF.js";import{_ as x}from"./TextInput-7H9RoEsX.js";import{_ as F}from"./Modal-BGeoJb9Y.js";import{c as y}from"./colors-CgKrs_oP.js";const M={class:"max-w-screen-lg mx-auto mt-8"},O={class:"dark:text-white mb-8"},L={class:"lg:grid grid-cols-3 gap-4"},R={key:0,class:"absolute inset-0 flex justify-center items-center bg-black/40 group-hover:opacity-100 opacity-0 duration-200 ease-in-out"},T=t("i",{class:"bx bx-photo-album text-5xl text-white p-3 rounded-full"},null,-1),q=[T],E={key:1,class:"bx bx-plus font-bold text-3xl dark:text-white"},P=["src"],Z={class:"flex mt-2"},G=["value"],H={class:"col-span-2 p-6 rounded-lg bg-white dark:bg-zinc-800"},J=["selected"],K=["value","selected"],Q=t("p",{class:"block font-medium text-sm text-zinc-700 dark:text-zinc-300 mt-4 select-none"},"Breakdown of cost",-1),W=["onClick"],X=t("div",{class:"flex justify-end"},[t("button",{"type-":"submit",class:"rounded-lg px-4 py-2 bg-green-500 hover:bg-green-700 active:bg-green-900 text-white text-sm duration-200 ease-in-out"},"Save")],-1),Y={class:"flex justify-end py-8"},ee={class:"p-4 dark:text-white"},te=t("p",{class:"font-bold"},"Confirmation",-1),oe={class:"mt-4 flex justify-end space-x-2"},re={__name:"Show",props:{item:Object,categories:Object},setup(s){const U=Object.keys(y).filter(r=>typeof y[r]=="object"),u=s;console.log(u.item);const l=I({category_id:u.item.category_id,image:"",name:u.item.name,price:u.item.price,color:u.item.color,breakdown:u.item.costing}),h=p(l.color),C=p(null),V=p(null),S=()=>{if(l.image){let r=new FileReader;r.readAsDataURL(l.image),r.onload=o=>{V.value=o.target.result}}},B=()=>{l.breakdown.push({name:"",cost:""})},D=r=>{l.breakdown.splice(r,1)},b=p(!1);return(r,o)=>(i(),a(m,null,[d(n(A),null,{default:$(()=>[t("title",null,`
            `+g(s.item.name)+`
        `,1)]),_:1}),t("div",M,[t("p",O,g(s.item.name),1),t("div",L,[t("div",null,[t("div",{onClick:o[0]||(o[0]=e=>C.value.click()),class:"h-72 w-72 rounded-lg overflow-hidden bg-white dark:bg-zinc-700 flex justify-center items-center relative group"},[s.item.pic?(i(),a("div",R,q)):w("",!0),!n(l).image&&!s.item.pic?(i(),a("i",E)):w("",!0),n(l).image||s.item.pic?(i(),a("img",{key:2,src:V.value||`../../storage/${s.item.pic}`,class:"w-72 h-72 object-cover",alt:""},null,8,P)):w("",!0)]),d(k,{class:"mt-4",for:"color",value:"Color"}),t("div",Z,[z(t("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>n(l).color=e),id:"color",name:"color",onChange:o[2]||(o[2]=e=>h.value=e.target.value),class:"rounded-lg border border-zinc-300 dark:border-zinc-700 dark:bg-zinc-900 dark:text-white"},[(i(!0),a(m,null,v(n(U),e=>(i(),a(m,null,[(i(!0),a(m,null,v(n(y)[e],c=>(i(),a("option",{style:j(`background: ${c} !important`),value:c},g(c),13,G))),256))],64))),256))],544),[[_,n(l).color]]),t("div",{class:"w-10 h-10 ml-4",style:j(`background-color: ${h.value} !important`)},null,4)])]),t("div",H,[t("form",{onSubmit:o[7]||(o[7]=N(e=>n(l).post(r.route("items.update",s.item)),["prevent"])),enctype:"multipart/form-data"},[t("input",{ref_key:"newImage",ref:C,onInput:o[3]||(o[3]=e=>n(l).image=e.target.files[0]),onChange:S,type:"file",accept:"image/*",hidden:""},null,544),d(k,{for:"categories",value:"Category"}),z(t("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>n(l).category_id=e),id:"categories",class:"w-full mt-2 border-zinc-300 dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},[t("option",{hidden:"",disabled:"",selected:s.item.category_id===69420},"Select category",8,J),(i(!0),a(m,null,v(s.categories,e=>(i(),a("option",{value:e.id,selected:s.item.category_id===e.id},g(e.name),9,K))),256))],512),[[_,n(l).category_id]]),d(k,{class:"mt-4",for:"name",value:"Name"}),d(x,{id:"name",type:"text",modelValue:n(l).name,"onUpdate:modelValue":o[5]||(o[5]=e=>n(l).name=e),class:"mt-2 w-full block"},null,8,["modelValue"]),d(k,{class:"mt-4",for:"price",value:"Price"}),d(x,{id:"price",type:"number",modelValue:n(l).price,"onUpdate:modelValue":o[6]||(o[6]=e=>n(l).price=e),class:"mt-2 w-full block"},null,8,["modelValue"]),Q,(i(!0),a(m,null,v(n(l).breakdown,(e,c)=>(i(),a("div",{key:c,class:"grid grid-cols-11 gap-2 m-2"},[d(x,{type:"text",modelValue:e.name,"onUpdate:modelValue":f=>e.name=f,class:"w-full block col-span-5",placeholder:"Item"},null,8,["modelValue","onUpdate:modelValue"]),d(x,{type:"number",modelValue:e.cost,"onUpdate:modelValue":f=>e.cost=f,class:"w-full block col-span-5",placeholder:"Cost"},null,8,["modelValue","onUpdate:modelValue"]),t("i",{onClick:f=>D(c),class:"bx bx-x p-2 w-8 h-8 rounded-lg text-white bg-red-500 hover:bg-red-700 duration-200 ease-in-out inline-flex justify-center items-center"},null,8,W)]))),128)),t("button",{type:"button",class:"text-xs px-4 py-1 rounded-lg bg-zinc-400 text-white",onClick:B},"Add"),X],32)])]),t("div",Y,[t("button",{onClick:o[8]||(o[8]=e=>b.value=!0),type:"button",class:"text-red-500 border border-red-500 px-4 hover:bg-red-500 hover:text-white rounded-lg text-sm"},"Delete")])]),d(F,{show:b.value,onClose:o[11]||(o[11]=e=>b.value=!1),"max-width":"md"},{default:$(()=>[t("div",ee,[te,t("p",null,"Are you sure you want to delete "+g(s.item.name)+"?",1),t("div",oe,[t("button",{onClick:o[9]||(o[9]=e=>b.value=!1),class:"dark:text-white hover:underline"},"Cancel"),t("button",{onClick:o[10]||(o[10]=e=>r.$inertia.delete(r.route("items.destroy",s.item))),class:"bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out px-3 py-1 text-white rounded-lg"},"Delete")])])]),_:1},8,["show"])],64))}};export{re as default};
