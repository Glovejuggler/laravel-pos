import{T as $,r as f,o as d,f as r,a as i,w as h,u as s,b as e,t as g,g as b,e as j,F as k,k as U,Z as B}from"./app-BddrpjVn.js";import{_ as y}from"./InputLabel-dSg2rKvT.js";import{_ as p}from"./TextInput-oeu-E3Od.js";import{_ as z}from"./Modal-CbjEjxSR.js";const D={class:"max-w-screen-lg mx-auto mt-8"},I={class:"dark:text-white mb-8"},N={class:"lg:grid grid-cols-3 gap-4"},S={key:0,class:"absolute inset-0 flex justify-center items-center bg-black/40 group-hover:opacity-100 opacity-0 duration-200 ease-in-out"},A=e("i",{class:"bx bx-photo-album text-5xl text-white p-3 rounded-full"},null,-1),F=[A],L={key:1,class:"bx bx-plus font-bold text-3xl text-white"},M=["src"],R={class:"col-span-2 p-6 rounded-lg bg-zinc-800"},T=e("p",{class:"block font-medium text-sm text-zinc-700 dark:text-zinc-300 mt-4 select-none"},"Breakdown of cost",-1),E=["onClick"],O=e("div",{class:"flex justify-end"},[e("button",{"type-":"submit",class:"rounded-lg px-4 py-2 bg-green-500 hover:bg-green-700 active:bg-green-900 text-white text-sm duration-200 ease-in-out"},"Save")],-1),P={class:"flex justify-end py-8"},Z={class:"p-4 dark:text-white"},q=e("p",{class:"font-bold"},"Confirmation",-1),G={class:"mt-4 flex justify-end space-x-2"},W={__name:"Show",props:{item:Object},setup(n){const u=n,l=$({category_id:u.item.category_id,image:"",name:u.item.name,price:u.item.price,breakdown:u.item.costing}),x=f(null),v=f(null),V=()=>{if(l.image){let a=new FileReader;a.readAsDataURL(l.image),a.onload=t=>{v.value=t.target.result}}},C=()=>{l.breakdown.push({name:"",cost:""})},_=a=>{l.breakdown.splice(a,1)},m=f(!1);return(a,t)=>(d(),r(k,null,[i(s(B),null,{default:h(()=>[e("title",null,`
            `+g(n.item.name)+`
        `,1)]),_:1}),e("div",D,[e("p",I,g(n.item.name),1),e("div",N,[e("div",{onClick:t[0]||(t[0]=o=>x.value.click()),class:"h-72 w-72 rounded-lg overflow-hidden bg-zinc-700 flex justify-center items-center relative group"},[n.item.pic?(d(),r("div",S,F)):b("",!0),!s(l).image&&!n.item.pic?(d(),r("i",L)):b("",!0),s(l).image||n.item.pic?(d(),r("img",{key:2,src:v.value||`../../storage/${n.item.pic}`,class:"w-72 h-72 object-cover",alt:""},null,8,M)):b("",!0)]),e("div",R,[e("form",{onSubmit:t[4]||(t[4]=j(o=>s(l).post(a.route("items.update",n.item)),["prevent"])),enctype:"multipart/form-data"},[e("input",{ref_key:"newImage",ref:x,onInput:t[1]||(t[1]=o=>s(l).image=o.target.files[0]),onChange:V,type:"file",accept:"image/*",hidden:""},null,544),i(y,{for:"name",value:"Name"}),i(p,{id:"name",type:"text",modelValue:s(l).name,"onUpdate:modelValue":t[2]||(t[2]=o=>s(l).name=o),class:"mt-2 w-full block"},null,8,["modelValue"]),i(y,{class:"mt-4",for:"price",value:"Price"}),i(p,{id:"price",type:"number",modelValue:s(l).price,"onUpdate:modelValue":t[3]||(t[3]=o=>s(l).price=o),class:"mt-2 w-full block"},null,8,["modelValue"]),T,(d(!0),r(k,null,U(s(l).breakdown,(o,w)=>(d(),r("div",{key:w,class:"grid grid-cols-11 gap-2 m-2"},[i(p,{type:"text",modelValue:o.name,"onUpdate:modelValue":c=>o.name=c,class:"w-full block col-span-5",placeholder:"Item"},null,8,["modelValue","onUpdate:modelValue"]),i(p,{type:"number",modelValue:o.cost,"onUpdate:modelValue":c=>o.cost=c,class:"w-full block col-span-5",placeholder:"Cost"},null,8,["modelValue","onUpdate:modelValue"]),e("i",{onClick:c=>_(w),class:"bx bx-x p-2 w-8 h-8 rounded-lg text-white bg-red-500 hover:bg-red-700 duration-200 ease-in-out inline-flex justify-center items-center"},null,8,E)]))),128)),e("button",{type:"button",class:"text-xs px-4 py-1 rounded-lg bg-zinc-400 text-white",onClick:C},"Add"),O],32)])]),e("div",P,[e("button",{onClick:t[5]||(t[5]=o=>m.value=!0),type:"button",class:"text-red-500 border border-red-500 px-4 hover:bg-red-500 hover:text-white rounded-lg text-sm"},"Delete")])]),i(z,{show:m.value,onClose:t[8]||(t[8]=o=>m.value=!1),"max-width":"md"},{default:h(()=>[e("div",Z,[q,e("p",null,"Are you sure you want to delete "+g(n.item.name)+"?",1),e("div",G,[e("button",{onClick:t[6]||(t[6]=o=>m.value=!1),class:"dark:text-white hover:underline"},"Cancel"),e("button",{onClick:t[7]||(t[7]=o=>a.$inertia.delete(a.route("items.destroy",n.item))),class:"bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out px-3 py-1 text-white rounded-lg"},"Delete")])])]),_:1},8,["show"])],64))}};export{W as default};
