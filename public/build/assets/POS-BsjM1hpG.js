import{k as D,h as Oe,z as je,o as k,f as _,a as le,w as ie,u as Me,b as w,F as O,l as B,e as U,d as Le,t as A,g as Z,i as Re,B as Be,n as se,s as Ue,Z as Ve}from"./app-CZ2Lo-3q.js";import{_ as ze}from"./Modal-cM4mTppv.js";var We=Object.defineProperty,qe=Object.defineProperties,He=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,Xe=Math.pow,ae=(e,t,n)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))pe.call(t,n)&&ae(e,n,t[n]);if(V)for(var n of V(t))ve.call(t,n)&&ae(e,n,t[n]);return e},J=(e,t)=>qe(e,He(t)),Ye=(e,t)=>{var n={};for(var o in e)pe.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&V)for(var o of V(e))t.indexOf(o)<0&&ve.call(e,o)&&(n[o]=e[o]);return n},S=(e,t,n)=>new Promise((o,l)=>{var i=a=>{try{s(n.next(a))}catch(c){l(c)}},r=a=>{try{s(n.throw(a))}catch(c){l(c)}},s=a=>a.done?o(a.value):Promise.resolve(a.value).then(i,r);s((n=n.apply(e,t)).next())});function Ze(e,t){return e[13]=1,e[14]=t>>8,e[15]=t&255,e[16]=t>>8,e[17]=t&255,e}const we=112,be=72,ye=89,xe=115;let G;function Ge(){const e=new Int32Array(256);for(let t=0;t<256;t++){let n=t;for(let o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e}function Ke(e){let t=-1;G||(G=Ge());for(let n=0;n<e.length;n++)t=G[(t^e[n])&255]^t>>>8;return t^-1}function Je(e){const t=e.length-1;for(let n=t;n>=4;n--)if(e[n-4]===9&&e[n-3]===we&&e[n-2]===be&&e[n-1]===ye&&e[n]===xe)return n-3;return 0}function Qe(e,t,n=!1){const o=new Uint8Array(13);t*=39.3701,o[0]=we,o[1]=be,o[2]=ye,o[3]=xe,o[4]=t>>>24,o[5]=t>>>16,o[6]=t>>>8,o[7]=t&255,o[8]=o[4],o[9]=o[5],o[10]=o[6],o[11]=o[7],o[12]=1;const l=Ke(o),i=new Uint8Array(4);if(i[0]=l>>>24,i[1]=l>>>16,i[2]=l>>>8,i[3]=l&255,n){const r=Je(e);return e.set(o,r),e.set(i,r+13),e}else{const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const s=new Uint8Array(54);return s.set(e,0),s.set(r,33),s.set(o,37),s.set(i,50),s}}const et="AAlwSFlz",tt="AAAJcEhZ",nt="AAAACXBI";function ot(e){let t=e.indexOf(et);return t===-1&&(t=e.indexOf(tt)),t===-1&&(t=e.indexOf(nt)),t}const Q="[modern-screenshot]",$=typeof window<"u",rt=$&&"Worker"in window,lt=$&&"atob"in window,it=$&&"btoa"in window;var ce;const ee=$?(ce=window.navigator)==null?void 0:ce.userAgent:"",Se=ee.includes("Chrome"),z=ee.includes("AppleWebKit")&&!Se,te=ee.includes("Firefox"),st=e=>e&&"__CONTEXT__"in e,at=e=>e.constructor.name==="CSSFontFaceRule",ct=e=>e.constructor.name==="CSSImportRule",N=e=>e.nodeType===1,R=e=>typeof e.className=="object",Ce=e=>e.tagName==="image",ut=e=>e.tagName==="use",j=e=>N(e)&&typeof e.style<"u"&&!R(e),dt=e=>e.nodeType===8,ft=e=>e.nodeType===3,P=e=>e.tagName==="IMG",W=e=>e.tagName==="VIDEO",ht=e=>e.tagName==="CANVAS",ue=e=>e.tagName==="TEXTAREA",mt=e=>e.tagName==="INPUT",gt=e=>e.tagName==="STYLE",pt=e=>e.tagName==="SCRIPT",vt=e=>e.tagName==="SELECT",wt=e=>e.tagName==="SLOT",bt=e=>e.tagName==="IFRAME",C=(...e)=>console.warn(Q,...e),yt=e=>console.time(`${Q} ${e}`),xt=e=>console.timeEnd(`${Q} ${e}`),St=e=>{var t;const n=(t=e==null?void 0:e.createElement)==null?void 0:t.call(e,"canvas");return n&&(n.height=n.width=1),n&&"toDataURL"in n&&!!n.toDataURL("image/webp").includes("image/webp")},K=e=>e.startsWith("data:");function Ee(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if($&&e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i)||!$)return e;const n=q().implementation.createHTMLDocument(),o=n.createElement("base"),l=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(l),t&&(o.href=t),l.href=e,l.href}function q(e){var t;return(t=e&&N(e)?e==null?void 0:e.ownerDocument:e)!=null?t:window.document}const H="http://www.w3.org/2000/svg";function Ct(e,t,n){const o=q(n).createElementNS(H,"svg");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"viewBox",`0 0 ${e} ${t}`),o}function Et(e,t){let n=new XMLSerializer().serializeToString(e);return t&&(n=n.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/ug,"")),`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}function At(e,t){return new Promise((n,o)=>{const l=new FileReader;l.onload=()=>n(l.result),l.onerror=()=>o(l.error),l.onabort=()=>o(new Error(`Failed read blob to ${t}`)),l.readAsDataURL(e)})}const kt=e=>At(e,"dataUrl");function F(e,t){const n=q(t).createElement("img");return n.decoding="sync",n.loading="eager",n.src=e,n}function M(e,t){return new Promise(n=>{const{timeout:o,ownerDocument:l,onError:i}=t??{},r=typeof e=="string"?F(e,q(l)):e;let s=null,a=null;function c(){n(r),s&&clearTimeout(s),a==null||a()}if(o&&(s=setTimeout(c,o)),W(r)){const u=r.currentSrc||r.src;if(!u)return r.poster?M(r.poster,t).then(n):c();if(r.readyState>=2)return c();const m=c,g=v=>{C("Failed video load",u,v),i==null||i(v),c()};a=()=>{r.removeEventListener("loadeddata",m),r.removeEventListener("error",g)},r.addEventListener("loadeddata",m,{once:!0}),r.addEventListener("error",g,{once:!0})}else{const u=Ce(r)?r.href.baseVal:r.currentSrc||r.src;if(!u)return c();const m=()=>S(this,null,function*(){if(P(r)&&"decode"in r)try{yield r.decode()}catch(v){C("Failed to decode image, trying to render anyway",r.dataset.originalSrc||u,v)}c()}),g=v=>{C("Failed image load",r.dataset.originalSrc||u,v),c()};if(P(r)&&r.complete)return m();a=()=>{r.removeEventListener("load",m),r.removeEventListener("error",g)},r.addEventListener("load",m,{once:!0}),r.addEventListener("error",g,{once:!0})}})}function _t(e,t){return S(this,null,function*(){j(e)&&(P(e)||W(e)?yield M(e,{timeout:t}):yield Promise.all(["img","video"].flatMap(n=>Array.from(e.querySelectorAll(n)).map(o=>M(o,{timeout:t})))))})}const Ae=function(){let e=0;const t=()=>`0000${(Math.random()*Xe(36,4)<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)}();function ke(e){return e==null?void 0:e.split(",").map(t=>t.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}function Nt(e){return{time:t=>e&&yt(t),timeEnd:t=>e&&xt(t),warn:(...t)=>e&&C(...t)}}function Tt(e){return{cache:e?"no-cache":"force-cache"}}function X(e,t){return S(this,null,function*(){return st(e)?e:Dt(e,J(I({},t),{autoDestruct:!0}))})}function Dt(e,t){return S(this,null,function*(){var n,o,l,i,r;const{scale:s=1,workerUrl:a,workerNumber:c=1}=t||{},u=!!(t!=null&&t.debug),m=(n=t==null?void 0:t.features)!=null?n:!0,g=(o=e.ownerDocument)!=null?o:$?window.document:void 0,v=(i=(l=e.ownerDocument)==null?void 0:l.defaultView)!=null?i:$?window:void 0,h=new Map,b=J(I({width:0,height:0,quality:1,type:"image/png",scale:s,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:u,fetch:I({requestInit:Tt((r=t==null?void 0:t.fetch)==null?void 0:r.bypassingCache),placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1},t==null?void 0:t.fetch),fetchFn:null,font:{},drawImageInterval:100,workerUrl:null,workerNumber:c,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,includeStyleProperties:null,autoDestruct:!1},t),{__CONTEXT__:!0,log:Nt(u),node:e,ownerDocument:g,ownerWindow:v,dpi:s===1?null:96*s,svgStyleElement:_e(g),svgDefsElement:g==null?void 0:g.createElementNS(H,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...new Array(rt&&a&&c?c:0)].map(()=>{try{const d=new Worker(a);return d.onmessage=y=>S(this,null,function*(){var p,E,T,oe;const{url:Y,result:re}=y.data;re?(E=(p=h.get(Y))==null?void 0:p.resolve)==null||E.call(p,re):(oe=(T=h.get(Y))==null?void 0:T.reject)==null||oe.call(T,new Error(`Error receiving message from worker: ${Y}`))}),d.onmessageerror=y=>{var p,E;const{url:T}=y.data;(E=(p=h.get(T))==null?void 0:p.reject)==null||E.call(p,new Error(`Error receiving message from worker: ${T}`))},d}catch(d){return C("Failed to new Worker",d),null}}).filter(Boolean),fontFamilies:new Set,fontCssTexts:new Map,acceptOfImage:`${[St(g)&&"image/webp","image/svg+xml","image/*","*/*"].filter(Boolean).join(",")};q=0.8`,requests:h,drawImageCount:0,tasks:[],features:m,isEnable:d=>{var y,p;return d==="restoreScrollPosition"?typeof m=="boolean"?!1:(y=m[d])!=null?y:!1:typeof m=="boolean"?m:(p=m[d])!=null?p:!0}});b.log.time("wait until load"),yield _t(e,b.timeout),b.log.timeEnd("wait until load");const{width:x,height:f}=$t(e,b);return b.width=x,b.height=f,b})}function _e(e){if(!e)return;const t=e.createElement("style"),n=t.ownerDocument.createTextNode(`
.______background-clip--text {
  background-clip: text;
  -webkit-background-clip: text;
}
`);return t.appendChild(n),t}function $t(e,t){let{width:n,height:o}=t;if(N(e)&&(!n||!o)){const l=e.getBoundingClientRect();n=n||l.width||Number(e.getAttribute("width"))||0,o=o||l.height||Number(e.getAttribute("height"))||0}return{width:n,height:o}}function It(e,t){return S(this,null,function*(){const{log:n,timeout:o,drawImageCount:l,drawImageInterval:i}=t;n.time("image to canvas");const r=yield M(e,{timeout:o}),{canvas:s,context2d:a}=Ft(e.ownerDocument,t),c=()=>{try{a==null||a.drawImage(r,0,0,s.width,s.height)}catch(u){C("Failed to drawImage",u)}};if(c(),t.isEnable("fixSvgXmlDecode"))for(let u=0;u<l;u++)yield new Promise(m=>{setTimeout(()=>{c(),m()},u+i)});return t.drawImageCount=0,n.timeEnd("image to canvas"),s})}function Ft(e,t){const{width:n,height:o,scale:l,backgroundColor:i,maximumCanvasSize:r}=t,s=e.createElement("canvas");s.width=Math.floor(n*l),s.height=Math.floor(o*l),s.style.width=`${n}px`,s.style.height=`${o}px`,r&&(s.width>r||s.height>r)&&(s.width>r&&s.height>r?s.width>s.height?(s.height*=r/s.width,s.width=r):(s.width*=r/s.height,s.height=r):s.width>r?(s.height*=r/s.width,s.width=r):(s.width*=r/s.height,s.height=r));const a=s.getContext("2d");return a&&i&&(a.fillStyle=i,a.fillRect(0,0,s.width,s.height)),{canvas:s,context2d:a}}const Pt=["width","height","-webkit-text-fill-color"],Ot=["stroke","fill"];function Ne(e,t,n){var o;const{defaultComputedStyles:l,ownerDocument:i}=n,r=e.nodeName.toLowerCase(),s=R(e)&&r!=="svg",a=s?Ot.map(f=>[f,e.getAttribute(f)]).filter(([,f])=>f!==null):[],c=[s&&"svg",r,a.map((f,d)=>`${f}=${d}`).join(","),t].filter(Boolean).join(":");if(l.has(c))return l.get(c);let u=n.sandbox;if(!u)try{i&&(u=i.createElement("iframe"),u.id=`__SANDBOX__-${Ae()}`,u.width="0",u.height="0",u.style.visibility="hidden",u.style.position="fixed",i.body.appendChild(u),(o=u.contentWindow)==null||o.document.write('<!DOCTYPE html><meta charset="UTF-8"><title></title><body>'),n.sandbox=u)}catch(f){C("Failed to create iframe sandbox",f)}if(!u)return new Map;const m=u.contentWindow;if(!m)return new Map;const g=m.document;let v,h;s?(v=g.createElementNS(H,"svg"),h=v.ownerDocument.createElementNS(v.namespaceURI,r),a.forEach(([f,d])=>{h.setAttributeNS(null,f,d)}),v.appendChild(h)):v=h=g.createElement(r),h.textContent=" ",g.body.appendChild(v);const b=m.getComputedStyle(h,t),x=new Map;for(let f=b.length,d=0;d<f;d++){const y=b.item(d);Pt.includes(y)||x.set(y,b.getPropertyValue(y))}return g.body.removeChild(v),l.set(c,x),x}function Te(e,t,n){var o;const l=new Map,i=[],r=new Map;if(n)for(const a of n)s(a);else for(let a=e.length,c=0;c<a;c++){const u=e.item(c);s(u)}for(let a=i.length,c=0;c<a;c++)(o=r.get(i[c]))==null||o.forEach((u,m)=>l.set(m,u));function s(a){const c=e.getPropertyValue(a),u=e.getPropertyPriority(a),m=a.lastIndexOf("-"),g=m>-1?a.substring(0,m):void 0;if(g){let v=r.get(g);v||(v=new Map,r.set(g,v)),v.set(a,[c,u])}t.get(a)===c&&!u||(g?i.push(g):l.set(a,[c,u]))}return l}const jt=[":before",":after"],Mt=[":-webkit-scrollbar",":-webkit-scrollbar-button",":-webkit-scrollbar-thumb",":-webkit-scrollbar-track",":-webkit-scrollbar-track-piece",":-webkit-scrollbar-corner",":-webkit-resizer"];function Lt(e,t,n,o){const{ownerWindow:l,svgStyleElement:i,svgStyles:r,currentNodeStyle:s}=o;if(!i||!l)return;function a(c){var u;const m=l.getComputedStyle(e,c);let g=m.getPropertyValue("content");if(!g||g==="none")return;g=g.replace(/(')|(")|(counter\(.+\))/g,"");const v=[Ae()],h=Ne(e,c,o);s==null||s.forEach((y,p)=>{h.delete(p)});const b=Te(m,h,o.includeStyleProperties);b.delete("content"),b.delete("-webkit-locale"),((u=b.get("background-clip"))==null?void 0:u[0])==="text"&&t.classList.add("______background-clip--text");const x=[`content: '${g}';`];if(b.forEach(([y,p],E)=>{x.push(`${E}: ${y}${p?" !important":""};`)}),x.length===1)return;try{t.className=[t.className,...v].join(" ")}catch{return}const f=x.join(`
  `);let d=r.get(f);d||(d=[],r.set(f,d)),d.push(`.${v[0]}:${c}`)}jt.forEach(a),n&&Mt.forEach(a)}function Rt(e,t){ue(e)&&(t.innerHTML=e.value),(ue(e)||mt(e)||vt(e))&&t.setAttribute("value",e.value)}function Bt(e,t,n,o){var l,i,r,s;const{ownerWindow:a,includeStyleProperties:c,currentParentNodeStyle:u}=o,m=t.style,g=a.getComputedStyle(e),v=Ne(e,null,o);u==null||u.forEach((b,x)=>{v.delete(x)});const h=Te(g,v,c);return h.delete("transition-property"),h.delete("all"),h.delete("d"),h.delete("content"),n&&(h.delete("margin-top"),h.delete("margin-right"),h.delete("margin-bottom"),h.delete("margin-left"),h.delete("margin-block-start"),h.delete("margin-block-end"),h.delete("margin-inline-start"),h.delete("margin-inline-end"),h.set("box-sizing",["border-box",""])),((l=h.get("background-clip"))==null?void 0:l[0])==="text"&&t.classList.add("______background-clip--text"),Se&&(h.has("font-kerning")||h.set("font-kerning",["normal",""]),(((i=h.get("overflow-x"))==null?void 0:i[0])==="hidden"||((r=h.get("overflow-y"))==null?void 0:r[0])==="hidden")&&((s=h.get("text-overflow"))==null?void 0:s[0])==="ellipsis"&&e.scrollWidth===e.clientWidth&&h.set("text-overflow",["clip",""])),h.forEach(([b,x],f)=>{m.setProperty(f,b,x)}),h}function Ut(e,t){var n;try{if((n=e==null?void 0:e.contentDocument)!=null&&n.body)return ne(e.contentDocument.body,t)}catch(o){C("Failed to clone iframe",o)}return e.cloneNode(!1)}function De(e){if(e.ownerDocument)try{const l=e.toDataURL();if(l!=="data:,")return F(l,e.ownerDocument)}catch{}const t=e.cloneNode(!1),n=e.getContext("2d"),o=t.getContext("2d");try{return n&&o&&o.putImageData(n.getImageData(0,0,e.width,e.height),0,0),t}catch(l){C("Failed to clone canvas",l)}return t}function Vt(e){return S(this,null,function*(){if(e.ownerDocument&&!e.currentSrc&&e.poster)return F(e.poster,e.ownerDocument);const t=e.cloneNode(!1);t.crossOrigin="anonymous",e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc);const n=t.ownerDocument;if(n){let o=!0;if(yield M(t,{onError:()=>o=!1}),!o)return e.poster?F(e.poster,e.ownerDocument):t;t.currentTime=e.currentTime,yield new Promise(i=>{t.addEventListener("seeked",i,{once:!0})});const l=n.createElement("canvas");l.width=e.offsetWidth,l.height=e.offsetHeight;try{const i=l.getContext("2d");i&&i.drawImage(t,0,0,l.width,l.height)}catch(i){return C("Failed to clone video",i),e.poster?F(e.poster,e.ownerDocument):t}return De(l)}return t})}function zt(e){const t=e.cloneNode(!1);return e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager"),t}function Wt(e,t){return ht(e)?De(e):bt(e)?Ut(e,t):P(e)?zt(e):W(e)?Vt(e):e.cloneNode(!1)}const de=new Set(["symbol"]);function fe(e,t,n,o){return S(this,null,function*(){if(N(n)&&(gt(n)||pt(n))||o.filter&&!o.filter(n))return;de.has(t.nodeName)||de.has(n.nodeName)?o.currentParentNodeStyle=void 0:o.currentParentNodeStyle=o.currentNodeStyle;const l=yield ne(n,o);o.isEnable("restoreScrollPosition")&&qt(e,l),t.appendChild(l)})}function he(e,t,n){return S(this,null,function*(){var o,l;const i=(l=N(e)?(o=e.shadowRoot)==null?void 0:o.firstChild:void 0)!=null?l:e.firstChild;for(let r=i;r;r=r.nextSibling)if(!dt(r))if(N(r)&&wt(r)&&typeof r.assignedNodes=="function"){const s=r.assignedNodes();for(let a=0;a<s.length;a++)yield fe(e,t,s[a],n)}else yield fe(e,t,r,n)})}function qt(e,t){if(!j(e)||!j(t))return;const{scrollTop:n,scrollLeft:o}=e;if(!n&&!o)return;const{transform:l}=t.style,i=new DOMMatrix(l),{a:r,b:s,c:a,d:c}=i;i.a=1,i.b=0,i.c=0,i.d=1,i.translateSelf(-o,-n),i.a=r,i.b=s,i.c=a,i.d=c,t.style.transform=i.toString()}function Ht(e,t){const{backgroundColor:n,width:o,height:l,style:i}=t,r=e.style;if(n&&r.setProperty("background-color",n,"important"),o&&r.setProperty("width",`${o}px`,"important"),l&&r.setProperty("height",`${l}px`,"important"),i)for(const s in i)r[s]=i[s]}const Xt=/^[\w-:]+$/;function ne(e,t,n=!1){return S(this,null,function*(){var o,l,i,r;const{ownerDocument:s,ownerWindow:a,fontFamilies:c}=t;if(s&&ft(e))return s.createTextNode(e.data);if(s&&a&&N(e)&&(j(e)||R(e))){const m=yield Wt(e,t);if(t.isEnable("removeAbnormalAttributes")){const h=m.getAttributeNames();for(let b=h.length,x=0;x<b;x++){const f=h[x];Xt.test(f)||m.removeAttribute(f)}}const g=t.currentNodeStyle=Bt(e,m,n,t);n&&Ht(m,t);let v=!1;if(t.isEnable("copyScrollbar")){const h=[(o=g.get("overflow-x"))==null?void 0:o[0],(l=g.get("overflow-y"))==null?void 0:l[1]];v=h.includes("scroll")||(h.includes("auto")||h.includes("overlay"))&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}return Lt(e,m,v,t),Rt(e,m),(r=ke((i=g.get("font-family"))==null?void 0:i[0]))==null||r.forEach(h=>c.add(h)),W(e)||(yield he(e,m,t)),m}const u=e.cloneNode(!1);return yield he(e,u,t),u})}function Yt(e){if(e.ownerDocument=void 0,e.ownerWindow=void 0,e.svgStyleElement=void 0,e.svgDefsElement=void 0,e.svgStyles.clear(),e.defaultComputedStyles.clear(),e.sandbox){try{e.sandbox.remove()}catch{}e.sandbox=void 0}e.workers=[],e.fontFamilies.clear(),e.fontCssTexts.clear(),e.requests.clear(),e.tasks=[]}function Zt(e){const t=e,{url:n,timeout:o,responseType:l}=t,i=Ye(t,["url","timeout","responseType"]),r=new AbortController,s=o?setTimeout(()=>r.abort(),o):void 0;return fetch(n,I({signal:r.signal},i)).then(a=>{if(!a.ok)throw new Error("Failed fetch, not 2xx response",{cause:a});switch(l){case"dataUrl":return a.blob().then(kt);case"text":default:return a.text()}}).finally(()=>clearTimeout(s))}function L(e,t){const{url:n,requestType:o="text",responseType:l="text",imageDom:i}=t;let r=n;const{timeout:s,acceptOfImage:a,requests:c,fetchFn:u,fetch:{requestInit:m,bypassingCache:g,placeholderImage:v},workers:h}=e;o==="image"&&(z||te)&&e.drawImageCount++;let b=c.get(n);if(!b){g&&g instanceof RegExp&&g.test(r)&&(r+=(/\?/.test(r)?"&":"?")+new Date().getTime());const x=I({url:r,timeout:s,responseType:l,headers:o==="image"?{accept:a}:void 0},m);b={type:o,resolve:void 0,reject:void 0,response:null},b.response=S(this,null,function*(){if(u&&o==="image"){const f=yield u(n);if(f)return f}return!z&&n.startsWith("http")&&h.length?new Promise((f,d)=>{h[c.size&h.length-1].postMessage(I({rawUrl:n},x)),b.resolve=f,b.reject=d}):Zt(x)}).catch(f=>{if(c.delete(n),o==="image"&&v)return C("Failed to fetch image base64, trying to use placeholder image",r),typeof v=="string"?v:v(i);throw f}),c.set(n,b)}return b.response}function $e(e,t,n,o){return S(this,null,function*(){if(!Ie(e))return e;for(const[l,i]of Gt(e,t))try{const r=yield L(n,{url:i,requestType:o?"image":"text",responseType:"dataUrl"});e=e.replace(Kt(l),`$1${r}$3`)}catch(r){C("Failed to fetch css data url",l,r)}return e})}function Ie(e){return/url\((['"]?)([^'"]+?)\1\)/.test(e)}const Fe=/url\((['"]?)([^'"]+?)\1\)/g;function Gt(e,t){const n=[];return e.replace(Fe,(o,l,i)=>(n.push([i,Ee(i,t)]),o)),n.filter(([o])=>!K(o))}function Kt(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Jt(e,t){return S(this,null,function*(){const{ownerDocument:n,svgStyleElement:o,fontFamilies:l,fontCssTexts:i,tasks:r,font:s}=t;if(!(!n||!o||!l.size))if(s&&s.cssText){const a=ge(s.cssText,t);o.appendChild(n.createTextNode(`${a}
`))}else{const a=Array.from(n.styleSheets).filter(c=>{try{return"cssRules"in c&&!!c.cssRules.length}catch(u){return C(`Error while reading CSS rules from ${c.href}`,u),!1}});yield Promise.all(a.flatMap(c=>Array.from(c.cssRules).map((u,m)=>S(this,null,function*(){if(ct(u)){let g=m+1;const v=u.href;let h="";try{h=yield L(t,{url:v,requestType:"text",responseType:"text"})}catch(x){C(`Error fetch remote css import from ${v}`,x)}const b=h.replace(Fe,(x,f,d)=>x.replace(d,Ee(d,v)));for(const x of en(b))try{c.insertRule(x,x.startsWith("@import")?g+=1:c.cssRules.length)}catch(f){C("Error inserting rule from remote css import",{rule:x,error:f})}}})))),a.flatMap(c=>Array.from(c.cssRules)).filter(c=>{var u;return at(c)&&Ie(c.style.getPropertyValue("src"))&&((u=ke(c.style.getPropertyValue("font-family")))==null?void 0:u.some(m=>l.has(m)))}).forEach(c=>{const u=c,m=i.get(u.cssText);m?o.appendChild(n.createTextNode(`${m}
`)):r.push($e(u.cssText,u.parentStyleSheet?u.parentStyleSheet.href:null,t).then(g=>{g=ge(g,t),i.set(u.cssText,g),o.appendChild(n.createTextNode(`${g}
`))}))})}})}const Qt=/(\/\*[\s\S]*?\*\/)/gi,me=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi;function en(e){if(e==null)return[];const t=[];let n=e.replace(Qt,"");for(;;){const i=me.exec(n);if(!i)break;t.push(i[0])}n=n.replace(me,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let i=o.exec(n);if(i)l.lastIndex=o.lastIndex;else if(i=l.exec(n),i)o.lastIndex=l.lastIndex;else break;t.push(i[0])}return t}const tn=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,nn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ge(e,t){const{font:n}=t,o=n?n==null?void 0:n.preferredFormat:void 0;return o?e.replace(nn,l=>{for(;;){const[i,,r]=tn.exec(l)||[];if(!r)return"";if(r===o)return`src: ${i};`}}):e}function on(e,t){if(P(e)){const n=e.currentSrc||e.src;if(!K(n))return[L(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(o=>{o&&(e.srcset="",e.dataset.originalSrc=n,e.src=o||"")})];(z||te)&&t.drawImageCount++}else if(R(e)&&!K(e.href.baseVal)){const n=e.href.baseVal;return[L(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(o=>{o&&(e.dataset.originalSrc=n,e.href.baseVal=o||"")})]}return[]}const rn=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];function ln(e,t){return rn.map(n=>{const o=e.getPropertyValue(n);return!o||o==="none"?null:((z||te)&&t.drawImageCount++,$e(o,null,t,!0).then(l=>{!l||o===l||e.setProperty(n,l,e.getPropertyPriority(n))}))}).filter(Boolean)}function sn(e,t){var n;const{ownerDocument:o,svgDefsElement:l}=t,i=(n=e.getAttribute("href"))!=null?n:e.getAttribute("xlink:href");if(!i)return[];const[r,s]=i.split("#");if(s){const a=`#${s}`,c=o==null?void 0:o.querySelector(`svg ${a}`);if(r&&e.setAttribute("href",a),l!=null&&l.querySelector(a))return[];if(c)return l==null||l.appendChild(c.cloneNode(!0)),[];if(r)return[L(t,{url:r,responseType:"text"}).then(u=>{l==null||l.insertAdjacentHTML("beforeend",u)})]}return[]}function Pe(e,t){const{tasks:n}=t;N(e)&&((P(e)||Ce(e))&&n.push(...on(e,t)),ut(e)&&n.push(...sn(e,t))),j(e)&&n.push(...ln(e.style,t)),e.childNodes.forEach(o=>{Pe(o,t)})}function an(e,t){return S(this,null,function*(){const n=yield X(e,t);if(N(n.node)&&R(n.node))return n.node;const{ownerDocument:o,log:l,tasks:i,svgStyleElement:r,svgDefsElement:s,svgStyles:a,font:c,progress:u,autoDestruct:m,onCloneNode:g,onEmbedNode:v,onCreateForeignObjectSvg:h}=n;l.time("clone node");const b=yield ne(n.node,n,!0);if(r&&o){let p="";a.forEach((E,T)=>{p+=`${E.join(`,
`)} {
  ${T}
}
`}),r.appendChild(o.createTextNode(p))}l.timeEnd("clone node"),g==null||g(b),c!==!1&&N(b)&&(l.time("embed web font"),yield Jt(b,n),l.timeEnd("embed web font")),l.time("embed node"),Pe(b,n);const x=i.length;let f=0;const d=()=>S(this,null,function*(){for(;;){const p=i.pop();if(!p)break;try{yield p}catch(E){C("Failed to run task",E)}u==null||u(++f,x)}});u==null||u(f,x),yield Promise.all([...Array(4)].map(d)),l.timeEnd("embed node"),v==null||v(b);const y=cn(b,n);return s&&y.insertBefore(s,y.children[0]),r&&y.insertBefore(r,y.children[0]),m&&Yt(n),h==null||h(y),y})}function cn(e,t){const{width:n,height:o}=t,l=Ct(n,o,e.ownerDocument),i=l.ownerDocument.createElementNS(l.namespaceURI,"foreignObject");return i.setAttributeNS(null,"x","0%"),i.setAttributeNS(null,"y","0%"),i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%"),i.append(e),l.appendChild(i),l}function un(e,t){return S(this,null,function*(){var n;const o=yield X(e,t),l=yield an(o),i=Et(l,o.isEnable("removeControlCharacter"));o.autoDestruct||(o.svgStyleElement=_e(o.ownerDocument),o.svgDefsElement=(n=o.ownerDocument)==null?void 0:n.createElementNS(H,"defs"),o.svgStyles.clear());const r=F(i,l.ownerDocument);return yield It(r,o)})}function dn(e,t){return S(this,null,function*(){const n=yield X(e,t),{log:o,quality:l,type:i,dpi:r}=n,s=yield un(n);o.time("canvas to data url");let a=s.toDataURL(i,l);if(["image/png","image/jpeg"].includes(i)&&r&&lt&&it){const[c,u]=a.split(",");let m=0,g=!1;if(i==="image/png"){const y=ot(u);y>=0?(m=Math.ceil((y+28)/3)*4,g=!0):m=33/3*4}else i==="image/jpeg"&&(m=18/3*4);const v=u.substring(0,m),h=u.substring(m),b=window.atob(v),x=new Uint8Array(b.length);for(let y=0;y<x.length;y++)x[y]=b.charCodeAt(y);const f=i==="image/png"?Qe(x,r,g):Ze(x,r),d=window.btoa(String.fromCharCode(...f));a=[c,",",d,h].join("")}return o.timeEnd("canvas to data url"),a})}function fn(e,t){return S(this,null,function*(){return dn(yield X(e,J(I({},t),{type:"image/png"})))})}const hn=w("title",null,`
            POS
        `,-1),mn={class:"p-4 flex space-x-2"},gn=["onClick"],pn=["src"],vn={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white"},wn={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},bn={class:"absolute bottom-0 w-full bg-zinc-800 flex"},yn=["onClick"],xn={class:"fixed w-3/12 inset-y-0 right-0 bg-zinc-800 p-4 no-print"},Sn={class:"h-1/2 relative overflow-y-auto"},Cn={class:"text-white flex justify-between"},En={class:"flex space-x-1"},An=["onClick"],kn={class:"flex space-x-1"},_n=["onClick"],Nn=w("i",{class:"bx bx-trash"},null,-1),Tn=[Nn],Dn={key:0,class:"font-bold text-white absolute bottom-2"},$n={class:"text-2xl font-black"},In=w("hr",{class:"border-gray-500"},null,-1),Fn={key:0,class:"h-1/2 relative"},Pn=w("span",{class:"mt-4 text-white"},"Payment",-1),On={class:"relative block"},jn={class:"grid grid-cols-2 md:grid-cols-5 gap-2 my-2"},Mn={key:0,class:"text-white mt-2"},Ln=["disabled"],Rn={class:"flex justify-center p-4 bg-white text-gray-900 text-3xl font-bold uppercase"},Bn={id:"receipt",class:"w-64 bg-white"},Un=w("div",{class:"flex justify-center"},[w("img",{src:"http://192.168.1.10:8000/storage/images/ikMaavBDw8fiDxbVULaKdjHJPfsOMEYFKPkYCBw1.jpg",class:"w-48",alt:""})],-1),Vn={class:"flex justify-between pl-4 w-full"},zn={class:"w-full"},Wn={class:"mt-2"},qn={class:"font-bold"},Hn={class:"pl-4"},Xn=w("hr",{class:"border-black my-2"},null,-1),Yn=w("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1),Kn=Object.assign({layout:null},{__name:"POS",props:{items:Object,categories:Object},setup(e){const t=e,n=D(null),o=D(null);D(null);const l=D(!1),i=f=>{o.value=f,n.value=t.items[f]},r=D(null),s=Oe(()=>{var f;return(f=r.value)==null?void 0:f.reduce((d,y)=>d+y.price*y.count,0)}),a=D(0),c=D(!1),u=D(null),m=()=>{c.value=!0},g=f=>{if(r.value){var d=r.value.findIndex(y=>y.id===f.id);d==-1?(f.count=1,r.value.push(f)):r.value[d].count+=1}else f.count=1,r.value=[f]},v=f=>{var d=r.value.findIndex(y=>y.id===f.id);r.value[d].count-=1,r.value[d].count===0&&r.value.splice(d,1)},h=f=>{var d=r.value.findIndex(y=>y.id===f.id);r.value.splice(d,1)},b=()=>{x(),Ue.post(route("transaction.save"),{items:r.value,payment:a.value}).then(f=>{u.value=f.data.message}).catch(f=>{console.log(f)}).finally(()=>{r.value=null,a.value=null,m()})};je(()=>{i(t.categories[0].name);let f=navigator.userAgent.toLowerCase();l.value=f.indexOf("android")>-1});const x=()=>{const f=document.getElementById("receipt");fn(f,{quality:1,scale:2}).then(d=>{console.log(d),l&&(window.location.href="rawbt:"+d)})};return(f,d)=>{var y;return k(),_(O,null,[le(Me(Ve),null,{default:ie(()=>[hn]),_:1}),w("div",{class:"fixed w-9/12 inset-y-0 left-0 select-none bg-white",onContextmenu:d[2]||(d[2]=U(()=>{},["prevent"]))},[w("div",mn,[(k(!0),_(O,null,B(n.value,p=>(k(),_("div",{class:"border flex w-48 h-48 relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:E=>g(p),ontouchstart:""},[w("img",{draggable:"false",onContextmenu:d[0]||(d[0]=U(()=>{},["prevent"])),onDragstart:d[1]||(d[1]=U(()=>{},["prevent"])),src:`../storage/${p.pic}`,class:"w-48 h-48 object-cover",height:"25px",width:"25px",alt:""},null,40,pn),w("p",vn,A(p.name),1),w("span",wn,A(p.price),1)],8,gn))),256))]),w("div",bn,[(k(!0),_(O,null,B(e.categories,p=>(k(),_("div",{class:se([{"bg-blue-500 text-white font-bold":o.value===p.name},"py-2 px-4 text-zinc-300 border-r border-zinc-700"]),onClick:E=>i(p.name)},A(p.name),11,yn))),256))])],32),w("div",xn,[w("div",Sn,[(k(!0),_(O,null,B(r.value,p=>(k(),_("div",Cn,[w("div",En,[w("button",{onClick:E=>v(p),class:"w-4 h-4 bg-blue-500 inline-flex justify-center items-center"},"-",8,An),w("span",null,A(`${p.name} x${p.count}`),1)]),w("div",kn,[w("span",null,A(p.price*p.count),1),w("button",{onClick:E=>h(p),class:"w-5 h-5 bg-red-500 inline-flex justify-center items-center"},Tn,8,_n)])]))),256)),s.value>0?(k(),_("p",Dn,[Le("Total: "),w("span",$n,A(s.value),1)])):Z("",!0)]),In,s.value?(k(),_("div",Fn,[Pn,w("label",On,[Re(w("input",{"onUpdate:modelValue":d[3]||(d[3]=p=>a.value=p),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-gray-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"P 0.00",type:"number",name:"payment"},null,512),[[Be,a.value]]),w("i",{onClick:d[4]||(d[4]=U(p=>a.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),w("div",jn,[w("button",{class:"p-2 text-sm font-bold text-gray-800 bg-white rounded-md active:scale-95",onClick:d[5]||(d[5]=p=>a.value+=50)},"50"),w("button",{class:"p-2 text-sm font-bold text-gray-800 bg-white rounded-md active:scale-95",onClick:d[6]||(d[6]=p=>a.value+=100)},"100"),w("button",{class:"p-2 text-sm font-bold text-gray-800 bg-white rounded-md active:scale-95",onClick:d[7]||(d[7]=p=>a.value+=200)},"200"),w("button",{class:"p-2 text-sm font-bold text-gray-800 bg-white rounded-md active:scale-95",onClick:d[8]||(d[8]=p=>a.value+=500)},"500"),w("button",{class:"p-2 text-xs font-bold text-gray-800 bg-white rounded-md active:scale-95",onClick:d[9]||(d[9]=p=>a.value+=1e3)},"1000"),w("button",{class:"bg-white rounded-md w-full p-2 font-bold text-sm active:scale-[0.98] col-span-5",onClick:d[10]||(d[10]=p=>a.value=s.value)},"Exact amount")]),a.value>s.value?(k(),_("p",Mn,"Change: "+A(s.value&&a.value-s.value),1)):Z("",!0),w("button",{class:se(["bg-white rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98] absolute bottom-0 right-0",{"opacity-50":s.value&&a.value<s.value}]),onClick:b,disabled:s.value&&a.value<s.value},"Place order",10,Ln)])):Z("",!0)]),le(ze,{"max-width":"sm",show:c.value,onClose:d[11]||(d[11]=p=>c.value=!1),class:"no-print"},{default:ie(()=>[w("div",Rn,A(u.value),1)]),_:1},8,["show"]),w("div",Bn,[Un,w("div",null,[(k(!0),_(O,null,B(r.value,p=>(k(),_("div",null,[w("p",null,A(p.name),1),w("div",Vn,[w("p",zn,A(p.price.toFixed(2))+" x"+A(p.count),1),w("p",null,A((p.count*p.price).toFixed(2)),1)])]))),256)),w("div",Wn,[w("p",qn,"TOTAL: "+A((y=s.value)==null?void 0:y.toFixed(2)),1),w("div",Hn,[w("p",null,"CASH: "+A(Number(a.value).toFixed(2)),1),w("p",null,"CHANGE: "+A((Number(a.value)-s.value).toFixed(2)),1)])]),Xn,Yn])])],64)}}});export{Kn as default};
