import{r as x,T as j,B as z,o as a,f as r,a as b,w as g,u as d,b as e,t as n,g as F,F as m,k as v,Z as T,d as O,s as I,O as w}from"./app-H_jClLVo.js";import{_ as M}from"./Modal-rOHuO3Mg.js";const N=e("title",null,`
            Sales
        `,-1),B={class:"max-w-7xl mx-auto mt-8 px-6 lg:px-8"},V={class:"flex space-x-2 items-center mb-4"},L={class:"dark:text-white font-semibold"},q={key:0,class:"dark:text-white w-full bg-white dark:bg-zinc-800 text-left text-sm"},A=e("thead",null,[e("tr",null,[e("th",{class:"p-4"},"Customer"),e("th",{class:"p-4"},"Time"),e("th",{class:"p-4"},"Date"),e("th",{class:"p-4"},"Orders"),e("th",{class:"p-4"},"Quantity"),e("th",{class:"p-4"},"Gross Sales"),e("th",{class:"p-4"},"Net Income"),e("th",{class:"p-4"},"Actions")])],-1),E={class:"bg-white dark:bg-zinc-800 border-b border-zinc-600"},R={class:"px-4 py-2"},W={class:"px-4 py-2"},G={class:"text-xs opacity-70"},H={class:"px-4 py-2"},K={class:"px-4 py-2"},Q={class:"px-4 py-2"},Z={class:"px-4 py-2"},J={class:"px-4 py-2"},P={class:"px-4 py-2"},U={class:"flex space-x-2"},X=e("i",{class:"bx bx-printer dark:text-white inline-flex justify-center items-center p-2 rounded-full bg-green-500 hover:bg-green-700 active:bg-green-900 duration-200 ease-in-out cursor-pointer"},null,-1),Y=["onClick"],ee={class:"bg-white font-bold dark:bg-zinc-800 border-b border-zinc-600"},te={class:"px-4 py-2"},se=e("td",{class:"px-4 py-2"},null,-1),oe=e("td",{class:"px-4 py-2"},null,-1),ne=e("td",{class:"px-4 py-2"},null,-1),le=e("td",{class:"px-4 py-2"},null,-1),ae={class:"px-4 py-2"},re={class:"px-4 py-2"},ce=e("td",{class:"px-4 py-2"},null,-1),ie={key:1,class:"flex justify-center mt-14"},de=e("div",{class:"flex justify-center items-center flex-col text-zinc-700 dark:text-zinc-400"},[e("i",{class:"bx bx-ghost text-7xl"}),e("p",null,"Oohh... It's empty in here.")],-1),ue=[de],he={class:"dark:text-white p-6"},xe=e("p",{class:"font-bold"},"Confirmation",-1),pe=e("p",{class:"mt-4"},"This transaction record will be deleted. Enter the code to continue.",-1),fe={class:"flex justify-center mt-4 font-bold tracking-wider text-4xl"},be={__name:"Sales",props:{transactions:Object,filters:Object,total:Object},setup(c){const u=c,y=(l,s)=>{const t=Math.ceil(l),o=Math.floor(s);return Math.floor(Math.random()*(o-t+1)+t)},h=x(!1),_=x(null),p=x(""),f=x(null),k=l=>{_.value=l,p.value=y(1e5,999999),h.value=!0,I(()=>f.value.focus())},D=l=>{l==p.value&&w.delete(route("order.cancel",_.value.id),{onStart:()=>f.value.disabled=!0,onSuccess:()=>h.value=!1})},i=u.filters.date?new Date(u.filters.date):new Date,$=i<new Date(new Date().setHours(0,0,0,0)),C=j({search:u.filters.search,date:u.filters.date});z(C,l=>{w.get(route("sales"),l,{preserveState:!0,preserveScroll:!0,replace:!0})},{deep:!0});const S=o=>{var o=parseInt(o,10),s=Math.floor(o/3600),t=Math.floor((o-s*3600)/60),o=o-s*3600-t*60;return s?t?`${s}h ${t}m ${o}s`:`${s}h ${o}s`:t?`${t}m ${o}s`:`${o}s`};return(l,s)=>(a(),r(m,null,[b(d(T),null,{default:g(()=>[N]),_:1}),e("div",B,[e("div",V,[e("i",{onClick:s[0]||(s[0]=t=>l.$inertia.get(l.route("sales"),{date:new Date(d(i).setDate(d(i).getDate()-1)).toLocaleDateString()})),class:"bx bxs-chevron-left dark:text-white hover:bg-white hover:text-zinc-900 w-6 h-6 inline-flex justify-center items-center rounded-full border dark:border-white"}),e("p",L,n(d(i).toWordFormat()),1),$?(a(),r("i",{key:0,onClick:s[1]||(s[1]=t=>l.$inertia.get(l.route("sales"),{date:new Date(d(i).setDate(d(i).getDate()+1)).toLocaleDateString()})),class:"bx bxs-chevron-right dark:text-white hover:bg-white hover:text-zinc-900 w-6 h-6 inline-flex justify-center items-center rounded-full border dark:border-white"})):F("",!0)]),c.transactions.length?(a(),r("table",q,[A,e("tbody",null,[(a(!0),r(m,null,v(c.transactions,t=>(a(),r("tr",E,[e("td",R,n(t.name??`#${t.number}`),1),e("td",W,[O(n(new Date(t.created_at).toTimeFormat())+" ",1),e("span",G,n(S(t.elapsed)),1)]),e("td",H,n(new Date(t.created_at).toWordFormat()),1),e("td",K,[e("div",null,[(a(!0),r(m,null,v(t.items,o=>(a(),r("p",null,n(`${o.name} x${o.quantity}`),1))),256))])]),e("td",Q,n(t.quantity),1),e("td",Z,n(t.gross.amountFormat()),1),e("td",J,n((t.gross-t.cost).amountFormat()),1),e("td",P,[e("div",U,[X,e("i",{onClick:o=>k(t),class:"bx bx-trash dark:text-white inline-flex justify-center items-center p-2 rounded-full bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out cursor-pointer"},null,8,Y)])])]))),256)),e("tr",ee,[e("td",te,n(c.transactions.length),1),se,oe,ne,le,e("td",ae,n(c.total.gross.amountFormat()),1),e("td",re,n((c.total.gross-c.total.cost).amountFormat()),1),ce])])])):(a(),r("div",ie,ue))]),b(M,{show:h.value,"max-width":"md",onClose:s[3]||(s[3]=t=>h.value=!1)},{default:g(()=>[e("div",he,[xe,pe,e("div",fe,n(p.value),1),e("input",{ref_key:"codeInput",ref:f,onKeyup:s[2]||(s[2]=t=>D(t.target.value)),class:"bg-zinc-900 w-full rounded-lg mt-2",type:"text"},null,544)])]),_:1},8,["show"])],64))}};export{be as default};
