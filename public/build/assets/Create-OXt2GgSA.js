import{T as B,k as V,r as f,o as a,f as r,a as s,w as M,u as n,b as t,g as h,p as z,y as N,F as u,h as g,z as C,A,e as D,Z as F,t as L}from"./app-bx6r09WD.js";import{_ as c}from"./InputLabel-B5yz-yQR.js";import{_ as m}from"./TextInput-LJVBlx_m.js";import{c as v}from"./colors-BsE1jhET.js";const P={class:"max-w-screen-lg mx-auto py-8"},R={class:"grid grid-cols-3 gap-4"},O={key:0,class:"bx bx-plus font-bold text-3xl dark:text-white"},T=["src"],E={class:"flex mt-2"},Z=["value"],q={class:"flex mt-4 items-center space-x-2"},G={class:"col-span-2 p-6 rounded-lg bg-white dark:bg-zinc-800 h-min"},H={class:"grid grid-cols-3 gap-1"},J=["onClick"],K={id:"costings"},Q=["value"],le={__name:"Create",props:{suggestions:Object},setup(U){const _=Object.keys(v).filter(i=>typeof v[i]=="object"),I=new URLSearchParams(window.location.search),o=B({category_id:I.get("category"),image:"",name:"",price:"",color:"",menu:"",breakdown:[]}),b=V(()=>o.breakdown.reduce((i,e)=>i+e.cost,0)),w=V(()=>o.price-b.value),k=f(""),x=f(null),y=f(null),j=()=>{if(o.image){let i=new FileReader;i.readAsDataURL(o.image),i.onload=e=>{y.value=e.target.result}}},S=()=>{o.breakdown.push({name:"",cost:""})},$=i=>{o.breakdown.splice(i,1)};return(i,e)=>(a(),r(u,null,[s(n(F),null,{default:M(()=>[...e[10]||(e[10]=[t("title",null,`
            Add new item
        `,-1)])]),_:1}),t("div",P,[e[13]||(e[13]=t("p",{class:"dark:text-white mb-8"},"New item",-1)),t("div",R,[t("div",null,[t("div",{onClick:e[0]||(e[0]=l=>x.value.click()),class:"h-72 w-72 rounded-lg overflow-hidden bg-white dark:bg-zinc-700 flex justify-center items-center"},[n(o).image?h("",!0):(a(),r("i",O)),n(o).image?(a(),r("img",{key:1,src:y.value,class:"w-72 h-72 object-cover",alt:""},null,8,T)):h("",!0)]),s(c,{class:"mt-4",for:"color",value:"Color"}),t("div",E,[z(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>n(o).color=l),id:"color",name:"color",onChange:e[2]||(e[2]=l=>k.value=l.target.value),class:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 dark:text-white"},[(a(!0),r(u,null,g(n(_),l=>(a(),r(u,null,[(a(!0),r(u,null,g(n(v)[l],d=>(a(),r("option",{style:C(`background: ${d} !important`),value:d},L(d),13,Z))),256))],64))),256))],544),[[N,n(o).color]]),t("div",{class:"w-10 h-10 ml-4",style:C(`background-color: ${k.value} !important`)},null,4)]),t("div",q,[z(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>n(o).menu=l),class:"w-4 h-4 text-blue-600 bg-zinc-100 border-zinc-300 rounded-sm focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-zinc-800 focus:ring-2 dark:bg-zinc-700 dark:border-zinc-600 appearance-none",type:"checkbox",name:"showInMenu",id:"showInMenu"},null,512),[[A,n(o).menu]]),s(c,{for:"showInMenu",value:"Show in menu"})])]),t("div",G,[t("form",{onSubmit:e[9]||(e[9]=D(l=>n(o).post(i.route("items.store")),["prevent"]))},[t("input",{ref_key:"newImage",ref:x,onInput:e[4]||(e[4]=l=>n(o).image=l.target.files[0]),onChange:j,type:"file",accept:"image/*",hidden:""},null,544),s(c,{for:"name",value:"Name"}),s(m,{id:"name",type:"text",modelValue:n(o).name,"onUpdate:modelValue":e[5]||(e[5]=l=>n(o).name=l),class:"mt-2 w-full block"},null,8,["modelValue"]),t("div",H,[t("div",null,[s(c,{class:"mt-4",for:"price",value:"Price"}),s(m,{id:"price",type:"number",modelValue:n(o).price,"onUpdate:modelValue":e[6]||(e[6]=l=>n(o).price=l),class:"mt-2 w-full block"},null,8,["modelValue"])]),t("div",null,[s(c,{class:"mt-4",for:"cost",value:"Cost"}),s(m,{disabled:"",id:"cost",type:"number",modelValue:b.value,"onUpdate:modelValue":e[7]||(e[7]=l=>b.value=l),class:"mt-2 w-full block disabled:bg-zinc-700"},null,8,["modelValue"])]),t("div",null,[s(c,{class:"mt-4",for:"profit",value:"Profit"}),s(m,{disabled:"",id:"profit",type:"number",modelValue:w.value,"onUpdate:modelValue":e[8]||(e[8]=l=>w.value=l),class:"mt-2 w-full block disabled:bg-zinc-700"},null,8,["modelValue"])])]),e[11]||(e[11]=t("p",{class:"block font-medium text-sm text-zinc-700 dark:text-zinc-300 mt-4 select-none"},"Breakdown of cost",-1)),(a(!0),r(u,null,g(n(o).breakdown,(l,d)=>(a(),r("div",{key:d,class:"grid grid-cols-11 gap-2 m-2"},[s(m,{list:"costings",type:"text",modelValue:l.name,"onUpdate:modelValue":p=>l.name=p,class:"w-full block col-span-5",placeholder:"Item"},null,8,["modelValue","onUpdate:modelValue"]),s(m,{type:"number",modelValue:l.cost,"onUpdate:modelValue":p=>l.cost=p,class:"w-full block col-span-5",placeholder:"Cost"},null,8,["modelValue","onUpdate:modelValue"]),t("i",{onClick:p=>$(d),class:"bx bx-x p-2 w-8 h-8 rounded-lg text-white bg-red-500 hover:bg-red-700 duration-200 ease-in-out inline-flex justify-center items-center"},null,8,J)]))),128)),t("button",{type:"button",class:"text-xs px-4 py-1 rounded-lg bg-zinc-400 text-white",onClick:S},"Add"),e[12]||(e[12]=t("div",{class:"flex justify-end"},[t("button",{"type-":"submit",class:"rounded-lg px-4 py-2 bg-green-500 hover:bg-green-700 active:bg-green-900 text-white text-sm duration-200 ease-in-out"},"Save")],-1))],32)])])]),t("datalist",K,[(a(!0),r(u,null,g(U.suggestions,l=>(a(),r("option",{value:l},null,8,Q))),256))])],64))}};export{le as default};
