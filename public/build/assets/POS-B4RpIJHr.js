import{r as D,h as Le,y as Me,o as N,f as T,a as se,w as ie,u as Re,b as u,F as L,k as q,e as M,d as ze,t as k,g as R,i as W,G as ae,H as ce,E as Ue,Z as Be,q as Ve,n as qe}from"./app-Dk50twIb.js";import{_ as We}from"./Modal-BGeoJb9Y.js";var He=Object.defineProperty,Xe=Object.defineProperties,Ge=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,Ze=Math.pow,ue=(e,t,n)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{for(var n in t||(t={}))we.call(t,n)&&ue(e,n,t[n]);if(H)for(var n of H(t))be.call(t,n)&&ue(e,n,t[n]);return e},ee=(e,t)=>Xe(e,Ge(t)),Qe=(e,t)=>{var n={};for(var o in e)we.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&H)for(var o of H(e))t.indexOf(o)<0&&be.call(e,o)&&(n[o]=e[o]);return n},E=(e,t,n)=>new Promise((o,l)=>{var s=c=>{try{i(n.next(c))}catch(a){l(a)}},r=c=>{try{i(n.throw(c))}catch(a){l(a)}},i=c=>c.done?o(c.value):Promise.resolve(c.value).then(s,r);i((n=n.apply(e,t)).next())});function Ye(e,t){return e[13]=1,e[14]=t>>8,e[15]=t&255,e[16]=t>>8,e[17]=t&255,e}const ye=112,xe=72,_e=89,Se=115;let J;function Je(){const e=new Int32Array(256);for(let t=0;t<256;t++){let n=t;for(let o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e}function Ke(e){let t=-1;J||(J=Je());for(let n=0;n<e.length;n++)t=J[(t^e[n])&255]^t>>>8;return t^-1}function et(e){const t=e.length-1;for(let n=t;n>=4;n--)if(e[n-4]===9&&e[n-3]===ye&&e[n-2]===xe&&e[n-1]===_e&&e[n]===Se)return n-3;return 0}function tt(e,t,n=!1){const o=new Uint8Array(13);t*=39.3701,o[0]=ye,o[1]=xe,o[2]=_e,o[3]=Se,o[4]=t>>>24,o[5]=t>>>16,o[6]=t>>>8,o[7]=t&255,o[8]=o[4],o[9]=o[5],o[10]=o[6],o[11]=o[7],o[12]=1;const l=Ke(o),s=new Uint8Array(4);if(s[0]=l>>>24,s[1]=l>>>16,s[2]=l>>>8,s[3]=l&255,n){const r=et(e);return e.set(o,r),e.set(s,r+13),e}else{const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const i=new Uint8Array(54);return i.set(e,0),i.set(r,33),i.set(o,37),i.set(s,50),i}}const nt="AAlwSFlz",ot="AAAJcEhZ",rt="AAAACXBI";function lt(e){let t=e.indexOf(nt);return t===-1&&(t=e.indexOf(ot)),t===-1&&(t=e.indexOf(rt)),t}const te="[modern-screenshot]",I=typeof window<"u",st=I&&"Worker"in window,it=I&&"atob"in window,at=I&&"btoa"in window;var de;const ne=I?(de=window.navigator)==null?void 0:de.userAgent:"",Ce=ne.includes("Chrome"),X=ne.includes("AppleWebKit")&&!Ce,oe=ne.includes("Firefox"),ct=e=>e&&"__CONTEXT__"in e,ut=e=>e.constructor.name==="CSSFontFaceRule",dt=e=>e.constructor.name==="CSSImportRule",$=e=>e.nodeType===1,V=e=>typeof e.className=="object",ke=e=>e.tagName==="image",ft=e=>e.tagName==="use",z=e=>$(e)&&typeof e.style<"u"&&!V(e),mt=e=>e.nodeType===8,ht=e=>e.nodeType===3,O=e=>e.tagName==="IMG",G=e=>e.tagName==="VIDEO",gt=e=>e.tagName==="CANVAS",fe=e=>e.tagName==="TEXTAREA",pt=e=>e.tagName==="INPUT",vt=e=>e.tagName==="STYLE",wt=e=>e.tagName==="SCRIPT",bt=e=>e.tagName==="SELECT",yt=e=>e.tagName==="SLOT",xt=e=>e.tagName==="IFRAME",A=(...e)=>console.warn(te,...e),_t=e=>console.time(`${te} ${e}`),St=e=>console.timeEnd(`${te} ${e}`),Ct=e=>{var t;const n=(t=e==null?void 0:e.createElement)==null?void 0:t.call(e,"canvas");return n&&(n.height=n.width=1),n&&"toDataURL"in n&&!!n.toDataURL("image/webp").includes("image/webp")},K=e=>e.startsWith("data:");function Ee(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(I&&e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i)||!I)return e;const n=Z().implementation.createHTMLDocument(),o=n.createElement("base"),l=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(l),t&&(o.href=t),l.href=e,l.href}function Z(e){var t;return(t=e&&$(e)?e==null?void 0:e.ownerDocument:e)!=null?t:window.document}const Q="http://www.w3.org/2000/svg";function kt(e,t,n){const o=Z(n).createElementNS(Q,"svg");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"viewBox",`0 0 ${e} ${t}`),o}function Et(e,t){let n=new XMLSerializer().serializeToString(e);return t&&(n=n.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/ug,"")),`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}function At(e,t){return new Promise((n,o)=>{const l=new FileReader;l.onload=()=>n(l.result),l.onerror=()=>o(l.error),l.onabort=()=>o(new Error(`Failed read blob to ${t}`)),l.readAsDataURL(e)})}const Nt=e=>At(e,"dataUrl");function j(e,t){const n=Z(t).createElement("img");return n.decoding="sync",n.loading="eager",n.src=e,n}function U(e,t){return new Promise(n=>{const{timeout:o,ownerDocument:l,onError:s}=t??{},r=typeof e=="string"?j(e,Z(l)):e;let i=null,c=null;function a(){n(r),i&&clearTimeout(i),c==null||c()}if(o&&(i=setTimeout(a,o)),G(r)){const d=r.currentSrc||r.src;if(!d)return r.poster?U(r.poster,t).then(n):a();if(r.readyState>=2)return a();const f=a,m=v=>{A("Failed video load",d,v),s==null||s(v),a()};c=()=>{r.removeEventListener("loadeddata",f),r.removeEventListener("error",m)},r.addEventListener("loadeddata",f,{once:!0}),r.addEventListener("error",m,{once:!0})}else{const d=ke(r)?r.href.baseVal:r.currentSrc||r.src;if(!d)return a();const f=()=>E(this,null,function*(){if(O(r)&&"decode"in r)try{yield r.decode()}catch(v){A("Failed to decode image, trying to render anyway",r.dataset.originalSrc||d,v)}a()}),m=v=>{A("Failed image load",r.dataset.originalSrc||d,v),a()};if(O(r)&&r.complete)return f();c=()=>{r.removeEventListener("load",f),r.removeEventListener("error",m)},r.addEventListener("load",f,{once:!0}),r.addEventListener("error",m,{once:!0})}})}function Tt(e,t){return E(this,null,function*(){z(e)&&(O(e)||G(e)?yield U(e,{timeout:t}):yield Promise.all(["img","video"].flatMap(n=>Array.from(e.querySelectorAll(n)).map(o=>U(o,{timeout:t})))))})}const Ae=function(){let e=0;const t=()=>`0000${(Math.random()*Ze(36,4)<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)}();function Ne(e){return e==null?void 0:e.split(",").map(t=>t.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}function Dt(e){return{time:t=>e&&_t(t),timeEnd:t=>e&&St(t),warn:(...t)=>e&&A(...t)}}function $t(e){return{cache:e?"no-cache":"force-cache"}}function Y(e,t){return E(this,null,function*(){return ct(e)?e:It(e,ee(P({},t),{autoDestruct:!0}))})}function It(e,t){return E(this,null,function*(){var n,o,l,s,r;const{scale:i=1,workerUrl:c,workerNumber:a=1}=t||{},d=!!(t!=null&&t.debug),f=(n=t==null?void 0:t.features)!=null?n:!0,m=(o=e.ownerDocument)!=null?o:I?window.document:void 0,v=(s=(l=e.ownerDocument)==null?void 0:l.defaultView)!=null?s:I?window:void 0,h=new Map,w=ee(P({width:0,height:0,quality:1,type:"image/png",scale:i,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:d,fetch:P({requestInit:$t((r=t==null?void 0:t.fetch)==null?void 0:r.bypassingCache),placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1},t==null?void 0:t.fetch),fetchFn:null,font:{},drawImageInterval:100,workerUrl:null,workerNumber:a,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,includeStyleProperties:null,autoDestruct:!1},t),{__CONTEXT__:!0,log:Dt(d),node:e,ownerDocument:m,ownerWindow:v,dpi:i===1?null:96*i,svgStyleElement:Te(m),svgDefsElement:m==null?void 0:m.createElementNS(Q,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...new Array(st&&c&&a?a:0)].map(()=>{try{const _=new Worker(c);return _.onmessage=S=>E(this,null,function*(){var C,y,g,p;const{url:F,result:le}=S.data;le?(y=(C=h.get(F))==null?void 0:C.resolve)==null||y.call(C,le):(p=(g=h.get(F))==null?void 0:g.reject)==null||p.call(g,new Error(`Error receiving message from worker: ${F}`))}),_.onmessageerror=S=>{var C,y;const{url:g}=S.data;(y=(C=h.get(g))==null?void 0:C.reject)==null||y.call(C,new Error(`Error receiving message from worker: ${g}`))},_}catch(_){return A("Failed to new Worker",_),null}}).filter(Boolean),fontFamilies:new Set,fontCssTexts:new Map,acceptOfImage:`${[Ct(m)&&"image/webp","image/svg+xml","image/*","*/*"].filter(Boolean).join(",")};q=0.8`,requests:h,drawImageCount:0,tasks:[],features:f,isEnable:_=>{var S,C;return _==="restoreScrollPosition"?typeof f=="boolean"?!1:(S=f[_])!=null?S:!1:typeof f=="boolean"?f:(C=f[_])!=null?C:!0}});w.log.time("wait until load"),yield Tt(e,w.timeout),w.log.timeEnd("wait until load");const{width:x,height:b}=Ft(e,w);return w.width=x,w.height=b,w})}function Te(e){if(!e)return;const t=e.createElement("style"),n=t.ownerDocument.createTextNode(`
.______background-clip--text {
  background-clip: text;
  -webkit-background-clip: text;
}
`);return t.appendChild(n),t}function Ft(e,t){let{width:n,height:o}=t;if($(e)&&(!n||!o)){const l=e.getBoundingClientRect();n=n||l.width||Number(e.getAttribute("width"))||0,o=o||l.height||Number(e.getAttribute("height"))||0}return{width:n,height:o}}function Pt(e,t){return E(this,null,function*(){const{log:n,timeout:o,drawImageCount:l,drawImageInterval:s}=t;n.time("image to canvas");const r=yield U(e,{timeout:o}),{canvas:i,context2d:c}=jt(e.ownerDocument,t),a=()=>{try{c==null||c.drawImage(r,0,0,i.width,i.height)}catch(d){A("Failed to drawImage",d)}};if(a(),t.isEnable("fixSvgXmlDecode"))for(let d=0;d<l;d++)yield new Promise(f=>{setTimeout(()=>{a(),f()},d+s)});return t.drawImageCount=0,n.timeEnd("image to canvas"),i})}function jt(e,t){const{width:n,height:o,scale:l,backgroundColor:s,maximumCanvasSize:r}=t,i=e.createElement("canvas");i.width=Math.floor(n*l),i.height=Math.floor(o*l),i.style.width=`${n}px`,i.style.height=`${o}px`,r&&(i.width>r||i.height>r)&&(i.width>r&&i.height>r?i.width>i.height?(i.height*=r/i.width,i.width=r):(i.width*=r/i.height,i.height=r):i.width>r?(i.height*=r/i.width,i.width=r):(i.width*=r/i.height,i.height=r));const c=i.getContext("2d");return c&&s&&(c.fillStyle=s,c.fillRect(0,0,i.width,i.height)),{canvas:i,context2d:c}}const Ot=["width","height","-webkit-text-fill-color"],Lt=["stroke","fill"];function De(e,t,n){var o;const{defaultComputedStyles:l,ownerDocument:s}=n,r=e.nodeName.toLowerCase(),i=V(e)&&r!=="svg",c=i?Lt.map(b=>[b,e.getAttribute(b)]).filter(([,b])=>b!==null):[],a=[i&&"svg",r,c.map((b,_)=>`${b}=${_}`).join(","),t].filter(Boolean).join(":");if(l.has(a))return l.get(a);let d=n.sandbox;if(!d)try{s&&(d=s.createElement("iframe"),d.id=`__SANDBOX__-${Ae()}`,d.width="0",d.height="0",d.style.visibility="hidden",d.style.position="fixed",s.body.appendChild(d),(o=d.contentWindow)==null||o.document.write('<!DOCTYPE html><meta charset="UTF-8"><title></title><body>'),n.sandbox=d)}catch(b){A("Failed to create iframe sandbox",b)}if(!d)return new Map;const f=d.contentWindow;if(!f)return new Map;const m=f.document;let v,h;i?(v=m.createElementNS(Q,"svg"),h=v.ownerDocument.createElementNS(v.namespaceURI,r),c.forEach(([b,_])=>{h.setAttributeNS(null,b,_)}),v.appendChild(h)):v=h=m.createElement(r),h.textContent=" ",m.body.appendChild(v);const w=f.getComputedStyle(h,t),x=new Map;for(let b=w.length,_=0;_<b;_++){const S=w.item(_);Ot.includes(S)||x.set(S,w.getPropertyValue(S))}return m.body.removeChild(v),l.set(a,x),x}function $e(e,t,n){var o;const l=new Map,s=[],r=new Map;if(n)for(const c of n)i(c);else for(let c=e.length,a=0;a<c;a++){const d=e.item(a);i(d)}for(let c=s.length,a=0;a<c;a++)(o=r.get(s[a]))==null||o.forEach((d,f)=>l.set(f,d));function i(c){const a=e.getPropertyValue(c),d=e.getPropertyPriority(c),f=c.lastIndexOf("-"),m=f>-1?c.substring(0,f):void 0;if(m){let v=r.get(m);v||(v=new Map,r.set(m,v)),v.set(c,[a,d])}t.get(c)===a&&!d||(m?s.push(m):l.set(c,[a,d]))}return l}const Mt=[":before",":after"],Rt=[":-webkit-scrollbar",":-webkit-scrollbar-button",":-webkit-scrollbar-thumb",":-webkit-scrollbar-track",":-webkit-scrollbar-track-piece",":-webkit-scrollbar-corner",":-webkit-resizer"];function zt(e,t,n,o){const{ownerWindow:l,svgStyleElement:s,svgStyles:r,currentNodeStyle:i}=o;if(!s||!l)return;function c(a){var d;const f=l.getComputedStyle(e,a);let m=f.getPropertyValue("content");if(!m||m==="none")return;m=m.replace(/(')|(")|(counter\(.+\))/g,"");const v=[Ae()],h=De(e,a,o);i==null||i.forEach((S,C)=>{h.delete(C)});const w=$e(f,h,o.includeStyleProperties);w.delete("content"),w.delete("-webkit-locale"),((d=w.get("background-clip"))==null?void 0:d[0])==="text"&&t.classList.add("______background-clip--text");const x=[`content: '${m}';`];if(w.forEach(([S,C],y)=>{x.push(`${y}: ${S}${C?" !important":""};`)}),x.length===1)return;try{t.className=[t.className,...v].join(" ")}catch{return}const b=x.join(`
  `);let _=r.get(b);_||(_=[],r.set(b,_)),_.push(`.${v[0]}:${a}`)}Mt.forEach(c),n&&Rt.forEach(c)}function Ut(e,t){fe(e)&&(t.innerHTML=e.value),(fe(e)||pt(e)||bt(e))&&t.setAttribute("value",e.value)}function Bt(e,t,n,o){var l,s,r,i;const{ownerWindow:c,includeStyleProperties:a,currentParentNodeStyle:d}=o,f=t.style,m=c.getComputedStyle(e),v=De(e,null,o);d==null||d.forEach((w,x)=>{v.delete(x)});const h=$e(m,v,a);return h.delete("transition-property"),h.delete("all"),h.delete("d"),h.delete("content"),n&&(h.delete("margin-top"),h.delete("margin-right"),h.delete("margin-bottom"),h.delete("margin-left"),h.delete("margin-block-start"),h.delete("margin-block-end"),h.delete("margin-inline-start"),h.delete("margin-inline-end"),h.set("box-sizing",["border-box",""])),((l=h.get("background-clip"))==null?void 0:l[0])==="text"&&t.classList.add("______background-clip--text"),Ce&&(h.has("font-kerning")||h.set("font-kerning",["normal",""]),(((s=h.get("overflow-x"))==null?void 0:s[0])==="hidden"||((r=h.get("overflow-y"))==null?void 0:r[0])==="hidden")&&((i=h.get("text-overflow"))==null?void 0:i[0])==="ellipsis"&&e.scrollWidth===e.clientWidth&&h.set("text-overflow",["clip",""])),h.forEach(([w,x],b)=>{f.setProperty(b,w,x)}),h}function Vt(e,t){var n;try{if((n=e==null?void 0:e.contentDocument)!=null&&n.body)return re(e.contentDocument.body,t)}catch(o){A("Failed to clone iframe",o)}return e.cloneNode(!1)}function Ie(e){if(e.ownerDocument)try{const l=e.toDataURL();if(l!=="data:,")return j(l,e.ownerDocument)}catch{}const t=e.cloneNode(!1),n=e.getContext("2d"),o=t.getContext("2d");try{return n&&o&&o.putImageData(n.getImageData(0,0,e.width,e.height),0,0),t}catch(l){A("Failed to clone canvas",l)}return t}function qt(e){return E(this,null,function*(){if(e.ownerDocument&&!e.currentSrc&&e.poster)return j(e.poster,e.ownerDocument);const t=e.cloneNode(!1);t.crossOrigin="anonymous",e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc);const n=t.ownerDocument;if(n){let o=!0;if(yield U(t,{onError:()=>o=!1}),!o)return e.poster?j(e.poster,e.ownerDocument):t;t.currentTime=e.currentTime,yield new Promise(s=>{t.addEventListener("seeked",s,{once:!0})});const l=n.createElement("canvas");l.width=e.offsetWidth,l.height=e.offsetHeight;try{const s=l.getContext("2d");s&&s.drawImage(t,0,0,l.width,l.height)}catch(s){return A("Failed to clone video",s),e.poster?j(e.poster,e.ownerDocument):t}return Ie(l)}return t})}function Wt(e){const t=e.cloneNode(!1);return e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager"),t}function Ht(e,t){return gt(e)?Ie(e):xt(e)?Vt(e,t):O(e)?Wt(e):G(e)?qt(e):e.cloneNode(!1)}const me=new Set(["symbol"]);function he(e,t,n,o){return E(this,null,function*(){if($(n)&&(vt(n)||wt(n))||o.filter&&!o.filter(n))return;me.has(t.nodeName)||me.has(n.nodeName)?o.currentParentNodeStyle=void 0:o.currentParentNodeStyle=o.currentNodeStyle;const l=yield re(n,o);o.isEnable("restoreScrollPosition")&&Xt(e,l),t.appendChild(l)})}function ge(e,t,n){return E(this,null,function*(){var o,l;const s=(l=$(e)?(o=e.shadowRoot)==null?void 0:o.firstChild:void 0)!=null?l:e.firstChild;for(let r=s;r;r=r.nextSibling)if(!mt(r))if($(r)&&yt(r)&&typeof r.assignedNodes=="function"){const i=r.assignedNodes();for(let c=0;c<i.length;c++)yield he(e,t,i[c],n)}else yield he(e,t,r,n)})}function Xt(e,t){if(!z(e)||!z(t))return;const{scrollTop:n,scrollLeft:o}=e;if(!n&&!o)return;const{transform:l}=t.style,s=new DOMMatrix(l),{a:r,b:i,c,d:a}=s;s.a=1,s.b=0,s.c=0,s.d=1,s.translateSelf(-o,-n),s.a=r,s.b=i,s.c=c,s.d=a,t.style.transform=s.toString()}function Gt(e,t){const{backgroundColor:n,width:o,height:l,style:s}=t,r=e.style;if(n&&r.setProperty("background-color",n,"important"),o&&r.setProperty("width",`${o}px`,"important"),l&&r.setProperty("height",`${l}px`,"important"),s)for(const i in s)r[i]=s[i]}const Zt=/^[\w-:]+$/;function re(e,t,n=!1){return E(this,null,function*(){var o,l,s,r;const{ownerDocument:i,ownerWindow:c,fontFamilies:a}=t;if(i&&ht(e))return i.createTextNode(e.data);if(i&&c&&$(e)&&(z(e)||V(e))){const f=yield Ht(e,t);if(t.isEnable("removeAbnormalAttributes")){const h=f.getAttributeNames();for(let w=h.length,x=0;x<w;x++){const b=h[x];Zt.test(b)||f.removeAttribute(b)}}const m=t.currentNodeStyle=Bt(e,f,n,t);n&&Gt(f,t);let v=!1;if(t.isEnable("copyScrollbar")){const h=[(o=m.get("overflow-x"))==null?void 0:o[0],(l=m.get("overflow-y"))==null?void 0:l[1]];v=h.includes("scroll")||(h.includes("auto")||h.includes("overlay"))&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}return zt(e,f,v,t),Ut(e,f),(r=Ne((s=m.get("font-family"))==null?void 0:s[0]))==null||r.forEach(h=>a.add(h)),G(e)||(yield ge(e,f,t)),f}const d=e.cloneNode(!1);return yield ge(e,d,t),d})}function Qt(e){if(e.ownerDocument=void 0,e.ownerWindow=void 0,e.svgStyleElement=void 0,e.svgDefsElement=void 0,e.svgStyles.clear(),e.defaultComputedStyles.clear(),e.sandbox){try{e.sandbox.remove()}catch{}e.sandbox=void 0}e.workers=[],e.fontFamilies.clear(),e.fontCssTexts.clear(),e.requests.clear(),e.tasks=[]}function Yt(e){const t=e,{url:n,timeout:o,responseType:l}=t,s=Qe(t,["url","timeout","responseType"]),r=new AbortController,i=o?setTimeout(()=>r.abort(),o):void 0;return fetch(n,P({signal:r.signal},s)).then(c=>{if(!c.ok)throw new Error("Failed fetch, not 2xx response",{cause:c});switch(l){case"dataUrl":return c.blob().then(Nt);case"text":default:return c.text()}}).finally(()=>clearTimeout(i))}function B(e,t){const{url:n,requestType:o="text",responseType:l="text",imageDom:s}=t;let r=n;const{timeout:i,acceptOfImage:c,requests:a,fetchFn:d,fetch:{requestInit:f,bypassingCache:m,placeholderImage:v},workers:h}=e;o==="image"&&(X||oe)&&e.drawImageCount++;let w=a.get(n);if(!w){m&&m instanceof RegExp&&m.test(r)&&(r+=(/\?/.test(r)?"&":"?")+new Date().getTime());const x=P({url:r,timeout:i,responseType:l,headers:o==="image"?{accept:c}:void 0},f);w={type:o,resolve:void 0,reject:void 0,response:null},w.response=E(this,null,function*(){if(d&&o==="image"){const b=yield d(n);if(b)return b}return!X&&n.startsWith("http")&&h.length?new Promise((b,_)=>{h[a.size&h.length-1].postMessage(P({rawUrl:n},x)),w.resolve=b,w.reject=_}):Yt(x)}).catch(b=>{if(a.delete(n),o==="image"&&v)return A("Failed to fetch image base64, trying to use placeholder image",r),typeof v=="string"?v:v(s);throw b}),a.set(n,w)}return w.response}function Fe(e,t,n,o){return E(this,null,function*(){if(!Pe(e))return e;for(const[l,s]of Jt(e,t))try{const r=yield B(n,{url:s,requestType:o?"image":"text",responseType:"dataUrl"});e=e.replace(Kt(l),`$1${r}$3`)}catch(r){A("Failed to fetch css data url",l,r)}return e})}function Pe(e){return/url\((['"]?)([^'"]+?)\1\)/.test(e)}const je=/url\((['"]?)([^'"]+?)\1\)/g;function Jt(e,t){const n=[];return e.replace(je,(o,l,s)=>(n.push([s,Ee(s,t)]),o)),n.filter(([o])=>!K(o))}function Kt(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function en(e,t){return E(this,null,function*(){const{ownerDocument:n,svgStyleElement:o,fontFamilies:l,fontCssTexts:s,tasks:r,font:i}=t;if(!(!n||!o||!l.size))if(i&&i.cssText){const c=ve(i.cssText,t);o.appendChild(n.createTextNode(`${c}
`))}else{const c=Array.from(n.styleSheets).filter(a=>{try{return"cssRules"in a&&!!a.cssRules.length}catch(d){return A(`Error while reading CSS rules from ${a.href}`,d),!1}});yield Promise.all(c.flatMap(a=>Array.from(a.cssRules).map((d,f)=>E(this,null,function*(){if(dt(d)){let m=f+1;const v=d.href;let h="";try{h=yield B(t,{url:v,requestType:"text",responseType:"text"})}catch(x){A(`Error fetch remote css import from ${v}`,x)}const w=h.replace(je,(x,b,_)=>x.replace(_,Ee(_,v)));for(const x of nn(w))try{a.insertRule(x,x.startsWith("@import")?m+=1:a.cssRules.length)}catch(b){A("Error inserting rule from remote css import",{rule:x,error:b})}}})))),c.flatMap(a=>Array.from(a.cssRules)).filter(a=>{var d;return ut(a)&&Pe(a.style.getPropertyValue("src"))&&((d=Ne(a.style.getPropertyValue("font-family")))==null?void 0:d.some(f=>l.has(f)))}).forEach(a=>{const d=a,f=s.get(d.cssText);f?o.appendChild(n.createTextNode(`${f}
`)):r.push(Fe(d.cssText,d.parentStyleSheet?d.parentStyleSheet.href:null,t).then(m=>{m=ve(m,t),s.set(d.cssText,m),o.appendChild(n.createTextNode(`${m}
`))}))})}})}const tn=/(\/\*[\s\S]*?\*\/)/gi,pe=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi;function nn(e){if(e==null)return[];const t=[];let n=e.replace(tn,"");for(;;){const s=pe.exec(n);if(!s)break;t.push(s[0])}n=n.replace(pe,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let s=o.exec(n);if(s)l.lastIndex=o.lastIndex;else if(s=l.exec(n),s)o.lastIndex=l.lastIndex;else break;t.push(s[0])}return t}const on=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,rn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ve(e,t){const{font:n}=t,o=n?n==null?void 0:n.preferredFormat:void 0;return o?e.replace(rn,l=>{for(;;){const[s,,r]=on.exec(l)||[];if(!r)return"";if(r===o)return`src: ${s};`}}):e}function ln(e,t){if(O(e)){const n=e.currentSrc||e.src;if(!K(n))return[B(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(o=>{o&&(e.srcset="",e.dataset.originalSrc=n,e.src=o||"")})];(X||oe)&&t.drawImageCount++}else if(V(e)&&!K(e.href.baseVal)){const n=e.href.baseVal;return[B(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(o=>{o&&(e.dataset.originalSrc=n,e.href.baseVal=o||"")})]}return[]}const sn=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];function an(e,t){return sn.map(n=>{const o=e.getPropertyValue(n);return!o||o==="none"?null:((X||oe)&&t.drawImageCount++,Fe(o,null,t,!0).then(l=>{!l||o===l||e.setProperty(n,l,e.getPropertyPriority(n))}))}).filter(Boolean)}function cn(e,t){var n;const{ownerDocument:o,svgDefsElement:l}=t,s=(n=e.getAttribute("href"))!=null?n:e.getAttribute("xlink:href");if(!s)return[];const[r,i]=s.split("#");if(i){const c=`#${i}`,a=o==null?void 0:o.querySelector(`svg ${c}`);if(r&&e.setAttribute("href",c),l!=null&&l.querySelector(c))return[];if(a)return l==null||l.appendChild(a.cloneNode(!0)),[];if(r)return[B(t,{url:r,responseType:"text"}).then(d=>{l==null||l.insertAdjacentHTML("beforeend",d)})]}return[]}function Oe(e,t){const{tasks:n}=t;$(e)&&((O(e)||ke(e))&&n.push(...ln(e,t)),ft(e)&&n.push(...cn(e,t))),z(e)&&n.push(...an(e.style,t)),e.childNodes.forEach(o=>{Oe(o,t)})}function un(e,t){return E(this,null,function*(){const n=yield Y(e,t);if($(n.node)&&V(n.node))return n.node;const{ownerDocument:o,log:l,tasks:s,svgStyleElement:r,svgDefsElement:i,svgStyles:c,font:a,progress:d,autoDestruct:f,onCloneNode:m,onEmbedNode:v,onCreateForeignObjectSvg:h}=n;l.time("clone node");const w=yield re(n.node,n,!0);if(r&&o){let C="";c.forEach((y,g)=>{C+=`${y.join(`,
`)} {
  ${g}
}
`}),r.appendChild(o.createTextNode(C))}l.timeEnd("clone node"),m==null||m(w),a!==!1&&$(w)&&(l.time("embed web font"),yield en(w,n),l.timeEnd("embed web font")),l.time("embed node"),Oe(w,n);const x=s.length;let b=0;const _=()=>E(this,null,function*(){for(;;){const C=s.pop();if(!C)break;try{yield C}catch(y){A("Failed to run task",y)}d==null||d(++b,x)}});d==null||d(b,x),yield Promise.all([...Array(4)].map(_)),l.timeEnd("embed node"),v==null||v(w);const S=dn(w,n);return i&&S.insertBefore(i,S.children[0]),r&&S.insertBefore(r,S.children[0]),f&&Qt(n),h==null||h(S),S})}function dn(e,t){const{width:n,height:o}=t,l=kt(n,o,e.ownerDocument),s=l.ownerDocument.createElementNS(l.namespaceURI,"foreignObject");return s.setAttributeNS(null,"x","0%"),s.setAttributeNS(null,"y","0%"),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.append(e),l.appendChild(s),l}function fn(e,t){return E(this,null,function*(){var n;const o=yield Y(e,t),l=yield un(o),s=Et(l,o.isEnable("removeControlCharacter"));o.autoDestruct||(o.svgStyleElement=Te(o.ownerDocument),o.svgDefsElement=(n=o.ownerDocument)==null?void 0:n.createElementNS(Q,"defs"),o.svgStyles.clear());const r=j(s,l.ownerDocument);return yield Pt(r,o)})}function mn(e,t){return E(this,null,function*(){const n=yield Y(e,t),{log:o,quality:l,type:s,dpi:r}=n,i=yield fn(n);o.time("canvas to data url");let c=i.toDataURL(s,l);if(["image/png","image/jpeg"].includes(s)&&r&&it&&at){const[a,d]=c.split(",");let f=0,m=!1;if(s==="image/png"){const S=lt(d);S>=0?(f=Math.ceil((S+28)/3)*4,m=!0):f=33/3*4}else s==="image/jpeg"&&(f=18/3*4);const v=d.substring(0,f),h=d.substring(f),w=window.atob(v),x=new Uint8Array(w.length);for(let S=0;S<x.length;S++)x[S]=w.charCodeAt(S);const b=s==="image/png"?tt(x,r,m):Ye(x,r),_=window.btoa(String.fromCharCode(...b));c=[a,",",_,h].join("")}return o.timeEnd("canvas to data url"),c})}function hn(e,t){return E(this,null,function*(){return mn(yield Y(e,ee(P({},t),{type:"image/png"})))})}const gn=u("title",null,`
            POS
        `,-1),pn={class:"p-4 flex flex-wrap"},vn=["onClick"],wn=["src"],bn={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white"},yn={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},xn={class:"fixed bottom-0 w-full bg-zinc-800 flex"},_n=["onClick"],Sn={class:"fixed w-3/12 inset-y-0 right-0 bg-zinc-800 p-4 no-print"},Cn={class:"h-1/2 relative overflow-y-auto"},kn={class:"text-white flex justify-between"},En={class:"flex space-x-1"},An=["onClick"],Nn={class:"flex space-x-1"},Tn=["onClick"],Dn=u("i",{class:"bx bx-trash"},null,-1),$n=[Dn],In={key:0,class:"font-bold text-white absolute bottom-2"},Fn={class:"text-2xl font-black"},Pn=u("hr",{class:"border-zinc-500"},null,-1),jn={key:0,class:"h-1/2 relative"},On=u("span",{class:"mt-4 text-white"},"Payment",-1),Ln={class:"relative block"},Mn={class:"relative block"},Rn={class:"grid grid-cols-2 md:grid-cols-5 gap-2 my-2"},zn={key:0,class:"text-white mt-2"},Un={class:"flex justify-between text-white"},Bn={class:"w-full"},Vn=u("label",{class:"ml-2 text-sm",for:"dinein"},"Dine-in",-1),qn={class:"w-full"},Wn=u("label",{class:"ml-2 text-sm",for:"takeout"},"Take-out",-1),Hn=["disabled"],Xn={class:"flex justify-center p-4 bg-white text-zinc-900 text-3xl font-bold uppercase"},Gn={key:0,id:"receipt",class:"w-64 bg-white pb-6"},Zn=u("div",{class:"flex justify-center"},[u("img",{src:"logo.jpg",class:"w-32",alt:""})],-1),Qn={class:"grid grid-cols-2"},Yn=u("b",null,"Type",-1),Jn={class:"text-right"},Kn=u("hr",{class:"border-black mt-2"},null,-1),eo=u("div",{class:"flex justify-between"},[u("p",null,"Name"),u("p",null,"Subtotal")],-1),to=u("hr",{class:"border-black mb-2"},null,-1),no={class:"flex justify-between pl-4 w-full"},oo={class:"w-full"},ro=u("hr",{class:"border-black my-2"},null,-1),lo={class:"font-bold text-lg flex justify-between"},so=u("p",null,"TOTAL",-1),io={class:"pl-4"},ao=u("hr",{class:"border-black my-2"},null,-1),co={class:"flex justify-between text-sm"},uo=u("p",null,"Cashier",-1),fo={class:"flex justify-between text-sm"},mo=u("p",null,"Order ID",-1),ho={class:"text-right"},go={class:"flex justify-between text-sm"},po=u("p",{class:"w-max"},"Order Time",-1),vo={class:"w-max"},wo=u("div",{class:"flex flex-col items-center justify-center text-sm mt-2 w-full"},[u("b",null,"UPTop Diner"),u("p",null,"25 L. Geirosa Ave., Brgy. Silangan"),u("p",null,"Calauan, Laguna"),u("p",null,"La Famiglia Building 2nd Floor")],-1),bo=u("hr",{class:"border-black my-2"},null,-1),yo=u("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1),So=Object.assign({layout:null},{__name:"POS",props:{items:Object,categories:Object},setup(e){const t=e,n=D(null),o=D(null),l=D(!1),s=D(!1),r=y=>{o.value=y,n.value=t.items[y]},i=D(null),c=Le(()=>{var y;return(y=i.value)==null?void 0:y.reduce((g,p)=>g+p.price*p.count,0)}),a=D(0),d=D(""),f=D(""),m=D(null),v=D(!1),h=D(null),w=()=>{v.value=!0},x=y=>{if(i.value){var g=i.value.findIndex(p=>p.id===y.id);g==-1?(y.count=1,i.value.push(y)):i.value[g].count+=1}else y.count=1,i.value=[y]},b=y=>{var g=i.value.findIndex(p=>p.id===y.id);i.value[g].count-=1,i.value[g].count===0&&i.value.splice(g,1)},_=y=>{var g=i.value.findIndex(p=>p.id===y.id);i.value.splice(g,1)},S=()=>{l.value=!0,Ue.post(route("transaction.save"),{items:i.value,payment:a.value,name:d.value,type:f.value},{maxBodyLength:2048,maxContentLength:2048}).then(y=>{h.value=y.data.message,m.value=y.data.transaction,console.log(y.data.usage)}).catch(y=>{console.log(y)}).finally(()=>{i.value=null,a.value=null,d.value=null,f.value=null,l.value=!1,C(),w()})};Me(()=>{r(t.categories[0].name);let y=navigator.userAgent.toLowerCase();s.value=y.indexOf("android")>-1});const C=()=>{const y=document.getElementById("receipt");hn(y,{quality:1,scale:2}).then(g=>{console.log(g),s.value&&(window.location.href="rawbt:"+g)})};return(y,g)=>(N(),T(L,null,[se(Re(Be),null,{default:ie(()=>[gn]),_:1}),u("div",{class:"fixed w-9/12 top-0 bottom-10 left-0 select-none bg-white overflow-y-auto",onContextmenu:g[2]||(g[2]=M(()=>{},["prevent"]))},[u("div",pn,[(N(!0),T(L,null,q(n.value,p=>(N(),T("div",{style:Ve(`background: ${p.color??"white"} !important`),class:"item border flex w-48 h-48 relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:F=>x(p),ontouchstart:""},[p.pic?(N(),T("img",{key:0,draggable:"false",onContextmenu:g[0]||(g[0]=M(()=>{},["prevent"])),onDragstart:g[1]||(g[1]=M(()=>{},["prevent"])),src:`../storage/${p.pic}`,class:"w-48 h-48 object-cover",height:"25px",width:"25px"},null,40,wn)):R("",!0),u("p",bn,k(p.name),1),u("span",yn,k(p.price),1)],12,vn))),256))]),u("div",xn,[(N(!0),T(L,null,q(e.categories,p=>(N(),T("div",{class:qe([{"bg-blue-500 text-white font-bold":o.value===p.name},"py-2 px-4 text-zinc-300 border-r border-zinc-700"]),onClick:F=>r(p.name)},k(p.name),11,_n))),256))])],32),u("div",Sn,[u("div",Cn,[(N(!0),T(L,null,q(i.value,p=>(N(),T("div",kn,[u("div",En,[u("button",{onClick:F=>b(p),class:"w-4 h-4 bg-blue-500 inline-flex justify-center items-center"},"-",8,An),u("span",null,k(`${p.name} x${p.count}`),1)]),u("div",Nn,[u("span",null,k(p.price*p.count),1),u("button",{onClick:F=>_(p),class:"w-5 h-5 bg-red-500 inline-flex justify-center items-center"},$n,8,Tn)])]))),256)),c.value>0?(N(),T("p",In,[ze("Total: "),u("span",Fn,k(c.value),1)])):R("",!0)]),Pn,c.value?(N(),T("div",jn,[On,u("label",Ln,[W(u("input",{"onUpdate:modelValue":g[3]||(g[3]=p=>d.value=p),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,512),[[ae,d.value]]),u("i",{onClick:g[4]||(g[4]=M(p=>d.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),u("label",Mn,[W(u("input",{"onUpdate:modelValue":g[5]||(g[5]=p=>a.value=p),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"P 0.00",type:"number",name:"payment"},null,512),[[ae,a.value]]),u("i",{onClick:g[6]||(g[6]=M(p=>a.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),u("div",Rn,[u("button",{class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md active:scale-95",onClick:g[7]||(g[7]=p=>a.value+=50)},"50"),u("button",{class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md active:scale-95",onClick:g[8]||(g[8]=p=>a.value+=100)},"100"),u("button",{class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md active:scale-95",onClick:g[9]||(g[9]=p=>a.value+=200)},"200"),u("button",{class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md active:scale-95",onClick:g[10]||(g[10]=p=>a.value+=500)},"500"),u("button",{class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md active:scale-95",onClick:g[11]||(g[11]=p=>a.value+=1e3)},"1000"),u("button",{class:"bg-white rounded-md w-full p-2 font-bold text-sm active:scale-[0.98] col-span-5",onClick:g[12]||(g[12]=p=>a.value=c.value)},"Exact amount")]),a.value>c.value?(N(),T("p",zn,"Change: "+k(c.value&&a.value-c.value),1)):R("",!0),u("div",Un,[u("div",Bn,[W(u("input",{type:"radio",name:"type",id:"dinein",value:"Dine-in","onUpdate:modelValue":g[13]||(g[13]=p=>f.value=p)},null,512),[[ce,f.value]]),Vn]),u("div",qn,[W(u("input",{type:"radio",name:"type",id:"takeout",value:"Take-out","onUpdate:modelValue":g[14]||(g[14]=p=>f.value=p)},null,512),[[ce,f.value]]),Wn])]),u("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98] absolute bottom-0 right-0",onClick:S,disabled:!f.value||c.value&&a.value<c.value||l.value},k(l.value?"Processing...":"Place order"),9,Hn)])):R("",!0)]),se(We,{"max-width":"sm",show:v.value,onClose:g[15]||(g[15]=p=>v.value=!1)},{default:ie(()=>[u("div",Xn,k(h.value),1)]),_:1},8,["show"]),m.value?(N(),T("div",Gn,[Zn,u("p",null,k(m.value.name),1),u("div",Qn,[Yn,u("b",Jn,k(m.value.type),1)]),Kn,eo,to,u("div",null,[(N(!0),T(L,null,q(m.value.items,p=>(N(),T("div",null,[u("p",null,k(p.name),1),u("div",no,[u("p",oo,k(Number(p.price).amountFormat())+" x"+k(p.quantity),1),u("p",null,k((p.quantity*p.price).amountFormat()),1)])]))),256)),ro,u("div",null,[u("div",lo,[so,u("p",null,k(m.value.gross.amountFormat()),1)]),u("div",io,[u("p",null,"CASH: "+k(m.value.payment.amountFormat()),1),u("p",null,"CHANGE: "+k((m.value.payment-m.value.gross).amountFormat()),1)])]),ao,u("div",co,[uo,u("p",null,k(y.$page.props.auth.user.name),1)]),u("div",fo,[mo,u("p",ho,k(`dQw4w9WgXcQ${m.value.id.pad(4)}`),1)]),u("div",go,[po,u("p",vo,k(Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}).format(new Date(m.value.created_at))),1)]),wo,bo,yo])])):R("",!0)],64))}});export{So as default};
