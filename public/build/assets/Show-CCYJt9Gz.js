import{T as _,r as b,o as r,f as d,a as s,w as C,u as o,b as t,t as w,g as x,e as U,F as k,k as B,Z as $}from"./app-BYVF6Ehv.js";import{_ as y}from"./InputLabel-BF-7e8Rg.js";import{_ as u}from"./TextInput-BcFRK24c.js";const j={class:"max-w-screen-lg mx-auto mt-8"},I={class:"dark:text-white mb-8"},N={class:"grid grid-cols-3 gap-4"},S={key:0,class:"bx bx-plus font-bold text-3xl text-white"},F=["src"],A={class:"col-span-2 p-6 rounded-lg bg-gray-800"},D=t("p",{class:"block font-medium text-sm text-gray-700 dark:text-gray-300 mt-4 select-none"},"Breakdown of cost",-1),L=["onClick"],R=t("div",{class:"flex justify-end"},[t("button",{"type-":"submit",class:"rounded-lg px-4 py-2 bg-green-500 hover:bg-green-700 active:bg-green-900 text-white text-sm duration-200 ease-in-out"},"Save")],-1),O={__name:"Show",props:{item:Object},setup(n){const m=n,e=_({category_id:m.item.category_id,image:"",name:m.item.name,price:m.item.price,breakdown:m.item.costing}),p=b(null),g=b(null),v=()=>{if(e.image){let i=new FileReader;i.readAsDataURL(e.image),i.onload=l=>{g.value=l.target.result}}},h=()=>{e.breakdown.push({name:"",cost:""})},V=i=>{e.breakdown.splice(i,1)};return(i,l)=>(r(),d(k,null,[s(o($),null,{default:C(()=>[t("title",null,`\r
            `+w(n.item.name)+`\r
        `,1)]),_:1}),t("div",j,[t("p",I,w(n.item.name),1),t("div",N,[t("div",{onClick:l[0]||(l[0]=a=>p.value.click()),class:"h-72 w-72 rounded-lg overflow-hidden bg-gray-700 flex justify-center items-center"},[!o(e).image&&!n.item.pic?(r(),d("i",S)):x("",!0),o(e).image||n.item.pic?(r(),d("img",{key:1,src:g.value||`../../storage/${n.item.pic}`,class:"w-72 h-72 object-cover",alt:""},null,8,F)):x("",!0)]),t("div",A,[t("form",{onSubmit:l[4]||(l[4]=U(a=>o(e).post(i.route("items.update",n.item)),["prevent"])),enctype:"multipart/form-data"},[t("input",{ref_key:"newImage",ref:p,onInput:l[1]||(l[1]=a=>o(e).image=a.target.files[0]),onChange:v,type:"file",accept:"image/*",hidden:""},null,544),s(y,{for:"name",value:"Name"}),s(u,{id:"name",type:"text",modelValue:o(e).name,"onUpdate:modelValue":l[2]||(l[2]=a=>o(e).name=a),class:"mt-2 w-full block"},null,8,["modelValue"]),s(y,{class:"mt-4",for:"price",value:"Price"}),s(u,{id:"price",type:"number",modelValue:o(e).price,"onUpdate:modelValue":l[3]||(l[3]=a=>o(e).price=a),class:"mt-2 w-full block"},null,8,["modelValue"]),D,(r(!0),d(k,null,B(o(e).breakdown,(a,f)=>(r(),d("div",{key:f,class:"grid grid-cols-11 gap-2 m-2"},[s(u,{type:"text",modelValue:a.name,"onUpdate:modelValue":c=>a.name=c,class:"w-full block col-span-5",placeholder:"Item"},null,8,["modelValue","onUpdate:modelValue"]),s(u,{type:"number",modelValue:a.cost,"onUpdate:modelValue":c=>a.cost=c,class:"w-full block col-span-5",placeholder:"Cost"},null,8,["modelValue","onUpdate:modelValue"]),t("i",{onClick:c=>V(f),class:"bx bx-x p-2 w-8 h-8 rounded-lg text-white bg-red-500 hover:bg-red-700 duration-200 ease-in-out inline-flex justify-center items-center"},null,8,L)]))),128)),t("button",{type:"button",class:"text-xs px-4 py-1 rounded-lg bg-gray-400 text-white",onClick:h},"Add"),R],32)])])])],64))}};export{O as default};
