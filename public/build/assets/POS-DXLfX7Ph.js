import{r as $,h as Me,z as Le,o as _,f as N,a as le,w as ie,u as Re,b as p,F as O,k as B,e as j,d as Ue,t as E,g as G,i as se,B as ae,n as ce,s as Be,Z as ze}from"./app-Djmqi-NZ.js";import{_ as Ve}from"./Modal-c9_KHZcO.js";var We=Object.defineProperty,qe=Object.defineProperties,He=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,Xe=Math.pow,ue=(e,t,n)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))we.call(t,n)&&ue(e,n,t[n]);if(z)for(var n of z(t))be.call(t,n)&&ue(e,n,t[n]);return e},K=(e,t)=>qe(e,He(t)),Ze=(e,t)=>{var n={};for(var o in e)we.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&z)for(var o of z(e))t.indexOf(o)<0&&be.call(e,o)&&(n[o]=e[o]);return n},C=(e,t,n)=>new Promise((o,l)=>{var i=a=>{try{s(n.next(a))}catch(c){l(c)}},r=a=>{try{s(n.throw(a))}catch(c){l(c)}},s=a=>a.done?o(a.value):Promise.resolve(a.value).then(i,r);s((n=n.apply(e,t)).next())});function Ge(e,t){return e[13]=1,e[14]=t>>8,e[15]=t&255,e[16]=t>>8,e[17]=t&255,e}const ye=112,xe=72,Se=89,Ce=115;let Y;function Ye(){const e=new Int32Array(256);for(let t=0;t<256;t++){let n=t;for(let o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e}function Je(e){let t=-1;Y||(Y=Ye());for(let n=0;n<e.length;n++)t=Y[(t^e[n])&255]^t>>>8;return t^-1}function Ke(e){const t=e.length-1;for(let n=t;n>=4;n--)if(e[n-4]===9&&e[n-3]===ye&&e[n-2]===xe&&e[n-1]===Se&&e[n]===Ce)return n-3;return 0}function Qe(e,t,n=!1){const o=new Uint8Array(13);t*=39.3701,o[0]=ye,o[1]=xe,o[2]=Se,o[3]=Ce,o[4]=t>>>24,o[5]=t>>>16,o[6]=t>>>8,o[7]=t&255,o[8]=o[4],o[9]=o[5],o[10]=o[6],o[11]=o[7],o[12]=1;const l=Je(o),i=new Uint8Array(4);if(i[0]=l>>>24,i[1]=l>>>16,i[2]=l>>>8,i[3]=l&255,n){const r=Ke(e);return e.set(o,r),e.set(i,r+13),e}else{const r=new Uint8Array(4);r[0]=0,r[1]=0,r[2]=0,r[3]=9;const s=new Uint8Array(54);return s.set(e,0),s.set(r,33),s.set(o,37),s.set(i,50),s}}const et="AAlwSFlz",tt="AAAJcEhZ",nt="AAAACXBI";function ot(e){let t=e.indexOf(et);return t===-1&&(t=e.indexOf(tt)),t===-1&&(t=e.indexOf(nt)),t}const Q="[modern-screenshot]",D=typeof window<"u",rt=D&&"Worker"in window,lt=D&&"atob"in window,it=D&&"btoa"in window;var de;const ee=D?(de=window.navigator)==null?void 0:de.userAgent:"",Ee=ee.includes("Chrome"),V=ee.includes("AppleWebKit")&&!Ee,te=ee.includes("Firefox"),st=e=>e&&"__CONTEXT__"in e,at=e=>e.constructor.name==="CSSFontFaceRule",ct=e=>e.constructor.name==="CSSImportRule",T=e=>e.nodeType===1,U=e=>typeof e.className=="object",ke=e=>e.tagName==="image",ut=e=>e.tagName==="use",M=e=>T(e)&&typeof e.style<"u"&&!U(e),dt=e=>e.nodeType===8,ft=e=>e.nodeType===3,P=e=>e.tagName==="IMG",W=e=>e.tagName==="VIDEO",mt=e=>e.tagName==="CANVAS",fe=e=>e.tagName==="TEXTAREA",ht=e=>e.tagName==="INPUT",gt=e=>e.tagName==="STYLE",pt=e=>e.tagName==="SCRIPT",vt=e=>e.tagName==="SELECT",wt=e=>e.tagName==="SLOT",bt=e=>e.tagName==="IFRAME",k=(...e)=>console.warn(Q,...e),yt=e=>console.time(`${Q} ${e}`),xt=e=>console.timeEnd(`${Q} ${e}`),St=e=>{var t;const n=(t=e==null?void 0:e.createElement)==null?void 0:t.call(e,"canvas");return n&&(n.height=n.width=1),n&&"toDataURL"in n&&!!n.toDataURL("image/webp").includes("image/webp")},J=e=>e.startsWith("data:");function Ae(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(D&&e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i)||!D)return e;const n=q().implementation.createHTMLDocument(),o=n.createElement("base"),l=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(l),t&&(o.href=t),l.href=e,l.href}function q(e){var t;return(t=e&&T(e)?e==null?void 0:e.ownerDocument:e)!=null?t:window.document}const H="http://www.w3.org/2000/svg";function Ct(e,t,n){const o=q(n).createElementNS(H,"svg");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"viewBox",`0 0 ${e} ${t}`),o}function Et(e,t){let n=new XMLSerializer().serializeToString(e);return t&&(n=n.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/ug,"")),`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}function kt(e,t){return new Promise((n,o)=>{const l=new FileReader;l.onload=()=>n(l.result),l.onerror=()=>o(l.error),l.onabort=()=>o(new Error(`Failed read blob to ${t}`)),l.readAsDataURL(e)})}const At=e=>kt(e,"dataUrl");function F(e,t){const n=q(t).createElement("img");return n.decoding="sync",n.loading="eager",n.src=e,n}function L(e,t){return new Promise(n=>{const{timeout:o,ownerDocument:l,onError:i}=t??{},r=typeof e=="string"?F(e,q(l)):e;let s=null,a=null;function c(){n(r),s&&clearTimeout(s),a==null||a()}if(o&&(s=setTimeout(c,o)),W(r)){const u=r.currentSrc||r.src;if(!u)return r.poster?L(r.poster,t).then(n):c();if(r.readyState>=2)return c();const m=c,g=v=>{k("Failed video load",u,v),i==null||i(v),c()};a=()=>{r.removeEventListener("loadeddata",m),r.removeEventListener("error",g)},r.addEventListener("loadeddata",m,{once:!0}),r.addEventListener("error",g,{once:!0})}else{const u=ke(r)?r.href.baseVal:r.currentSrc||r.src;if(!u)return c();const m=()=>C(this,null,function*(){if(P(r)&&"decode"in r)try{yield r.decode()}catch(v){k("Failed to decode image, trying to render anyway",r.dataset.originalSrc||u,v)}c()}),g=v=>{k("Failed image load",r.dataset.originalSrc||u,v),c()};if(P(r)&&r.complete)return m();a=()=>{r.removeEventListener("load",m),r.removeEventListener("error",g)},r.addEventListener("load",m,{once:!0}),r.addEventListener("error",g,{once:!0})}})}function _t(e,t){return C(this,null,function*(){M(e)&&(P(e)||W(e)?yield L(e,{timeout:t}):yield Promise.all(["img","video"].flatMap(n=>Array.from(e.querySelectorAll(n)).map(o=>L(o,{timeout:t})))))})}const _e=function(){let e=0;const t=()=>`0000${(Math.random()*Xe(36,4)<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)}();function Ne(e){return e==null?void 0:e.split(",").map(t=>t.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}function Nt(e){return{time:t=>e&&yt(t),timeEnd:t=>e&&xt(t),warn:(...t)=>e&&k(...t)}}function Tt(e){return{cache:e?"no-cache":"force-cache"}}function X(e,t){return C(this,null,function*(){return st(e)?e:$t(e,K(I({},t),{autoDestruct:!0}))})}function $t(e,t){return C(this,null,function*(){var n,o,l,i,r;const{scale:s=1,workerUrl:a,workerNumber:c=1}=t||{},u=!!(t!=null&&t.debug),m=(n=t==null?void 0:t.features)!=null?n:!0,g=(o=e.ownerDocument)!=null?o:D?window.document:void 0,v=(i=(l=e.ownerDocument)==null?void 0:l.defaultView)!=null?i:D?window:void 0,f=new Map,b=K(I({width:0,height:0,quality:1,type:"image/png",scale:s,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:u,fetch:I({requestInit:Tt((r=t==null?void 0:t.fetch)==null?void 0:r.bypassingCache),placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1},t==null?void 0:t.fetch),fetchFn:null,font:{},drawImageInterval:100,workerUrl:null,workerNumber:c,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,includeStyleProperties:null,autoDestruct:!1},t),{__CONTEXT__:!0,log:Nt(u),node:e,ownerDocument:g,ownerWindow:v,dpi:s===1?null:96*s,svgStyleElement:Te(g),svgDefsElement:g==null?void 0:g.createElementNS(H,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...new Array(rt&&a&&c?c:0)].map(()=>{try{const h=new Worker(a);return h.onmessage=d=>C(this,null,function*(){var S,w,A,oe;const{url:Z,result:re}=d.data;re?(w=(S=f.get(Z))==null?void 0:S.resolve)==null||w.call(S,re):(oe=(A=f.get(Z))==null?void 0:A.reject)==null||oe.call(A,new Error(`Error receiving message from worker: ${Z}`))}),h.onmessageerror=d=>{var S,w;const{url:A}=d.data;(w=(S=f.get(A))==null?void 0:S.reject)==null||w.call(S,new Error(`Error receiving message from worker: ${A}`))},h}catch(h){return k("Failed to new Worker",h),null}}).filter(Boolean),fontFamilies:new Set,fontCssTexts:new Map,acceptOfImage:`${[St(g)&&"image/webp","image/svg+xml","image/*","*/*"].filter(Boolean).join(",")};q=0.8`,requests:f,drawImageCount:0,tasks:[],features:m,isEnable:h=>{var d,S;return h==="restoreScrollPosition"?typeof m=="boolean"?!1:(d=m[h])!=null?d:!1:typeof m=="boolean"?m:(S=m[h])!=null?S:!0}});b.log.time("wait until load"),yield _t(e,b.timeout),b.log.timeEnd("wait until load");const{width:x,height:y}=Dt(e,b);return b.width=x,b.height=y,b})}function Te(e){if(!e)return;const t=e.createElement("style"),n=t.ownerDocument.createTextNode(`
.______background-clip--text {
  background-clip: text;
  -webkit-background-clip: text;
}
`);return t.appendChild(n),t}function Dt(e,t){let{width:n,height:o}=t;if(T(e)&&(!n||!o)){const l=e.getBoundingClientRect();n=n||l.width||Number(e.getAttribute("width"))||0,o=o||l.height||Number(e.getAttribute("height"))||0}return{width:n,height:o}}function It(e,t){return C(this,null,function*(){const{log:n,timeout:o,drawImageCount:l,drawImageInterval:i}=t;n.time("image to canvas");const r=yield L(e,{timeout:o}),{canvas:s,context2d:a}=Ft(e.ownerDocument,t),c=()=>{try{a==null||a.drawImage(r,0,0,s.width,s.height)}catch(u){k("Failed to drawImage",u)}};if(c(),t.isEnable("fixSvgXmlDecode"))for(let u=0;u<l;u++)yield new Promise(m=>{setTimeout(()=>{c(),m()},u+i)});return t.drawImageCount=0,n.timeEnd("image to canvas"),s})}function Ft(e,t){const{width:n,height:o,scale:l,backgroundColor:i,maximumCanvasSize:r}=t,s=e.createElement("canvas");s.width=Math.floor(n*l),s.height=Math.floor(o*l),s.style.width=`${n}px`,s.style.height=`${o}px`,r&&(s.width>r||s.height>r)&&(s.width>r&&s.height>r?s.width>s.height?(s.height*=r/s.width,s.width=r):(s.width*=r/s.height,s.height=r):s.width>r?(s.height*=r/s.width,s.width=r):(s.width*=r/s.height,s.height=r));const a=s.getContext("2d");return a&&i&&(a.fillStyle=i,a.fillRect(0,0,s.width,s.height)),{canvas:s,context2d:a}}const Pt=["width","height","-webkit-text-fill-color"],Ot=["stroke","fill"];function $e(e,t,n){var o;const{defaultComputedStyles:l,ownerDocument:i}=n,r=e.nodeName.toLowerCase(),s=U(e)&&r!=="svg",a=s?Ot.map(y=>[y,e.getAttribute(y)]).filter(([,y])=>y!==null):[],c=[s&&"svg",r,a.map((y,h)=>`${y}=${h}`).join(","),t].filter(Boolean).join(":");if(l.has(c))return l.get(c);let u=n.sandbox;if(!u)try{i&&(u=i.createElement("iframe"),u.id=`__SANDBOX__-${_e()}`,u.width="0",u.height="0",u.style.visibility="hidden",u.style.position="fixed",i.body.appendChild(u),(o=u.contentWindow)==null||o.document.write('<!DOCTYPE html><meta charset="UTF-8"><title></title><body>'),n.sandbox=u)}catch(y){k("Failed to create iframe sandbox",y)}if(!u)return new Map;const m=u.contentWindow;if(!m)return new Map;const g=m.document;let v,f;s?(v=g.createElementNS(H,"svg"),f=v.ownerDocument.createElementNS(v.namespaceURI,r),a.forEach(([y,h])=>{f.setAttributeNS(null,y,h)}),v.appendChild(f)):v=f=g.createElement(r),f.textContent=" ",g.body.appendChild(v);const b=m.getComputedStyle(f,t),x=new Map;for(let y=b.length,h=0;h<y;h++){const d=b.item(h);Pt.includes(d)||x.set(d,b.getPropertyValue(d))}return g.body.removeChild(v),l.set(c,x),x}function De(e,t,n){var o;const l=new Map,i=[],r=new Map;if(n)for(const a of n)s(a);else for(let a=e.length,c=0;c<a;c++){const u=e.item(c);s(u)}for(let a=i.length,c=0;c<a;c++)(o=r.get(i[c]))==null||o.forEach((u,m)=>l.set(m,u));function s(a){const c=e.getPropertyValue(a),u=e.getPropertyPriority(a),m=a.lastIndexOf("-"),g=m>-1?a.substring(0,m):void 0;if(g){let v=r.get(g);v||(v=new Map,r.set(g,v)),v.set(a,[c,u])}t.get(a)===c&&!u||(g?i.push(g):l.set(a,[c,u]))}return l}const jt=[":before",":after"],Mt=[":-webkit-scrollbar",":-webkit-scrollbar-button",":-webkit-scrollbar-thumb",":-webkit-scrollbar-track",":-webkit-scrollbar-track-piece",":-webkit-scrollbar-corner",":-webkit-resizer"];function Lt(e,t,n,o){const{ownerWindow:l,svgStyleElement:i,svgStyles:r,currentNodeStyle:s}=o;if(!i||!l)return;function a(c){var u;const m=l.getComputedStyle(e,c);let g=m.getPropertyValue("content");if(!g||g==="none")return;g=g.replace(/(')|(")|(counter\(.+\))/g,"");const v=[_e()],f=$e(e,c,o);s==null||s.forEach((d,S)=>{f.delete(S)});const b=De(m,f,o.includeStyleProperties);b.delete("content"),b.delete("-webkit-locale"),((u=b.get("background-clip"))==null?void 0:u[0])==="text"&&t.classList.add("______background-clip--text");const x=[`content: '${g}';`];if(b.forEach(([d,S],w)=>{x.push(`${w}: ${d}${S?" !important":""};`)}),x.length===1)return;try{t.className=[t.className,...v].join(" ")}catch{return}const y=x.join(`
  `);let h=r.get(y);h||(h=[],r.set(y,h)),h.push(`.${v[0]}:${c}`)}jt.forEach(a),n&&Mt.forEach(a)}function Rt(e,t){fe(e)&&(t.innerHTML=e.value),(fe(e)||ht(e)||vt(e))&&t.setAttribute("value",e.value)}function Ut(e,t,n,o){var l,i,r,s;const{ownerWindow:a,includeStyleProperties:c,currentParentNodeStyle:u}=o,m=t.style,g=a.getComputedStyle(e),v=$e(e,null,o);u==null||u.forEach((b,x)=>{v.delete(x)});const f=De(g,v,c);return f.delete("transition-property"),f.delete("all"),f.delete("d"),f.delete("content"),n&&(f.delete("margin-top"),f.delete("margin-right"),f.delete("margin-bottom"),f.delete("margin-left"),f.delete("margin-block-start"),f.delete("margin-block-end"),f.delete("margin-inline-start"),f.delete("margin-inline-end"),f.set("box-sizing",["border-box",""])),((l=f.get("background-clip"))==null?void 0:l[0])==="text"&&t.classList.add("______background-clip--text"),Ee&&(f.has("font-kerning")||f.set("font-kerning",["normal",""]),(((i=f.get("overflow-x"))==null?void 0:i[0])==="hidden"||((r=f.get("overflow-y"))==null?void 0:r[0])==="hidden")&&((s=f.get("text-overflow"))==null?void 0:s[0])==="ellipsis"&&e.scrollWidth===e.clientWidth&&f.set("text-overflow",["clip",""])),f.forEach(([b,x],y)=>{m.setProperty(y,b,x)}),f}function Bt(e,t){var n;try{if((n=e==null?void 0:e.contentDocument)!=null&&n.body)return ne(e.contentDocument.body,t)}catch(o){k("Failed to clone iframe",o)}return e.cloneNode(!1)}function Ie(e){if(e.ownerDocument)try{const l=e.toDataURL();if(l!=="data:,")return F(l,e.ownerDocument)}catch{}const t=e.cloneNode(!1),n=e.getContext("2d"),o=t.getContext("2d");try{return n&&o&&o.putImageData(n.getImageData(0,0,e.width,e.height),0,0),t}catch(l){k("Failed to clone canvas",l)}return t}function zt(e){return C(this,null,function*(){if(e.ownerDocument&&!e.currentSrc&&e.poster)return F(e.poster,e.ownerDocument);const t=e.cloneNode(!1);t.crossOrigin="anonymous",e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc);const n=t.ownerDocument;if(n){let o=!0;if(yield L(t,{onError:()=>o=!1}),!o)return e.poster?F(e.poster,e.ownerDocument):t;t.currentTime=e.currentTime,yield new Promise(i=>{t.addEventListener("seeked",i,{once:!0})});const l=n.createElement("canvas");l.width=e.offsetWidth,l.height=e.offsetHeight;try{const i=l.getContext("2d");i&&i.drawImage(t,0,0,l.width,l.height)}catch(i){return k("Failed to clone video",i),e.poster?F(e.poster,e.ownerDocument):t}return Ie(l)}return t})}function Vt(e){const t=e.cloneNode(!1);return e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager"),t}function Wt(e,t){return mt(e)?Ie(e):bt(e)?Bt(e,t):P(e)?Vt(e):W(e)?zt(e):e.cloneNode(!1)}const me=new Set(["symbol"]);function he(e,t,n,o){return C(this,null,function*(){if(T(n)&&(gt(n)||pt(n))||o.filter&&!o.filter(n))return;me.has(t.nodeName)||me.has(n.nodeName)?o.currentParentNodeStyle=void 0:o.currentParentNodeStyle=o.currentNodeStyle;const l=yield ne(n,o);o.isEnable("restoreScrollPosition")&&qt(e,l),t.appendChild(l)})}function ge(e,t,n){return C(this,null,function*(){var o,l;const i=(l=T(e)?(o=e.shadowRoot)==null?void 0:o.firstChild:void 0)!=null?l:e.firstChild;for(let r=i;r;r=r.nextSibling)if(!dt(r))if(T(r)&&wt(r)&&typeof r.assignedNodes=="function"){const s=r.assignedNodes();for(let a=0;a<s.length;a++)yield he(e,t,s[a],n)}else yield he(e,t,r,n)})}function qt(e,t){if(!M(e)||!M(t))return;const{scrollTop:n,scrollLeft:o}=e;if(!n&&!o)return;const{transform:l}=t.style,i=new DOMMatrix(l),{a:r,b:s,c:a,d:c}=i;i.a=1,i.b=0,i.c=0,i.d=1,i.translateSelf(-o,-n),i.a=r,i.b=s,i.c=a,i.d=c,t.style.transform=i.toString()}function Ht(e,t){const{backgroundColor:n,width:o,height:l,style:i}=t,r=e.style;if(n&&r.setProperty("background-color",n,"important"),o&&r.setProperty("width",`${o}px`,"important"),l&&r.setProperty("height",`${l}px`,"important"),i)for(const s in i)r[s]=i[s]}const Xt=/^[\w-:]+$/;function ne(e,t,n=!1){return C(this,null,function*(){var o,l,i,r;const{ownerDocument:s,ownerWindow:a,fontFamilies:c}=t;if(s&&ft(e))return s.createTextNode(e.data);if(s&&a&&T(e)&&(M(e)||U(e))){const m=yield Wt(e,t);if(t.isEnable("removeAbnormalAttributes")){const f=m.getAttributeNames();for(let b=f.length,x=0;x<b;x++){const y=f[x];Xt.test(y)||m.removeAttribute(y)}}const g=t.currentNodeStyle=Ut(e,m,n,t);n&&Ht(m,t);let v=!1;if(t.isEnable("copyScrollbar")){const f=[(o=g.get("overflow-x"))==null?void 0:o[0],(l=g.get("overflow-y"))==null?void 0:l[1]];v=f.includes("scroll")||(f.includes("auto")||f.includes("overlay"))&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)}return Lt(e,m,v,t),Rt(e,m),(r=Ne((i=g.get("font-family"))==null?void 0:i[0]))==null||r.forEach(f=>c.add(f)),W(e)||(yield ge(e,m,t)),m}const u=e.cloneNode(!1);return yield ge(e,u,t),u})}function Zt(e){if(e.ownerDocument=void 0,e.ownerWindow=void 0,e.svgStyleElement=void 0,e.svgDefsElement=void 0,e.svgStyles.clear(),e.defaultComputedStyles.clear(),e.sandbox){try{e.sandbox.remove()}catch{}e.sandbox=void 0}e.workers=[],e.fontFamilies.clear(),e.fontCssTexts.clear(),e.requests.clear(),e.tasks=[]}function Gt(e){const t=e,{url:n,timeout:o,responseType:l}=t,i=Ze(t,["url","timeout","responseType"]),r=new AbortController,s=o?setTimeout(()=>r.abort(),o):void 0;return fetch(n,I({signal:r.signal},i)).then(a=>{if(!a.ok)throw new Error("Failed fetch, not 2xx response",{cause:a});switch(l){case"dataUrl":return a.blob().then(At);case"text":default:return a.text()}}).finally(()=>clearTimeout(s))}function R(e,t){const{url:n,requestType:o="text",responseType:l="text",imageDom:i}=t;let r=n;const{timeout:s,acceptOfImage:a,requests:c,fetchFn:u,fetch:{requestInit:m,bypassingCache:g,placeholderImage:v},workers:f}=e;o==="image"&&(V||te)&&e.drawImageCount++;let b=c.get(n);if(!b){g&&g instanceof RegExp&&g.test(r)&&(r+=(/\?/.test(r)?"&":"?")+new Date().getTime());const x=I({url:r,timeout:s,responseType:l,headers:o==="image"?{accept:a}:void 0},m);b={type:o,resolve:void 0,reject:void 0,response:null},b.response=C(this,null,function*(){if(u&&o==="image"){const y=yield u(n);if(y)return y}return!V&&n.startsWith("http")&&f.length?new Promise((y,h)=>{f[c.size&f.length-1].postMessage(I({rawUrl:n},x)),b.resolve=y,b.reject=h}):Gt(x)}).catch(y=>{if(c.delete(n),o==="image"&&v)return k("Failed to fetch image base64, trying to use placeholder image",r),typeof v=="string"?v:v(i);throw y}),c.set(n,b)}return b.response}function Fe(e,t,n,o){return C(this,null,function*(){if(!Pe(e))return e;for(const[l,i]of Yt(e,t))try{const r=yield R(n,{url:i,requestType:o?"image":"text",responseType:"dataUrl"});e=e.replace(Jt(l),`$1${r}$3`)}catch(r){k("Failed to fetch css data url",l,r)}return e})}function Pe(e){return/url\((['"]?)([^'"]+?)\1\)/.test(e)}const Oe=/url\((['"]?)([^'"]+?)\1\)/g;function Yt(e,t){const n=[];return e.replace(Oe,(o,l,i)=>(n.push([i,Ae(i,t)]),o)),n.filter(([o])=>!J(o))}function Jt(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Kt(e,t){return C(this,null,function*(){const{ownerDocument:n,svgStyleElement:o,fontFamilies:l,fontCssTexts:i,tasks:r,font:s}=t;if(!(!n||!o||!l.size))if(s&&s.cssText){const a=ve(s.cssText,t);o.appendChild(n.createTextNode(`${a}
`))}else{const a=Array.from(n.styleSheets).filter(c=>{try{return"cssRules"in c&&!!c.cssRules.length}catch(u){return k(`Error while reading CSS rules from ${c.href}`,u),!1}});yield Promise.all(a.flatMap(c=>Array.from(c.cssRules).map((u,m)=>C(this,null,function*(){if(ct(u)){let g=m+1;const v=u.href;let f="";try{f=yield R(t,{url:v,requestType:"text",responseType:"text"})}catch(x){k(`Error fetch remote css import from ${v}`,x)}const b=f.replace(Oe,(x,y,h)=>x.replace(h,Ae(h,v)));for(const x of en(b))try{c.insertRule(x,x.startsWith("@import")?g+=1:c.cssRules.length)}catch(y){k("Error inserting rule from remote css import",{rule:x,error:y})}}})))),a.flatMap(c=>Array.from(c.cssRules)).filter(c=>{var u;return at(c)&&Pe(c.style.getPropertyValue("src"))&&((u=Ne(c.style.getPropertyValue("font-family")))==null?void 0:u.some(m=>l.has(m)))}).forEach(c=>{const u=c,m=i.get(u.cssText);m?o.appendChild(n.createTextNode(`${m}
`)):r.push(Fe(u.cssText,u.parentStyleSheet?u.parentStyleSheet.href:null,t).then(g=>{g=ve(g,t),i.set(u.cssText,g),o.appendChild(n.createTextNode(`${g}
`))}))})}})}const Qt=/(\/\*[\s\S]*?\*\/)/gi,pe=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi;function en(e){if(e==null)return[];const t=[];let n=e.replace(Qt,"");for(;;){const i=pe.exec(n);if(!i)break;t.push(i[0])}n=n.replace(pe,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let i=o.exec(n);if(i)l.lastIndex=o.lastIndex;else if(i=l.exec(n),i)o.lastIndex=l.lastIndex;else break;t.push(i[0])}return t}const tn=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,nn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ve(e,t){const{font:n}=t,o=n?n==null?void 0:n.preferredFormat:void 0;return o?e.replace(nn,l=>{for(;;){const[i,,r]=tn.exec(l)||[];if(!r)return"";if(r===o)return`src: ${i};`}}):e}function on(e,t){if(P(e)){const n=e.currentSrc||e.src;if(!J(n))return[R(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(o=>{o&&(e.srcset="",e.dataset.originalSrc=n,e.src=o||"")})];(V||te)&&t.drawImageCount++}else if(U(e)&&!J(e.href.baseVal)){const n=e.href.baseVal;return[R(t,{url:n,imageDom:e,requestType:"image",responseType:"dataUrl"}).then(o=>{o&&(e.dataset.originalSrc=n,e.href.baseVal=o||"")})]}return[]}const rn=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];function ln(e,t){return rn.map(n=>{const o=e.getPropertyValue(n);return!o||o==="none"?null:((V||te)&&t.drawImageCount++,Fe(o,null,t,!0).then(l=>{!l||o===l||e.setProperty(n,l,e.getPropertyPriority(n))}))}).filter(Boolean)}function sn(e,t){var n;const{ownerDocument:o,svgDefsElement:l}=t,i=(n=e.getAttribute("href"))!=null?n:e.getAttribute("xlink:href");if(!i)return[];const[r,s]=i.split("#");if(s){const a=`#${s}`,c=o==null?void 0:o.querySelector(`svg ${a}`);if(r&&e.setAttribute("href",a),l!=null&&l.querySelector(a))return[];if(c)return l==null||l.appendChild(c.cloneNode(!0)),[];if(r)return[R(t,{url:r,responseType:"text"}).then(u=>{l==null||l.insertAdjacentHTML("beforeend",u)})]}return[]}function je(e,t){const{tasks:n}=t;T(e)&&((P(e)||ke(e))&&n.push(...on(e,t)),ut(e)&&n.push(...sn(e,t))),M(e)&&n.push(...ln(e.style,t)),e.childNodes.forEach(o=>{je(o,t)})}function an(e,t){return C(this,null,function*(){const n=yield X(e,t);if(T(n.node)&&U(n.node))return n.node;const{ownerDocument:o,log:l,tasks:i,svgStyleElement:r,svgDefsElement:s,svgStyles:a,font:c,progress:u,autoDestruct:m,onCloneNode:g,onEmbedNode:v,onCreateForeignObjectSvg:f}=n;l.time("clone node");const b=yield ne(n.node,n,!0);if(r&&o){let S="";a.forEach((w,A)=>{S+=`${w.join(`,
`)} {
  ${A}
}
`}),r.appendChild(o.createTextNode(S))}l.timeEnd("clone node"),g==null||g(b),c!==!1&&T(b)&&(l.time("embed web font"),yield Kt(b,n),l.timeEnd("embed web font")),l.time("embed node"),je(b,n);const x=i.length;let y=0;const h=()=>C(this,null,function*(){for(;;){const S=i.pop();if(!S)break;try{yield S}catch(w){k("Failed to run task",w)}u==null||u(++y,x)}});u==null||u(y,x),yield Promise.all([...Array(4)].map(h)),l.timeEnd("embed node"),v==null||v(b);const d=cn(b,n);return s&&d.insertBefore(s,d.children[0]),r&&d.insertBefore(r,d.children[0]),m&&Zt(n),f==null||f(d),d})}function cn(e,t){const{width:n,height:o}=t,l=Ct(n,o,e.ownerDocument),i=l.ownerDocument.createElementNS(l.namespaceURI,"foreignObject");return i.setAttributeNS(null,"x","0%"),i.setAttributeNS(null,"y","0%"),i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%"),i.append(e),l.appendChild(i),l}function un(e,t){return C(this,null,function*(){var n;const o=yield X(e,t),l=yield an(o),i=Et(l,o.isEnable("removeControlCharacter"));o.autoDestruct||(o.svgStyleElement=Te(o.ownerDocument),o.svgDefsElement=(n=o.ownerDocument)==null?void 0:n.createElementNS(H,"defs"),o.svgStyles.clear());const r=F(i,l.ownerDocument);return yield It(r,o)})}function dn(e,t){return C(this,null,function*(){const n=yield X(e,t),{log:o,quality:l,type:i,dpi:r}=n,s=yield un(n);o.time("canvas to data url");let a=s.toDataURL(i,l);if(["image/png","image/jpeg"].includes(i)&&r&&lt&&it){const[c,u]=a.split(",");let m=0,g=!1;if(i==="image/png"){const d=ot(u);d>=0?(m=Math.ceil((d+28)/3)*4,g=!0):m=33/3*4}else i==="image/jpeg"&&(m=18/3*4);const v=u.substring(0,m),f=u.substring(m),b=window.atob(v),x=new Uint8Array(b.length);for(let d=0;d<x.length;d++)x[d]=b.charCodeAt(d);const y=i==="image/png"?Qe(x,r,g):Ge(x,r),h=window.btoa(String.fromCharCode(...y));a=[c,",",h,f].join("")}return o.timeEnd("canvas to data url"),a})}function fn(e,t){return C(this,null,function*(){return dn(yield X(e,K(I({},t),{type:"image/png"})))})}const mn=p("title",null,`
            POS
        `,-1),hn={class:"p-4 flex space-x-2"},gn=["onClick"],pn=["src"],vn={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white"},wn={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},bn={class:"absolute bottom-0 w-full bg-zinc-800 flex"},yn=["onClick"],xn={class:"fixed w-3/12 inset-y-0 right-0 bg-zinc-800 p-4 no-print"},Sn={class:"h-1/2 relative overflow-y-auto"},Cn={class:"text-white flex justify-between"},En={class:"flex space-x-1"},kn=["onClick"],An={class:"flex space-x-1"},_n=["onClick"],Nn=p("i",{class:"bx bx-trash"},null,-1),Tn=[Nn],$n={key:0,class:"font-bold text-white absolute bottom-2"},Dn={class:"text-2xl font-black"},In=p("hr",{class:"border-gray-500"},null,-1),Fn={key:0,class:"h-1/2 relative"},Pn=p("span",{class:"mt-4 text-white"},"Payment",-1),On={class:"relative block"},jn={class:"relative block"},Mn={class:"grid grid-cols-2 md:grid-cols-5 gap-2 my-2"},Ln={key:0,class:"text-white mt-2"},Rn=["disabled"],Un={class:"flex justify-center p-4 bg-white text-gray-900 text-3xl font-bold uppercase"},Bn={id:"receipt",class:"w-64 bg-white"},zn=p("div",{class:"flex justify-center"},[p("img",{src:"logo.jpg",class:"w-32",alt:""})],-1),Vn={class:"flex justify-between pl-4 w-full"},Wn={class:"w-full"},qn={class:"mt-2"},Hn={class:"font-bold"},Xn={class:"pl-4"},Zn=p("hr",{class:"border-black my-2"},null,-1),Gn=p("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1),Kn=Object.assign({layout:null},{__name:"POS",props:{items:Object,categories:Object},setup(e){const t=e,n=$(null),o=$(null),l=$(!1),i=h=>{o.value=h,n.value=t.items[h]},r=$(null),s=Me(()=>{var h;return(h=r.value)==null?void 0:h.reduce((d,S)=>d+S.price*S.count,0)}),a=$(0),c=$(""),u=$(!1),m=$(null),g=()=>{u.value=!0},v=h=>{if(r.value){var d=r.value.findIndex(S=>S.id===h.id);d==-1?(h.count=1,r.value.push(h)):r.value[d].count+=1}else h.count=1,r.value=[h]},f=h=>{var d=r.value.findIndex(S=>S.id===h.id);r.value[d].count-=1,r.value[d].count===0&&r.value.splice(d,1)},b=h=>{var d=r.value.findIndex(S=>S.id===h.id);r.value.splice(d,1)},x=()=>{y(),Be.post(route("transaction.save"),{items:r.value,payment:a.value,customer:c.value}).then(h=>{m.value=h.data.message}).catch(h=>{console.log(h)}).finally(()=>{r.value=null,a.value=null,c.value=null,g()})};Le(()=>{i(t.categories[0].name);let h=navigator.userAgent.toLowerCase();l.value=h.indexOf("android")>-1});const y=()=>{const h=document.getElementById("receipt");fn(h,{quality:1,scale:2}).then(d=>{console.log(d),l&&(window.location.href="rawbt:"+d)})};return(h,d)=>{var S;return _(),N(O,null,[le(Re(ze),null,{default:ie(()=>[mn]),_:1}),p("div",{class:"fixed w-9/12 inset-y-0 left-0 select-none bg-white",onContextmenu:d[2]||(d[2]=j(()=>{},["prevent"]))},[p("div",hn,[(_(!0),N(O,null,B(n.value,w=>(_(),N("div",{class:"border flex w-48 h-48 relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:A=>v(w),ontouchstart:""},[p("img",{draggable:"false",onContextmenu:d[0]||(d[0]=j(()=>{},["prevent"])),onDragstart:d[1]||(d[1]=j(()=>{},["prevent"])),src:`../storage/${w.pic}`,class:"w-48 h-48 object-cover",height:"25px",width:"25px",alt:""},null,40,pn),p("p",vn,E(w.name),1),p("span",wn,E(w.price),1)],8,gn))),256))]),p("div",bn,[(_(!0),N(O,null,B(e.categories,w=>(_(),N("div",{class:ce([{"bg-blue-500 text-white font-bold":o.value===w.name},"py-2 px-4 text-zinc-300 border-r border-zinc-700"]),onClick:A=>i(w.name)},E(w.name),11,yn))),256))])],32),p("div",xn,[p("div",Sn,[(_(!0),N(O,null,B(r.value,w=>(_(),N("div",Cn,[p("div",En,[p("button",{onClick:A=>f(w),class:"w-4 h-4 bg-blue-500 inline-flex justify-center items-center"},"-",8,kn),p("span",null,E(`${w.name} x${w.count}`),1)]),p("div",An,[p("span",null,E(w.price*w.count),1),p("button",{onClick:A=>b(w),class:"w-5 h-5 bg-red-500 inline-flex justify-center items-center"},Tn,8,_n)])]))),256)),s.value>0?(_(),N("p",$n,[Ue("Total: "),p("span",Dn,E(s.value),1)])):G("",!0)]),In,s.value?(_(),N("div",Fn,[Pn,p("label",On,[se(p("input",{"onUpdate:modelValue":d[3]||(d[3]=w=>c.value=w),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-gray-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,512),[[ae,c.value]]),p("i",{onClick:d[4]||(d[4]=j(w=>c.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),p("label",jn,[se(p("input",{"onUpdate:modelValue":d[5]||(d[5]=w=>a.value=w),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-gray-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"P 0.00",type:"number",name:"payment"},null,512),[[ae,a.value]]),p("i",{onClick:d[6]||(d[6]=j(w=>a.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),p("div",Mn,[p("button",{class:"p-2 text-sm font-bold text-gray-800 bg-white rounded-md active:scale-95",onClick:d[7]||(d[7]=w=>a.value+=50)},"50"),p("button",{class:"p-2 text-sm font-bold text-gray-800 bg-white rounded-md active:scale-95",onClick:d[8]||(d[8]=w=>a.value+=100)},"100"),p("button",{class:"p-2 text-sm font-bold text-gray-800 bg-white rounded-md active:scale-95",onClick:d[9]||(d[9]=w=>a.value+=200)},"200"),p("button",{class:"p-2 text-sm font-bold text-gray-800 bg-white rounded-md active:scale-95",onClick:d[10]||(d[10]=w=>a.value+=500)},"500"),p("button",{class:"p-2 text-xs font-bold text-gray-800 bg-white rounded-md active:scale-95",onClick:d[11]||(d[11]=w=>a.value+=1e3)},"1000"),p("button",{class:"bg-white rounded-md w-full p-2 font-bold text-sm active:scale-[0.98] col-span-5",onClick:d[12]||(d[12]=w=>a.value=s.value)},"Exact amount")]),a.value>s.value?(_(),N("p",Ln,"Change: "+E(s.value&&a.value-s.value),1)):G("",!0),p("button",{class:ce(["bg-white rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98] absolute bottom-0 right-0",{"opacity-50":s.value&&a.value<s.value}]),onClick:x,disabled:s.value&&a.value<s.value},"Place order",10,Rn)])):G("",!0)]),le(Ve,{"max-width":"sm",show:u.value,onClose:d[13]||(d[13]=w=>u.value=!1)},{default:ie(()=>[p("div",Un,E(m.value),1)]),_:1},8,["show"]),p("div",Bn,[zn,p("p",null,"Cashier: "+E(h.$page.props.auth.user.name),1),p("div",null,[(_(!0),N(O,null,B(r.value,w=>(_(),N("div",null,[p("p",null,E(w.name),1),p("div",Vn,[p("p",Wn,E(w.price.toFixed(2))+" x"+E(w.count),1),p("p",null,E((w.count*w.price).toFixed(2)),1)])]))),256)),p("div",qn,[p("p",Hn,"TOTAL: "+E((S=s.value)==null?void 0:S.toFixed(2)),1),p("div",Xn,[p("p",null,"CASH: "+E(Number(a.value).toFixed(2)),1),p("p",null,"CHANGE: "+E((Number(a.value)-s.value).toFixed(2)),1)])]),Zn,Gn])])],64)}}});export{Kn as default};
