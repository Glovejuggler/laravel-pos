import{r,k as J,m as K,o as a,f as i,a as w,w as z,u as Y,b as t,F as g,h as _,e as b,d as V,t as d,g as x,p as v,J as $,v as I,n as y,K as Q,Z as X,z as F,I as ee,G as te,H as le}from"./app-CwN049UX.js";import{_ as A}from"./Modal-CO4ygNEF.js";import{Z as se}from"./index-CbjWbaYu.js";import{_ as ne}from"./SawadeecupReceipt-Bt8eUWwN.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k=f=>(te("data-v-1f1f83e4"),f=f(),le(),f),ae=k(()=>t("title",null,`\r
            Sawadeecup - POS\r
        `,-1)),ie={class:"fixed inset-0 overflow-hidden min-h-screen max-h-screen bg-zinc-900 sm:hidden md:block"},de={class:"grid grid-cols-12"},ue={class:"bg-zinc-900 flex flex-col space-y-2 col-span-2 p-2 text-xs md:text-sm min-h-screen max-h-screen z-50 overflow-y-auto"},ce=["onClick"],re={class:"grid grid-cols-4 gap-2 p-2"},be=["onClick"],ve=["src"],pe={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},xe={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},fe={class:"bg-zinc-900 p-4 col-span-3 min-h-screen max-h-screen"},me={class:"h-1/2 relative"},ge={class:"h-5/6 overflow-y-auto px-2 text-white"},he={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2"},we={class:"flex space-x-2 items-center"},_e=["onClick"],ye={class:"flex space-x-2 items-center"},ke=["onClick"],Ce={key:0,class:"absolute bottom-2 text-white w-full"},ze={class:"flex justify-between"},$e={class:"font-bold"},je={class:"text-xl font-black"},De={key:0,class:"font-bold"},Te={class:"text-xl font-black"},Ve={class:"h-1/2 relative"},Ie={class:"relative block mb-1"},Se=["disabled"],Ue={class:"relative block"},Pe=["disabled"],Ee={class:"grid grid-cols-2 md:grid-cols-5 gap-2 my-2"},Oe=["disabled"],Ae=["disabled"],Me=["disabled"],Ne=["disabled"],qe=["disabled"],Be=["disabled"],Le=["disabled"],Re=["disabled"],Ze={class:"flex justify-between text-white space-x-2"},Fe=["disabled"],We={class:"md:hidden sm:block fixed inset-0 bg-zinc-900 min-h-screen overflow-y-auto"},Ge={class:"p-2 flex space-x-2 overflow-x-scroll"},He=["onClick"],Je={class:"grid grid-cols-2 gap-2 p-2 mb-24"},Ke=["onClick"],Ye=["src"],Qe={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},Xe={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},et=k(()=>t("div",{class:"flex justify-center"},[t("i",{class:"bx bx-caret-up text-zinc-900 bg-white px-10 pt-2 rounded-t-3xl"})],-1)),tt=[et],lt={key:0,class:"fixed inset-0 bg-zinc-900"},st=k(()=>t("div",{class:"flex justify-center"},[t("i",{class:"bx bx-caret-down text-zinc-900 bg-white px-10 pb-2 rounded-b-3xl"})],-1)),nt=[st],ot={class:"pt-8 px-2 bg-zinc-900 text-white z-50"},at=k(()=>t("p",{class:"font-semibold mb-2"},"Cart",-1)),it={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2 text-white"},dt={class:"flex space-x-2 items-center"},ut=["onClick"],ct={class:"flex space-x-2 items-center"},rt=["onClick"],bt={class:"fixed inset-x-0 bottom-0 p-2 z-50"},vt={class:"flex justify-between text-white"},pt={class:"font-bold"},xt={class:"text-xl font-black"},ft={key:0,class:"font-bold"},mt={class:"text-xl font-black"},gt={class:"relative block mb-1"},ht=["disabled"],wt={class:"relative block"},_t=["disabled"],yt={class:"grid grid-cols-5 gap-2 my-2"},kt=["disabled"],Ct=["disabled"],zt=["disabled"],$t=["disabled"],jt=["disabled"],Dt=["disabled"],Tt=["disabled"],Vt=["disabled"],It={class:"flex justify-between text-white space-x-2 my-2"},St=["disabled"],Ut={class:"flex justify-center p-4 bg-white text-zinc-900 text-3xl font-bold uppercase"},Pt={class:"p-6 bg-zinc-800 text-white"},Et=k(()=>t("label",{for:"note"},"Note",-1)),Ot={class:"flex w-full"},At={class:"flex justify-end items-center space-x-4 mt-4"},Mt={class:"p-4 bg-zinc-800 text-white"},Nt=k(()=>t("span",{class:"text-lg"},"Do you want to print receipt?",-1)),qt={class:"grid grid-cols-2 gap-2 mt-4"},Bt={key:0,class:"fixed top-0 -left-96"},Lt=Object.assign({layout:null},{__name:"SAWADEECUPOS",props:{items:Object,categories:Object},setup(f){const M=f,S=r(null),U=r(null),h=r(!1),N=r(!1),j=r(!1),P=o=>{U.value=o,S.value=M.items[o]},u=r(null),s=J(()=>{var o;return(o=u.value)==null?void 0:o.reduce((e,l)=>e+l.price*l.count,0)}),n=r(0),p=r(""),c=r(""),D=r(""),E=r(null),T=r(!1),C=r(!1),O=r(!1),q=r(null),W=()=>{O.value=!0},B=o=>{if(u.value){var e=u.value.findIndex(l=>l.id===o.id);e==-1?(o.count=1,u.value.push(o)):u.value[e].count+=1}else o.count=1,u.value=[o]},L=o=>{var e=u.value.findIndex(l=>l.id===o.id);u.value[e].count-=1,u.value[e].count===0&&u.value.splice(e,1),u.value.length||(n.value=0)},R=o=>{var e=u.value.findIndex(l=>l.id===o.id);u.value.splice(e,1),u.value.length||(n.value=0)},Z=o=>{h.value=!0,T.value=!1,ee.post(route("transaction.save"),{items:u.value,payment:n.value,name:p.value,type:c.value,note:D.value},{maxBodyLength:2048,maxContentLength:2048}).then(e=>{q.value=e.data.message,E.value=e.data.transaction}).catch(e=>{console.log(e)}).finally(()=>{u.value=null,n.value=null,p.value=null,c.value=null,D.value=null,h.value=!1,o&&G(),W()})};K(()=>{P(M.categories[0].name);let o=navigator.userAgent.toLowerCase();N.value=o.indexOf("android")>-1});const G=()=>{const o=document.getElementById("receipt");se(o,{quality:1,scale:2}).then(e=>{console.log(e),N.value&&(window.location.href="rawbt:"+e)})},H=new Audio("../notif.mp3");return Echo.private("done-orders").listen("OrderDone",o=>{H.play()}),(o,e)=>(a(),i(g,null,[w(Y(X),null,{default:z(()=>[ae]),_:1}),t("main",ie,[t("div",de,[t("aside",ue,[(a(!0),i(g,null,_(f.categories,l=>(a(),i("div",{class:y([{"bg-zinc-600 font-bold px-5":U.value===l.name},"py-2 px-4 text-white hover:bg-zinc-700 rounded-lg duration-200 ease-in-out"]),onClick:m=>P(l.name)},d(l.name),11,ce))),256))]),t("div",{class:"select-none overflow-y-auto col-span-7 max-h-screen min-h-screen z-50",onContextmenu:e[2]||(e[2]=b(()=>{},["prevent"]))},[t("div",re,[(a(!0),i(g,null,_(S.value,l=>(a(),i("div",{style:F(`background: ${l.color??"#121212"} !important`),class:"item flex w-full aspect-square relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:m=>B(l),ontouchstart:""},[l.pic?(a(),i("img",{key:0,draggable:"false",onContextmenu:e[0]||(e[0]=b(()=>{},["prevent"])),onDragstart:e[1]||(e[1]=b(()=>{},["prevent"])),src:`../storage/${l.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,ve)):x("",!0),t("p",pe,d(l.name),1),t("span",xe,d(l.price),1)],12,be))),256))])],32),t("div",fe,[t("div",me,[t("div",ge,[(a(!0),i(g,null,_(u.value,l=>(a(),i("div",he,[t("div",we,[t("i",{onClick:m=>L(l),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,_e),t("p",null,d(l.name)+" x"+d(l.count),1)]),t("div",ye,[t("p",null,d(l.price*l.count),1),t("i",{onClick:m=>R(l),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,ke)])]))),256))]),s.value>0?(a(),i("div",Ce,[t("div",ze,[t("p",$e,[V("Total: "),t("span",je,d(s.value),1)]),n.value>s.value?(a(),i("p",De,[V("Change: "),t("span",Te,d(s.value&&n.value-s.value),1)])):x("",!0)])])):x("",!0)]),t("div",Ve,[t("label",Ie,[v(t("input",{disabled:!s.value,"onUpdate:modelValue":e[3]||(e[3]=l=>p.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,Se),[[$,p.value]]),t("i",{onClick:e[4]||(e[4]=b(l=>p.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("label",Ue,[v(t("input",{disabled:!s.value,"onUpdate:modelValue":e[5]||(e[5]=l=>n.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,Pe),[[$,n.value]]),t("i",{onClick:e[6]||(e[6]=b(l=>n.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("div",Ee,[t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[7]||(e[7]=l=>n.value+=50)},"50",8,Oe),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[8]||(e[8]=l=>n.value+=100)},"100",8,Ae),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[9]||(e[9]=l=>n.value+=200)},"200",8,Me),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[10]||(e[10]=l=>n.value+=500)},"500",8,Ne),t("button",{disabled:!s.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[11]||(e[11]=l=>n.value+=1e3)},"1000",8,qe),t("button",{disabled:!s.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:e[12]||(e[12]=l=>n.value=s.value)},"Exact amount",8,Be)]),v(t("input",{disabled:!s.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":e[13]||(e[13]=l=>c.value=l)},null,8,Le),[[I,c.value]]),v(t("input",{disabled:!s.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":e[14]||(e[14]=l=>c.value=l)},null,8,Re),[[I,c.value]]),t("div",Ze,[t("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",c.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!s.value}]),for:"dinein"},"Dine-in",2),t("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",c.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!s.value}]),for:"takeout"},"Take-out",2)]),t("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98] absolute bottom-0 right-0",onClick:e[15]||(e[15]=l=>C.value=!0),disabled:!c.value||!s.value||n.value<s.value||!n.value||h.value},d(h.value?"Processing...":"Place order"),9,Fe)])])])]),t("main",We,[t("nav",Ge,[(a(!0),i(g,null,_(f.categories,l=>(a(),i("span",{onClick:m=>P(l.name),class:y(["inline-flex font-semibold px-2 rounded-full border-white border whitespace-nowrap text-clip h-min",U.value===l.name?"text-zinc-900 bg-white":"text-white bg-zinc-900"])},d(l.name),11,He))),256))]),t("div",Je,[(a(!0),i(g,null,_(S.value,l=>(a(),i("div",{style:F(`background: ${l.color??"#121212"} !important`),class:"item flex w-full aspect-square relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:m=>B(l),ontouchstart:""},[l.pic?(a(),i("img",{key:0,draggable:"false",onContextmenu:e[16]||(e[16]=b(()=>{},["prevent"])),onDragstart:e[17]||(e[17]=b(()=>{},["prevent"])),src:`../storage/${l.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,Ye)):x("",!0),t("p",Qe,d(l.name),1),t("span",Xe,d(l.price),1)],12,Ke))),256))]),j.value?x("",!0):(a(),i("div",{key:0,class:"fixed z-40 w-full bottom-0 inset-x-0",onClick:e[18]||(e[18]=l=>j.value=!0)},tt)),w(Q,{"enter-from-class":"translate-y-full","enter-active-class":"ease-in-out duration-100","leave-active-class":"ease-in-out duration-100","leave-to-class":"translate-y-full"},{default:z(()=>[j.value?(a(),i("div",lt,[t("div",{class:"fixed z-40 w-full top-0 inset-x-0",onClick:e[19]||(e[19]=l=>j.value=!1)},nt),t("div",ot,[at,(a(!0),i(g,null,_(u.value,l=>(a(),i("div",it,[t("div",dt,[t("i",{onClick:m=>L(l),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,ut),t("p",null,d(l.name)+" x"+d(l.count),1)]),t("div",ct,[t("p",null,d(l.price*l.count),1),t("i",{onClick:m=>R(l),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,rt)])]))),256))]),t("div",bt,[t("div",vt,[t("p",pt,[V("Total: "),t("span",xt,d(s.value),1)]),n.value>s.value?(a(),i("p",ft,[V("Change: "),t("span",mt,d(s.value&&n.value-s.value),1)])):x("",!0)]),t("label",gt,[v(t("input",{disabled:!s.value,"onUpdate:modelValue":e[20]||(e[20]=l=>p.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,ht),[[$,p.value]]),t("i",{onClick:e[21]||(e[21]=b(l=>p.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("label",wt,[v(t("input",{disabled:!s.value,"onUpdate:modelValue":e[22]||(e[22]=l=>n.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,_t),[[$,n.value]]),t("i",{onClick:e[23]||(e[23]=b(l=>n.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("div",yt,[t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[24]||(e[24]=l=>n.value+=50)},"50",8,kt),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[25]||(e[25]=l=>n.value+=100)},"100",8,Ct),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[26]||(e[26]=l=>n.value+=200)},"200",8,zt),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[27]||(e[27]=l=>n.value+=500)},"500",8,$t),t("button",{disabled:!s.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[28]||(e[28]=l=>n.value+=1e3)},"1000",8,jt),t("button",{disabled:!s.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:e[29]||(e[29]=l=>n.value=s.value)},"Exact amount",8,Dt)]),v(t("input",{disabled:!s.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":e[30]||(e[30]=l=>c.value=l)},null,8,Tt),[[I,c.value]]),v(t("input",{disabled:!s.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":e[31]||(e[31]=l=>c.value=l)},null,8,Vt),[[I,c.value]]),t("div",It,[t("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",c.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!s.value}]),for:"dinein"},"Dine-in",2),t("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",c.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!s.value}]),for:"takeout"},"Take-out",2)]),t("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98]",onClick:e[32]||(e[32]=l=>C.value=!0),disabled:!c.value||!s.value||n.value<s.value||!n.value||h.value},d(h.value?"Processing...":"Place order"),9,St)])])):x("",!0)]),_:1})]),w(A,{"max-width":"sm",show:O.value,onClose:e[33]||(e[33]=l=>O.value=!1)},{default:z(()=>[t("div",Ut,d(q.value),1)]),_:1},8,["show"]),w(A,{"max-width":o.sm,show:C.value},{default:z(()=>[t("div",Pt,[Et,t("div",Ot,[v(t("textarea",{name:"note",id:"note",rows:"5","onUpdate:modelValue":e[34]||(e[34]=l=>D.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none w-full border-zinc-700 bg-zinc-900 text-zinc-300 focus:border-indigo-600 focus:ring-indigo-600 rounded-md shadow-sm"},null,512),[[$,D.value]])]),t("div",At,[t("span",{class:"hover:underline cursor-pointer",onClick:e[35]||(e[35]=l=>C.value=!1)},"Cancel"),t("button",{onClick:e[36]||(e[36]=()=>{T.value=!0,C.value=!1}),class:"px-8 py-2 bg-green-500 hover:bg-green-600 active:bg-green-800 rounded-lg ease-in-out duration-200"},"Next")])])]),_:1},8,["max-width","show"]),w(A,{"max-width":"sm",show:T.value,onClose:e[39]||(e[39]=l=>T.value=!1)},{default:z(()=>[t("div",Mt,[Nt,t("div",qt,[t("button",{onClick:e[37]||(e[37]=l=>Z(!0)),class:"w-full py-2 text-lg bg-blue-500 rounded-lg"},"Yes"),t("button",{onClick:e[38]||(e[38]=l=>Z(!1)),class:"w-full py-2 text-lg bg-red-500 rounded-lg"},"No")])])]),_:1},8,["show"]),E.value?(a(),i("div",Bt,[w(ne,{receipt:E.value,id:"receipt"},null,8,["receipt"])])):x("",!0)],64))}}),Ht=oe(Lt,[["__scopeId","data-v-1f1f83e4"]]);export{Ht as default};
