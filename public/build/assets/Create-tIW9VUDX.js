import{T as $,k as y,r as f,o as a,f as r,a as s,w as M,u as n,b as l,g as V,q as _,z as N,F as u,h as g,A as z,B as A,e as D,Z as F,t as L}from"./app-DBQ8I_Iy.js";import{_ as c}from"./InputLabel-CZeu2Ny8.js";import{_ as m}from"./TextInput-o7d86d8S.js";import{c as v}from"./colors-D-WEp17u.js";const P=l("title",null,`
            Add new item
        `,-1),R={class:"max-w-screen-lg mx-auto py-8"},O=l("p",{class:"dark:text-white mb-8"},"New item",-1),T={class:"grid grid-cols-3 gap-4"},q={key:0,class:"bx bx-plus font-bold text-3xl dark:text-white"},E=["src"],Z={class:"flex mt-2"},G=["value"],H={class:"flex mt-4 items-center space-x-2"},J={class:"col-span-2 p-6 rounded-lg bg-white dark:bg-zinc-800 h-min"},K={class:"grid grid-cols-3 gap-1"},Q=l("p",{class:"block font-medium text-sm text-zinc-700 dark:text-zinc-300 mt-4 select-none"},"Breakdown of cost",-1),W=["onClick"],X=l("div",{class:"flex justify-end"},[l("button",{"type-":"submit",class:"rounded-lg px-4 py-2 bg-green-500 hover:bg-green-700 active:bg-green-900 text-white text-sm duration-200 ease-in-out"},"Save")],-1),Y={id:"costings"},ee=["value"],se={__name:"Create",props:{suggestions:Object},setup(C){const U=Object.keys(v).filter(i=>typeof v[i]=="object"),I=new URLSearchParams(window.location.search),o=$({category_id:I.get("category"),image:"",name:"",price:"",color:"",menu:"",breakdown:[]}),b=y(()=>o.breakdown.reduce((i,t)=>i+t.cost,0)),w=y(()=>o.price-b.value),k=f(""),x=f(null),h=f(null),j=()=>{if(o.image){let i=new FileReader;i.readAsDataURL(o.image),i.onload=t=>{h.value=t.target.result}}},B=()=>{o.breakdown.push({name:"",cost:""})},S=i=>{o.breakdown.splice(i,1)};return(i,t)=>(a(),r(u,null,[s(n(F),null,{default:M(()=>[P]),_:1}),l("div",R,[O,l("div",T,[l("div",null,[l("div",{onClick:t[0]||(t[0]=e=>x.value.click()),class:"h-72 w-72 rounded-lg overflow-hidden bg-white dark:bg-zinc-700 flex justify-center items-center"},[n(o).image?V("",!0):(a(),r("i",q)),n(o).image?(a(),r("img",{key:1,src:h.value,class:"w-72 h-72 object-cover",alt:""},null,8,E)):V("",!0)]),s(c,{class:"mt-4",for:"color",value:"Color"}),l("div",Z,[_(l("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>n(o).color=e),id:"color",name:"color",onChange:t[2]||(t[2]=e=>k.value=e.target.value),class:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 dark:text-white"},[(a(!0),r(u,null,g(n(U),e=>(a(),r(u,null,[(a(!0),r(u,null,g(n(v)[e],d=>(a(),r("option",{style:z(`background: ${d} !important`),value:d},L(d),13,G))),256))],64))),256))],544),[[N,n(o).color]]),l("div",{class:"w-10 h-10 ml-4",style:z(`background-color: ${k.value} !important`)},null,4)]),l("div",H,[_(l("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n(o).menu=e),class:"w-4 h-4 text-blue-600 bg-zinc-100 border-zinc-300 rounded-sm focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-zinc-800 focus:ring-2 dark:bg-zinc-700 dark:border-zinc-600 appearance-none",type:"checkbox",name:"showInMenu",id:"showInMenu"},null,512),[[A,n(o).menu]]),s(c,{for:"showInMenu",value:"Show in menu"})])]),l("div",J,[l("form",{onSubmit:t[9]||(t[9]=D(e=>n(o).post(i.route("items.store")),["prevent"]))},[l("input",{ref_key:"newImage",ref:x,onInput:t[4]||(t[4]=e=>n(o).image=e.target.files[0]),onChange:j,type:"file",accept:"image/*",hidden:""},null,544),s(c,{for:"name",value:"Name"}),s(m,{id:"name",type:"text",modelValue:n(o).name,"onUpdate:modelValue":t[5]||(t[5]=e=>n(o).name=e),class:"mt-2 w-full block"},null,8,["modelValue"]),l("div",K,[l("div",null,[s(c,{class:"mt-4",for:"price",value:"Price"}),s(m,{id:"price",type:"number",modelValue:n(o).price,"onUpdate:modelValue":t[6]||(t[6]=e=>n(o).price=e),class:"mt-2 w-full block"},null,8,["modelValue"])]),l("div",null,[s(c,{class:"mt-4",for:"cost",value:"Cost"}),s(m,{disabled:"",id:"cost",type:"number",modelValue:b.value,"onUpdate:modelValue":t[7]||(t[7]=e=>b.value=e),class:"mt-2 w-full block disabled:bg-zinc-700"},null,8,["modelValue"])]),l("div",null,[s(c,{class:"mt-4",for:"profit",value:"Profit"}),s(m,{disabled:"",id:"profit",type:"number",modelValue:w.value,"onUpdate:modelValue":t[8]||(t[8]=e=>w.value=e),class:"mt-2 w-full block disabled:bg-zinc-700"},null,8,["modelValue"])])]),Q,(a(!0),r(u,null,g(n(o).breakdown,(e,d)=>(a(),r("div",{key:d,class:"grid grid-cols-11 gap-2 m-2"},[s(m,{list:"costings",type:"text",modelValue:e.name,"onUpdate:modelValue":p=>e.name=p,class:"w-full block col-span-5",placeholder:"Item"},null,8,["modelValue","onUpdate:modelValue"]),s(m,{type:"number",modelValue:e.cost,"onUpdate:modelValue":p=>e.cost=p,class:"w-full block col-span-5",placeholder:"Cost"},null,8,["modelValue","onUpdate:modelValue"]),l("i",{onClick:p=>S(d),class:"bx bx-x p-2 w-8 h-8 rounded-lg text-white bg-red-500 hover:bg-red-700 duration-200 ease-in-out inline-flex justify-center items-center"},null,8,W)]))),128)),l("button",{type:"button",class:"text-xs px-4 py-1 rounded-lg bg-zinc-400 text-white",onClick:B},"Add"),X],32)])])]),l("datalist",Y,[(a(!0),r(u,null,g(C.suggestions,e=>(a(),r("option",{value:e},null,8,ee))),256))])],64))}};export{se as default};
