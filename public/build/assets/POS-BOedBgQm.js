import{H as ye,I as he,J as ke,K as Ce,L as _e,r as w,D as G,k as q,M as ce,N,u as R,O as ze,o as m,f as x,a as P,w as E,b as t,g as S,P as se,e as D,Q as oe,F as A,h as V,d as H,t as i,p as T,R as W,v as Q,n as F,Z as je,z as ie,S as $e,G as Te}from"./app-bx6r09WD.js";import{_ as K}from"./Modal-B8EYgpVm.js";import{Z as Oe}from"./index-CbjWbaYu.js";import{d as ae}from"./vuedraggable.umd-DfxPOfhM.js";function ve(s){return ye()?(he(s),!0):!1}const pe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Se=Object.prototype.toString,De=s=>Se.call(s)==="[object Object]",Ie=()=>{},de=Le();function Le(){var s,d;return pe&&((s=window==null?void 0:window.navigator)==null?void 0:s.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((d=window==null?void 0:window.navigator)==null?void 0:d.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Pe(...s){if(s.length!==1)return ke(...s);const d=s[0];return typeof d=="function"?Ce(_e(()=>({get:d,set:Ie}))):w(d)}function ee(s){return Array.isArray(s)?s:[s]}function Ee(s,d,n){return G(s,d,{...n,immediate:!0})}const Ae=pe?window:void 0;function fe(s){var d;const n=N(s);return(d=n==null?void 0:n.$el)!=null?d:n}function Y(...s){const d=[],n=()=>{d.forEach(u=>u()),d.length=0},h=(u,b,v,p)=>(u.addEventListener(b,v,p),()=>u.removeEventListener(b,v,p)),k=q(()=>{const u=ee(N(s[0])).filter(b=>b!=null);return u.every(b=>typeof b!="string")?u:void 0}),y=Ee(()=>{var u,b;return[(b=(u=k.value)==null?void 0:u.map(v=>fe(v)))!=null?b:[Ae].filter(v=>v!=null),ee(N(k.value?s[1]:s[0])),ee(R(k.value?s[2]:s[1])),N(k.value?s[3]:s[2])]},([u,b,v,p])=>{if(n(),!(u!=null&&u.length)||!(b!=null&&b.length)||!(v!=null&&v.length))return;const a=De(p)?{...p}:p;d.push(...u.flatMap(r=>b.flatMap(j=>v.map(g=>h(r,j,g,a)))))},{flush:"post"}),C=()=>{y(),n()};return ve(n),C}const Fe=500,Ne=10;function ue(s,d,n){var h,k;const y=q(()=>fe(s));let C,u,b,v=!1;function p(){C&&(clearTimeout(C),C=void 0),u=void 0,b=void 0,v=!1}function a(o){var z,_,$;const[O,I,L]=[b,u,v];if(p(),!(n!=null&&n.onMouseUp)||!I||!O||(z=n==null?void 0:n.modifiers)!=null&&z.self&&o.target!==y.value)return;(_=n==null?void 0:n.modifiers)!=null&&_.prevent&&o.preventDefault(),($=n==null?void 0:n.modifiers)!=null&&$.stop&&o.stopPropagation();const U=o.x-I.x,B=o.y-I.y,J=Math.sqrt(U*U+B*B);n.onMouseUp(o.timeStamp-O,J,L)}function r(o){var z,_,$,O;(z=n==null?void 0:n.modifiers)!=null&&z.self&&o.target!==y.value||(p(),(_=n==null?void 0:n.modifiers)!=null&&_.prevent&&o.preventDefault(),($=n==null?void 0:n.modifiers)!=null&&$.stop&&o.stopPropagation(),u={x:o.x,y:o.y},b=o.timeStamp,C=setTimeout(()=>{v=!0,d(o)},(O=n==null?void 0:n.delay)!=null?O:Fe))}function j(o){var z,_,$,O;if((z=n==null?void 0:n.modifiers)!=null&&z.self&&o.target!==y.value||!u||(n==null?void 0:n.distanceThreshold)===!1)return;(_=n==null?void 0:n.modifiers)!=null&&_.prevent&&o.preventDefault(),($=n==null?void 0:n.modifiers)!=null&&$.stop&&o.stopPropagation();const I=o.x-u.x,L=o.y-u.y;Math.sqrt(I*I+L*L)>=((O=n==null?void 0:n.distanceThreshold)!=null?O:Ne)&&p()}const g={capture:(h=n==null?void 0:n.modifiers)==null?void 0:h.capture,once:(k=n==null?void 0:n.modifiers)==null?void 0:k.once},M=[Y(y,"pointerdown",r,g),Y(y,"pointermove",j,g),Y(y,["pointerup","pointerleave"],a,g)];return()=>M.forEach(o=>o())}const re={mounted(s,d){typeof d.value=="function"?ue(s,d.value,{modifiers:d.modifiers}):ue(s,...d.value)}};function te(s){return typeof Window<"u"&&s instanceof Window?s.document.documentElement:typeof Document<"u"&&s instanceof Document?s.documentElement:s}function be(s){const d=window.getComputedStyle(s);if(d.overflowX==="scroll"||d.overflowY==="scroll"||d.overflowX==="auto"&&s.clientWidth<s.scrollWidth||d.overflowY==="auto"&&s.clientHeight<s.scrollHeight)return!0;{const n=s.parentNode;return!n||n.tagName==="BODY"?!1:be(n)}}function Me(s){const d=s||window.event,n=d.target;return be(n)?!1:d.touches.length>1?!0:(d.preventDefault&&d.preventDefault(),!1)}const le=new WeakMap;function Ue(s,d=!1){const n=ce(d);let h=null,k="";G(Pe(s),u=>{const b=te(N(u));if(b){const v=b;if(le.get(v)||le.set(v,v.style.overflow),v.style.overflow!=="hidden"&&(k=v.style.overflow),v.style.overflow==="hidden")return n.value=!0;if(n.value)return v.style.overflow="hidden"}},{immediate:!0});const y=()=>{const u=te(N(s));!u||n.value||(de&&(h=Y(u,"touchmove",b=>{Me(b)},{passive:!1})),u.style.overflow="hidden",n.value=!0)},C=()=>{const u=te(N(s));!u||!n.value||(de&&(h==null||h()),u.style.overflow=k,le.delete(u),n.value=!1)};return ve(C),q({get(){return n.value},set(u){u?y():C()}})}function Ve(){let s=!1;const d=ce(!1);return(n,h)=>{if(d.value=h.value,s)return;s=!0;const k=Ue(n,h.value);G(d,y=>k.value=y)}}Ve();const Re={class:"fixed inset-0 overflow-hidden min-h-screen max-h-screen bg-zinc-900 sm:hidden md:block"},qe={class:"grid grid-cols-12"},Be={class:"bg-zinc-900 flex flex-col space-y-2 col-span-2 p-2 text-xs md:text-sm min-h-screen max-h-screen z-50 overflow-y-auto"},He={key:0,class:"flex justify-between items-center text-white py-1"},We=["onClick"],Ge=["onClick"],Je=["src"],Qe={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},Ye={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},Xe={class:"fixed bottom-8 inset-x-0"},Ze={class:"rounded-xl max-w-80 mx-auto p-4 bg-zinc-950 shadow-2xl border border-zinc-800 text-white text-xs"},Ke={class:"flex justify-between items-center"},et={class:"bg-zinc-900 p-4 col-span-3 min-h-screen max-h-screen"},tt={class:"h-1/2 relative"},lt={class:"h-5/6 overflow-y-auto px-2 text-white"},nt={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2"},st={class:"flex space-x-2 items-center"},ot=["onClick"],it={class:"flex space-x-2 items-center"},at=["onClick"],dt={key:0,class:"absolute bottom-2 text-white w-full"},ut={class:"flex justify-between"},rt={class:"font-bold"},ct={class:"text-xl font-black"},vt={key:0,class:"font-bold"},pt={class:"text-xl font-black"},ft={class:"h-1/2 relative"},bt={class:"relative block mb-1"},mt=["disabled"],xt={class:"relative block"},gt=["disabled"],wt={class:"grid grid-cols-2 md:grid-cols-5 gap-2 my-2"},yt=["disabled"],ht=["disabled"],kt=["disabled"],Ct=["disabled"],_t=["disabled"],zt=["disabled"],jt=["disabled"],$t=["disabled"],Tt={class:"flex justify-between text-white space-x-2"},Ot=["disabled"],St={key:0,id:"receipt",class:"w-64 bg-white pb-6 z-10"},Dt={class:"grid grid-cols-2"},It={class:"text-right"},Lt={class:"grid grid-cols-2"},Pt={class:"text-right"},Et={class:"flex justify-between pl-4 w-full"},At={class:"w-full"},Ft={class:"font-bold text-lg flex justify-between"},Nt={class:"pl-4"},Mt={class:"flex justify-between text-sm"},Ut={class:"flex justify-between text-sm"},Vt={class:"text-right"},Rt={class:"flex justify-between text-sm"},qt={class:"w-max"},Bt={class:"md:hidden sm:block fixed inset-0 bg-zinc-900 min-h-screen overflow-y-auto"},Ht={class:"p-2 flex space-x-2 overflow-x-scroll"},Wt=["onClick"],Gt={class:"grid grid-cols-2 gap-2 p-2 mb-24"},Jt=["onClick"],Qt=["src"],Yt={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},Xt={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},Zt={key:0,class:"fixed inset-0 bg-zinc-900"},Kt={class:"pt-8 px-2 bg-zinc-900 text-white z-50"},el={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2 text-white"},tl={class:"flex space-x-2 items-center"},ll=["onClick"],nl={class:"flex space-x-2 items-center"},sl=["onClick"],ol={class:"fixed inset-x-0 bottom-0 p-2 z-50"},il={class:"flex justify-between text-white"},al={class:"font-bold"},dl={class:"text-xl font-black"},ul={key:0,class:"font-bold"},rl={class:"text-xl font-black"},cl={class:"relative block mb-1"},vl=["disabled"],pl={class:"relative block"},fl=["disabled"],bl={class:"grid grid-cols-5 gap-2 my-2"},ml=["disabled"],xl=["disabled"],gl=["disabled"],wl=["disabled"],yl=["disabled"],hl=["disabled"],kl=["disabled"],Cl=["disabled"],_l={class:"flex justify-between text-white space-x-2 my-2"},zl=["disabled"],jl={key:1,id:"receipt",class:"w-64 bg-white pb-6 -z-50"},$l={class:"grid grid-cols-2"},Tl={class:"text-right"},Ol={class:"grid grid-cols-2"},Sl={class:"text-right"},Dl={class:"flex justify-between pl-4 w-full"},Il={class:"w-full"},Ll={class:"font-bold text-lg flex justify-between"},Pl={class:"pl-4"},El={class:"flex justify-between text-sm"},Al={class:"flex justify-between text-sm"},Fl={class:"text-right"},Nl={class:"flex justify-between text-sm"},Ml={class:"w-max"},Ul={class:"flex justify-center p-4 bg-white text-zinc-900 text-3xl font-bold uppercase"},Vl={class:"p-6 bg-zinc-800 text-white"},Rl={class:"flex w-full"},ql={class:"flex justify-end items-center space-x-4 mt-4"},Bl={class:"p-4 bg-zinc-800 text-white"},Hl={class:"grid grid-cols-2 gap-2 mt-4"},Yl=Object.assign({layout:null},{__name:"POS",props:{items:Object,categories:Object},setup(s){const d=s,n=w(null),h=w([]),k=w(null),y=w([]),C=w(!1),u=w(!1);w(!1);const b=w(!1),v=w(!1),p=w(null),a=q(()=>{var c;return(c=p.value)==null?void 0:c.reduce((e,l)=>e+l.price*l.count,0)}),r=w(0),j=w(""),g=w(""),M=w(""),X=w(!1),o=w(null),z=w(!1),_=w(!1),$=w(!1),O=w(null);ze(()=>{let c=navigator.userAgent.toLowerCase();X.value=c.indexOf("android")>-1;const e=JSON.parse(localStorage.getItem("catOrder"))||[];if(e.length){const l=new Map(e.map(f=>[f.id,f.order]));h.value=d.categories.map(f=>({...f,order:l.get(f.id)??f.order})),h.value.sort((f,Z)=>f.order-Z.order)}else h.value=d.categories;L(h.value[0].name)});const I=()=>{$.value=!0},L=c=>{n.value=c,k.value=d.items[c];const e=JSON.parse(localStorage.getItem(`prodOrder.${c}`))||[];if(e.length){const l=new Map(e.map(f=>[f.id,f.order]));y.value=k.value.map(f=>({...f,order:l.get(f.id)??f.order})),y.value.sort((f,Z)=>f.order-Z.order)}else y.value=k.value};G(y,c=>{c.forEach((l,f)=>{l.order=f+1});const e=c.map(l=>({id:l.id,order:l.order}));console.log(n.value),localStorage.setItem(`prodOrder.${n.value}`,JSON.stringify(e))},{deep:!0});const U=c=>{if(!u.value)if(p.value){var e=p.value.findIndex(l=>l.id===c.id);e==-1?(c.count=1,p.value.push(c)):p.value[e].count+=1}else c.count=1,p.value=[c]},B=c=>{var e=p.value.findIndex(l=>l.id===c.id);p.value[e].count-=1,p.value[e].count===0&&p.value.splice(e,1),p.value.length||(r.value=0)},J=c=>{var e=p.value.findIndex(l=>l.id===c.id);p.value.splice(e,1),p.value.length||(r.value=0)},ne=c=>{v.value=!0,z.value=!1,Te.post(route("transaction.save"),{items:p.value,payment:r.value,name:j.value,type:g.value,note:M.value},{maxBodyLength:2048,maxContentLength:2048}).then(e=>{O.value=e.data.message,o.value=e.data.transaction}).catch(e=>{console.log(e)}).finally(()=>{p.value=null,r.value=null,j.value=null,g.value=null,M.value=null,v.value=!1,c&&me(),I()})};G(h,c=>{c.forEach((l,f)=>{l.order=f+1});const e=c.map(l=>({id:l.id,order:l.order}));localStorage.setItem("catOrder",JSON.stringify(e))},{deep:!0});const me=()=>{const c=document.getElementById("receipt");Oe(c,{quality:1,scale:2}).then(e=>{console.log(e),X.value&&(window.location.href="rawbt:"+e)})},xe=new Audio("../notif.mp3");Echo.private("done-orders").listen("OrderDone",c=>{xe.play()});const ge=q(()=>({animation:200,group:"categories",ghostClass:"opacity-40",disabled:!C.value})),we=q(()=>({animation:200,group:"products",ghostClass:"opacity-40",disabled:!u.value}));return(c,e)=>(m(),x(A,null,[P(R(je),null,{default:E(()=>[...e[42]||(e[42]=[t("title",null,`
            POS
        `,-1)])]),_:1}),e[84]||(e[84]=t("div",{class:"fixed"},null,-1)),t("main",Re,[t("div",qe,[t("aside",Be,[C.value?(m(),x("div",He,[e[43]||(e[43]=t("span",null,"Editting sort",-1)),t("i",{onClick:e[0]||(e[0]=l=>C.value=!1),class:"bx bx-check rounded-full text-xl cursor-pointer bg-white text-black h-7 w-7 inline-flex justify-center items-center"})])):S("",!0),P(R(ae),se({list:h.value,"item-key":"order"},ge.value),{item:E(({element:l})=>[T((m(),x("div",{key:l.id,class:F([{"bg-zinc-600 font-bold px-5":n.value===l.name},"py-2 px-4 text-white hover:bg-zinc-700 rounded-lg duration-200 ease-in-out"]),onClick:f=>L(l.name)},[H(i(l.name),1)],10,We)),[[R(re),()=>C.value=!0]])]),_:1},16,["list"])]),y.value.length?(m(),x("div",{key:0,class:"select-none overflow-y-auto col-span-7 max-h-screen min-h-screen z-50",onContextmenu:e[4]||(e[4]=D(()=>{},["prevent"]))},[P(R(ae),se({class:"grid grid-cols-4 gap-2 p-2",list:y.value,"item-key":"order"},we.value),{item:E(({element:l})=>[T((m(),x("div",{key:l.order,style:ie(`background: ${l.color??"#121212"} !important`),class:F(["flex w-full aspect-square relative duration-150 ease-in-out rounded-md overflow-hidden",{"active:scale-95":!u.value}]),onClick:f=>U(l),ontouchstart:""},[l.pic?(m(),x("img",{key:0,draggable:"false",onContextmenu:e[1]||(e[1]=D(()=>{},["prevent"])),onDragstart:e[2]||(e[2]=D(()=>{},["prevent"])),src:`../storage/${l.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,Je)):S("",!0),t("p",Qe,i(l.name),1),t("span",Ye,i(l.price),1)],14,Ge)),[[R(re),()=>u.value=!0]])]),_:1},16,["list"]),P(oe,{"enter-active-class":"ease-out duration-300","enter-from-class":"translate-y-full","leave-active-class":"ease-in duration-150","leave-to-class":"translate-y-full"},{default:E(()=>[T(t("div",Xe,[t("div",Ze,[t("div",Ke,[e[44]||(e[44]=t("span",null,"Sorting",-1)),t("button",{onClick:e[3]||(e[3]=l=>u.value=!1),class:"px-3 py-1 rounded-lg bg-white text-black"},"Save")])])],512),[[$e,u.value]])]),_:1})],32)):S("",!0),t("div",et,[t("div",tt,[t("div",lt,[(m(!0),x(A,null,V(p.value,l=>(m(),x("div",nt,[t("div",st,[t("i",{onClick:f=>B(l),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,ot),t("p",null,i(l.name)+" x"+i(l.count),1)]),t("div",it,[t("p",null,i(l.price*l.count),1),t("i",{onClick:f=>J(l),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,at)])]))),256))]),a.value>0?(m(),x("div",dt,[t("div",ut,[t("p",rt,[e[45]||(e[45]=H("Total: ",-1)),t("span",ct,i(a.value),1)]),r.value>a.value?(m(),x("p",vt,[e[46]||(e[46]=H("Change: ",-1)),t("span",pt,i(a.value&&r.value-a.value),1)])):S("",!0)])])):S("",!0)]),t("div",ft,[t("label",bt,[T(t("input",{disabled:!a.value,"onUpdate:modelValue":e[5]||(e[5]=l=>j.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,mt),[[W,j.value]]),t("i",{onClick:e[6]||(e[6]=D(l=>j.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("label",xt,[T(t("input",{disabled:!a.value,"onUpdate:modelValue":e[7]||(e[7]=l=>r.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,gt),[[W,r.value]]),t("i",{onClick:e[8]||(e[8]=D(l=>r.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("div",wt,[t("button",{disabled:!a.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[9]||(e[9]=l=>r.value+=50)},"50",8,yt),t("button",{disabled:!a.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[10]||(e[10]=l=>r.value+=100)},"100",8,ht),t("button",{disabled:!a.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[11]||(e[11]=l=>r.value+=200)},"200",8,kt),t("button",{disabled:!a.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[12]||(e[12]=l=>r.value+=500)},"500",8,Ct),t("button",{disabled:!a.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[13]||(e[13]=l=>r.value+=1e3)},"1000",8,_t),t("button",{disabled:!a.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:e[14]||(e[14]=l=>r.value=a.value)},"Exact amount",8,zt)]),T(t("input",{disabled:!a.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":e[15]||(e[15]=l=>g.value=l)},null,8,jt),[[Q,g.value]]),T(t("input",{disabled:!a.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":e[16]||(e[16]=l=>g.value=l)},null,8,$t),[[Q,g.value]]),t("div",Tt,[t("label",{class:F(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",g.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!a.value}]),for:"dinein"},"Dine-in",2),t("label",{class:F(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",g.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!a.value}]),for:"takeout"},"Take-out",2)]),t("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98] absolute bottom-0 right-0",onClick:e[17]||(e[17]=l=>_.value=!0),disabled:!g.value||!a.value||r.value<a.value||!r.value||v.value},i(v.value?"Processing...":"Place order"),9,Ot)])])]),o.value?(m(),x("div",St,[e[58]||(e[58]=t("div",{class:"flex justify-center"},[t("img",{src:"logo.jpg",class:"w-32",alt:""})],-1)),t("div",Dt,[t("p",null,i(o.value.name??" "),1),t("p",It,i(`Order #${o.value.number}`),1)]),t("div",Lt,[e[47]||(e[47]=t("b",null,"Type",-1)),t("b",Pt,i(o.value.type),1)]),e[59]||(e[59]=t("hr",{class:"border-black mt-2"},null,-1)),e[60]||(e[60]=t("div",{class:"flex justify-between"},[t("p",null,"Item"),t("p",null,"Subtotal")],-1)),e[61]||(e[61]=t("hr",{class:"border-black mb-2"},null,-1)),t("div",null,[(m(!0),x(A,null,V(o.value.items,l=>(m(),x("div",null,[t("p",null,i(l.name),1),t("div",Et,[t("p",At,i(Number(l.price).amountFormat())+" x"+i(l.quantity),1),t("p",null,i((l.quantity*l.price).amountFormat()),1)])]))),256)),e[52]||(e[52]=t("hr",{class:"border-black my-2"},null,-1)),t("div",null,[t("div",Ft,[e[48]||(e[48]=t("p",null,"TOTAL",-1)),t("p",null,i(o.value.gross.amountFormat()),1)]),t("div",Nt,[t("p",null,"CASH: "+i(o.value.payment.amountFormat()),1),t("p",null,"CHANGE: "+i((o.value.payment-o.value.gross).amountFormat()),1)])]),e[53]||(e[53]=t("hr",{class:"border-black my-2"},null,-1)),e[54]||(e[54]=t("div",{class:"flex justify-center"},[t("p",null,"Thank you. Come again.")],-1)),t("div",Mt,[e[49]||(e[49]=t("p",null,"Cashier",-1)),t("p",null,i(c.$page.props.auth.user.name),1)]),t("div",Ut,[e[50]||(e[50]=t("p",null,"Order ID",-1)),t("p",Vt,i(`dQw4w9WgXcQ${o.value.id.pad(4)}`),1)]),t("div",Rt,[e[51]||(e[51]=t("p",{class:"w-max"},"Order Time",-1)),t("p",qt,i(Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}).format(new Date(o.value.created_at))),1)]),e[55]||(e[55]=t("div",{class:"flex flex-col items-center justify-center text-sm mt-2 w-full"},[t("b",null,"UPTop Diner"),t("p",null,"25 L. Geirosa Ave., Brgy. Silangan"),t("p",null,"Calauan, Laguna"),t("p",null,"La Famiglia Building 2nd Floor")],-1)),e[56]||(e[56]=t("hr",{class:"border-black my-2"},null,-1)),e[57]||(e[57]=t("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1))])])):S("",!0)]),t("main",Bt,[t("nav",Ht,[(m(!0),x(A,null,V(s.categories,l=>(m(),x("span",{onClick:f=>L(l.name),class:F(["inline-flex font-semibold px-2 rounded-full border-white border whitespace-nowrap text-clip h-min",n.value===l.name?"text-zinc-900 bg-white":"text-white bg-zinc-900"])},i(l.name),11,Wt))),256))]),t("div",Gt,[(m(!0),x(A,null,V(k.value,l=>(m(),x("div",{style:ie(`background: ${l.color??"#121212"} !important`),class:"item flex w-full aspect-square relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:f=>U(l),ontouchstart:""},[l.pic?(m(),x("img",{key:0,draggable:"false",onContextmenu:e[18]||(e[18]=D(()=>{},["prevent"])),onDragstart:e[19]||(e[19]=D(()=>{},["prevent"])),src:`../storage/${l.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,Qt)):S("",!0),t("p",Yt,i(l.name),1),t("span",Xt,i(l.price),1)],12,Jt))),256))]),b.value?S("",!0):(m(),x("div",{key:0,class:"fixed z-40 w-full bottom-0 inset-x-0",onClick:e[20]||(e[20]=l=>b.value=!0)},[...e[62]||(e[62]=[t("div",{class:"flex justify-center"},[t("i",{class:"bx bx-caret-up text-zinc-900 bg-white px-10 pt-2 rounded-t-3xl"})],-1)])])),P(oe,{"enter-from-class":"translate-y-full","enter-active-class":"ease-in-out duration-100","leave-active-class":"ease-in-out duration-100","leave-to-class":"translate-y-full"},{default:E(()=>[b.value?(m(),x("div",Zt,[t("div",{class:"fixed z-40 w-full top-0 inset-x-0",onClick:e[21]||(e[21]=l=>b.value=!1)},[...e[63]||(e[63]=[t("div",{class:"flex justify-center"},[t("i",{class:"bx bx-caret-down text-zinc-900 bg-white px-10 pb-2 rounded-b-3xl"})],-1)])]),t("div",Kt,[e[64]||(e[64]=t("p",{class:"font-semibold mb-2"},"Cart",-1)),(m(!0),x(A,null,V(p.value,l=>(m(),x("div",el,[t("div",tl,[t("i",{onClick:f=>B(l),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,ll),t("p",null,i(l.name)+" x"+i(l.count),1)]),t("div",nl,[t("p",null,i(l.price*l.count),1),t("i",{onClick:f=>J(l),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,sl)])]))),256))]),t("div",ol,[t("div",il,[t("p",al,[e[65]||(e[65]=H("Total: ",-1)),t("span",dl,i(a.value),1)]),r.value>a.value?(m(),x("p",ul,[e[66]||(e[66]=H("Change: ",-1)),t("span",rl,i(a.value&&r.value-a.value),1)])):S("",!0)]),t("label",cl,[T(t("input",{disabled:!a.value,"onUpdate:modelValue":e[22]||(e[22]=l=>j.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,vl),[[W,j.value]]),t("i",{onClick:e[23]||(e[23]=D(l=>j.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("label",pl,[T(t("input",{disabled:!a.value,"onUpdate:modelValue":e[24]||(e[24]=l=>r.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,fl),[[W,r.value]]),t("i",{onClick:e[25]||(e[25]=D(l=>r.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("div",bl,[t("button",{disabled:!a.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[26]||(e[26]=l=>r.value+=50)},"50",8,ml),t("button",{disabled:!a.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[27]||(e[27]=l=>r.value+=100)},"100",8,xl),t("button",{disabled:!a.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[28]||(e[28]=l=>r.value+=200)},"200",8,gl),t("button",{disabled:!a.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[29]||(e[29]=l=>r.value+=500)},"500",8,wl),t("button",{disabled:!a.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[30]||(e[30]=l=>r.value+=1e3)},"1000",8,yl),t("button",{disabled:!a.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:e[31]||(e[31]=l=>r.value=a.value)},"Exact amount",8,hl)]),T(t("input",{disabled:!a.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":e[32]||(e[32]=l=>g.value=l)},null,8,kl),[[Q,g.value]]),T(t("input",{disabled:!a.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":e[33]||(e[33]=l=>g.value=l)},null,8,Cl),[[Q,g.value]]),t("div",_l,[t("label",{class:F(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",g.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!a.value}]),for:"dinein"},"Dine-in",2),t("label",{class:F(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",g.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!a.value}]),for:"takeout"},"Take-out",2)]),t("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98]",onClick:e[34]||(e[34]=l=>_.value=!0),disabled:!g.value||!a.value||r.value<a.value||!r.value||v.value},i(v.value?"Processing...":"Place order"),9,zl)])])):S("",!0)]),_:1}),o.value?(m(),x("div",jl,[e[78]||(e[78]=t("div",{class:"flex justify-center"},[t("img",{src:"logo.jpg",class:"w-32",alt:""})],-1)),t("div",$l,[t("p",null,i(o.value.name??" "),1),t("p",Tl,i(`Order #${o.value.number}`),1)]),t("div",Ol,[e[67]||(e[67]=t("b",null,"Type",-1)),t("b",Sl,i(o.value.type),1)]),e[79]||(e[79]=t("hr",{class:"border-black mt-2"},null,-1)),e[80]||(e[80]=t("div",{class:"flex justify-between"},[t("p",null,"Item"),t("p",null,"Subtotal")],-1)),e[81]||(e[81]=t("hr",{class:"border-black mb-2"},null,-1)),t("div",null,[(m(!0),x(A,null,V(o.value.items,l=>(m(),x("div",null,[t("p",null,i(l.name),1),t("div",Dl,[t("p",Il,i(Number(l.price).amountFormat())+" x"+i(l.quantity),1),t("p",null,i((l.quantity*l.price).amountFormat()),1)])]))),256)),e[72]||(e[72]=t("hr",{class:"border-black my-2"},null,-1)),t("div",null,[t("div",Ll,[e[68]||(e[68]=t("p",null,"TOTAL",-1)),t("p",null,i(o.value.gross.amountFormat()),1)]),t("div",Pl,[t("p",null,"CASH: "+i(o.value.payment.amountFormat()),1),t("p",null,"CHANGE: "+i((o.value.payment-o.value.gross).amountFormat()),1)])]),e[73]||(e[73]=t("hr",{class:"border-black my-2"},null,-1)),e[74]||(e[74]=t("div",{class:"flex justify-center"},[t("p",null,"Thank you. Come again.")],-1)),t("div",El,[e[69]||(e[69]=t("p",null,"Cashier",-1)),t("p",null,i(c.$page.props.auth.user.name),1)]),t("div",Al,[e[70]||(e[70]=t("p",null,"Order ID",-1)),t("p",Fl,i(`dQw4w9WgXcQ${o.value.id.pad(4)}`),1)]),t("div",Nl,[e[71]||(e[71]=t("p",{class:"w-max"},"Order Time",-1)),t("p",Ml,i(Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}).format(new Date(o.value.created_at))),1)]),e[75]||(e[75]=t("div",{class:"flex flex-col items-center justify-center text-sm mt-2 w-full"},[t("b",null,"UPTop Diner"),t("p",null,"25 L. Geirosa Ave., Brgy. Silangan"),t("p",null,"Calauan, Laguna"),t("p",null,"La Famiglia Building 2nd Floor")],-1)),e[76]||(e[76]=t("hr",{class:"border-black my-2"},null,-1)),e[77]||(e[77]=t("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1))])])):S("",!0)]),P(K,{"max-width":"sm",show:$.value,onClose:e[35]||(e[35]=l=>$.value=!1)},{default:E(()=>[t("div",Ul,i(O.value),1)]),_:1},8,["show"]),P(K,{"max-width":c.sm,show:_.value},{default:E(()=>[t("div",Vl,[e[82]||(e[82]=t("label",{for:"note"},"Note",-1)),t("div",Rl,[T(t("textarea",{name:"note",id:"note",rows:"5","onUpdate:modelValue":e[36]||(e[36]=l=>M.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none w-full border-zinc-700 bg-zinc-900 text-zinc-300 focus:border-indigo-600 focus:ring-indigo-600 rounded-md shadow-sm"},null,512),[[W,M.value]])]),t("div",ql,[t("span",{class:"hover:underline cursor-pointer",onClick:e[37]||(e[37]=l=>_.value=!1)},"Cancel"),t("button",{onClick:e[38]||(e[38]=()=>{z.value=!0,_.value=!1}),class:"px-8 py-2 bg-green-500 hover:bg-green-600 active:bg-green-800 rounded-lg ease-in-out duration-200"},"Next")])])]),_:1},8,["max-width","show"]),P(K,{"max-width":"sm",show:z.value,onClose:e[41]||(e[41]=l=>z.value=!1)},{default:E(()=>[t("div",Bl,[e[83]||(e[83]=t("span",{class:"text-lg"},"Do you want to print receipt?",-1)),t("div",Hl,[t("button",{onClick:e[39]||(e[39]=l=>ne(!0)),class:"w-full py-2 text-lg bg-blue-500 rounded-lg"},"Yes"),t("button",{onClick:e[40]||(e[40]=l=>ne(!1)),class:"w-full py-2 text-lg bg-red-500 rounded-lg"},"No")])])]),_:1},8,["show"])],64))}});export{Yl as default};
