import{r as h,o as l,f as a,a as b,w as g,u as c,b as t,t as s,g as C,F as _,k as y,Z as j,d as z,s as F,O as $}from"./app-S3T_1_Ei.js";import{_ as S}from"./Modal-BESawaZo.js";const O=t("title",null,`
            Sales
        `,-1),T={class:"max-w-screen-xl mx-auto mt-8"},I={class:"mb-4 flex space-x-2"},N={class:"dark:text-white font-semibold"},M={key:0,class:"dark:text-white w-full bg-white dark:bg-zinc-800 text-left"},V=t("thead",{class:"text-xs"},[t("tr",null,[t("th",{class:"p-4"},"Customer"),t("th",{class:"p-4"},"Time"),t("th",{class:"p-4"},"Date"),t("th",{class:"p-4"},"Orders"),t("th",{class:"p-4"},"Quantity"),t("th",{class:"p-4"},"Gross Sales"),t("th",{class:"p-4"},"Net Income"),t("th",{class:"p-4"},"Actions")])],-1),B={class:"bg-white dark:bg-zinc-800 border-b border-zinc-600"},L={class:"px-4 py-2"},q={class:"px-4 py-2"},A={class:"text-xs opacity-70"},E={class:"px-4 py-2"},R={class:"px-4 py-2"},W={class:"px-4 py-2"},G={class:"px-4 py-2"},H={class:"px-4 py-2"},K={class:"px-4 py-2"},Q={class:"flex space-x-2"},Z=t("i",{class:"bx bx-printer dark:text-white inline-flex justify-center items-center p-2 rounded-full bg-green-500 hover:bg-green-700 active:bg-green-900 duration-200 ease-in-out cursor-pointer"},null,-1),J=["onClick"],P={class:"bg-white font-bold dark:bg-zinc-800 border-b border-zinc-600"},U={class:"px-4 py-2"},X=t("td",{class:"px-4 py-2"},null,-1),Y=t("td",{class:"px-4 py-2"},null,-1),tt=t("td",{class:"px-4 py-2"},null,-1),et=t("td",{class:"px-4 py-2"},null,-1),st={class:"px-4 py-2"},ot={class:"px-4 py-2"},nt=t("td",{class:"px-4 py-2"},null,-1),lt={key:1,class:"flex justify-center mt-14"},at=t("div",{class:"flex justify-center items-center flex-col text-zinc-700 dark:text-zinc-400"},[t("i",{class:"bx bx-ghost text-7xl"}),t("p",null,"Oohh... It's empty in here.")],-1),rt=[at],it={class:"dark:text-white p-6"},ct=t("p",{class:"font-bold"},"Confirmation",-1),dt=t("p",{class:"mt-4"},"This transaction record will be deleted. Enter the code to continue.",-1),ut={class:"flex justify-center mt-4 font-bold tracking-wider text-4xl"},pt={__name:"Sales",props:{transactions:Object,filters:Object,total:Object},setup(r){const f=r,w=(o,n)=>{const e=Math.ceil(o),d=Math.floor(n);return Math.floor(Math.random()*(d-e+1)+e)},u=h(!1),m=h(null),x=h(""),p=h(null),v=o=>{m.value=o,x.value=w(1e5,999999),u.value=!0,F(()=>p.value.focus())},k=o=>{o==x.value&&$.delete(route("order.cancel",m.value.id),{onStart:()=>p.value.disabled=!0,onSuccess:()=>u.value=!1})},i=f.filters.date?new Date(f.filters.date):new Date,D=i<new Date(new Date().setHours(0,0,0,0));return(o,n)=>(l(),a(_,null,[b(c(j),null,{default:g(()=>[O]),_:1}),t("div",T,[t("div",I,[t("i",{onClick:n[0]||(n[0]=e=>o.$inertia.get(o.route("sales"),{date:new Date(c(i).setDate(c(i).getDate()-1)).toLocaleDateString()})),class:"bx bxs-chevron-left dark:text-white hover:bg-white hover:text-zinc-900 w-6 h-6 inline-flex justify-center items-center rounded-full border dark:border-white"}),t("p",N,s(c(i).toWordFormat()),1),D?(l(),a("i",{key:0,onClick:n[1]||(n[1]=e=>o.$inertia.get(o.route("sales"),{date:new Date(c(i).setDate(c(i).getDate()+1)).toLocaleDateString()})),class:"bx bxs-chevron-right dark:text-white hover:bg-white hover:text-zinc-900 w-6 h-6 inline-flex justify-center items-center rounded-full border dark:border-white"})):C("",!0)]),r.transactions.length?(l(),a("table",M,[V,t("tbody",null,[(l(!0),a(_,null,y(r.transactions,e=>(l(),a("tr",B,[t("td",L,s(e.name??`#${e.number}`),1),t("td",q,[z(s(new Date(e.created_at).toTimeFormat())+" ",1),t("span",A,s(e.elapsed)+"s",1)]),t("td",E,s(new Date(e.created_at).toWordFormat()),1),t("td",R,[t("div",null,[(l(!0),a(_,null,y(e.items,d=>(l(),a("p",null,s(`${d.name} x${d.quantity}`),1))),256))])]),t("td",W,s(e.quantity),1),t("td",G,s(e.gross.amountFormat()),1),t("td",H,s((e.gross-e.cost).amountFormat()),1),t("td",K,[t("div",Q,[Z,t("i",{onClick:d=>v(e),class:"bx bx-trash dark:text-white inline-flex justify-center items-center p-2 rounded-full bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out cursor-pointer"},null,8,J)])])]))),256)),t("tr",P,[t("td",U,s(r.transactions.length),1),X,Y,tt,et,t("td",st,s(r.total.gross.amountFormat()),1),t("td",ot,s((r.total.gross-r.total.cost).amountFormat()),1),nt])])])):(l(),a("div",lt,rt))]),b(S,{show:u.value,"max-width":"md",onClose:n[3]||(n[3]=e=>u.value=!1)},{default:g(()=>[t("div",it,[ct,dt,t("div",ut,s(x.value),1),t("input",{ref_key:"codeInput",ref:p,onKeyup:n[2]||(n[2]=e=>k(e.target.value)),class:"bg-zinc-900 w-full rounded-lg mt-2",type:"text"},null,544)])]),_:1},8,["show"])],64))}};export{pt as default};
