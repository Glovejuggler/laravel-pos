import{r as p,k as Z,J as se,D as le,K as ne,o as d,f as u,a as j,w as _,u as B,b as e,P as oe,e as h,c as ae,L as ie,g as x,F as y,h as $,d as O,t as l,p as f,N as S,v as V,n as T,M as de,Z as ue,z as W,G as re,H as ce,I as pe}from"./app-BOAQYsE1.js";import{_ as q}from"./Modal-Dr-cRsxx.js";import{Z as be}from"./index-CbjWbaYu.js";import{d as X}from"./vuedraggable.umd-HQY9M-PE.js";import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";const o=k=>(re("data-v-ef1db2cd"),k=k(),ce(),k),xe=o(()=>e("title",null,`\r
            POS\r
        `,-1)),fe={class:"fixed inset-0 overflow-hidden min-h-screen max-h-screen bg-zinc-900 sm:hidden md:block"},me={class:"grid grid-cols-12"},he={class:"bg-zinc-900 flex flex-col space-y-2 col-span-2 p-2 text-xs md:text-sm min-h-screen max-h-screen z-50 overflow-y-auto"},ge=["onClick"],_e={class:"flex justify-between items-center text-white py-1"},we=o(()=>e("span",null,"Editting sort",-1)),ye=["onClick"],ke=["src"],Ce={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},ze={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},je={class:"bg-zinc-900 p-4 col-span-3 min-h-screen max-h-screen"},$e={class:"h-1/2 relative"},Te={class:"h-5/6 overflow-y-auto px-2 text-white"},Ie={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2"},Oe={class:"flex space-x-2 items-center"},Se=["onClick"],De={class:"flex space-x-2 items-center"},Fe=["onClick"],Ne={key:0,class:"absolute bottom-2 text-white w-full"},Pe={class:"flex justify-between"},Ae={class:"font-bold"},Le={class:"text-xl font-black"},Ve={key:0,class:"font-bold"},Ee={class:"text-xl font-black"},Ue={class:"h-1/2 relative"},Be={class:"relative block mb-1"},qe=["disabled"],Me={class:"relative block"},He=["disabled"],Ge={class:"grid grid-cols-2 md:grid-cols-5 gap-2 my-2"},Re=["disabled"],Qe=["disabled"],Je=["disabled"],Ze=["disabled"],We=["disabled"],Xe=["disabled"],Ke=["disabled"],Ye=["disabled"],et={class:"flex justify-between text-white space-x-2"},tt=["disabled"],st={key:0,id:"receipt",class:"w-64 bg-white pb-6 z-10"},lt=o(()=>e("div",{class:"flex justify-center"},[e("img",{src:"logo.jpg",class:"w-32",alt:""})],-1)),nt={class:"grid grid-cols-2"},ot={class:"text-right"},at={class:"grid grid-cols-2"},it=o(()=>e("b",null,"Type",-1)),dt={class:"text-right"},ut=o(()=>e("hr",{class:"border-black mt-2"},null,-1)),rt=o(()=>e("div",{class:"flex justify-between"},[e("p",null,"Item"),e("p",null,"Subtotal")],-1)),ct=o(()=>e("hr",{class:"border-black mb-2"},null,-1)),pt={class:"flex justify-between pl-4 w-full"},bt={class:"w-full"},vt=o(()=>e("hr",{class:"border-black my-2"},null,-1)),xt={class:"font-bold text-lg flex justify-between"},ft=o(()=>e("p",null,"TOTAL",-1)),mt={class:"pl-4"},ht=o(()=>e("hr",{class:"border-black my-2"},null,-1)),gt=o(()=>e("div",{class:"flex justify-center"},[e("p",null,"Thank you. Come again.")],-1)),_t={class:"flex justify-between text-sm"},wt=o(()=>e("p",null,"Cashier",-1)),yt={class:"flex justify-between text-sm"},kt=o(()=>e("p",null,"Order ID",-1)),Ct={class:"text-right"},zt={class:"flex justify-between text-sm"},jt=o(()=>e("p",{class:"w-max"},"Order Time",-1)),$t={class:"w-max"},Tt=o(()=>e("div",{class:"flex flex-col items-center justify-center text-sm mt-2 w-full"},[e("b",null,"UPTop Diner"),e("p",null,"25 L. Geirosa Ave., Brgy. Silangan"),e("p",null,"Calauan, Laguna"),e("p",null,"La Famiglia Building 2nd Floor")],-1)),It=o(()=>e("hr",{class:"border-black my-2"},null,-1)),Ot=o(()=>e("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1)),St={class:"md:hidden sm:block fixed inset-0 bg-zinc-900 min-h-screen overflow-y-auto"},Dt={class:"p-2 flex space-x-2 overflow-x-scroll"},Ft=["onClick"],Nt={class:"grid grid-cols-2 gap-2 p-2 mb-24"},Pt=["onClick"],At=["src"],Lt={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},Vt={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},Et=o(()=>e("div",{class:"flex justify-center"},[e("i",{class:"bx bx-caret-up text-zinc-900 bg-white px-10 pt-2 rounded-t-3xl"})],-1)),Ut=[Et],Bt={key:0,class:"fixed inset-0 bg-zinc-900"},qt=o(()=>e("div",{class:"flex justify-center"},[e("i",{class:"bx bx-caret-down text-zinc-900 bg-white px-10 pb-2 rounded-b-3xl"})],-1)),Mt=[qt],Ht={class:"pt-8 px-2 bg-zinc-900 text-white z-50"},Gt=o(()=>e("p",{class:"font-semibold mb-2"},"Cart",-1)),Rt={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2 text-white"},Qt={class:"flex space-x-2 items-center"},Jt=["onClick"],Zt={class:"flex space-x-2 items-center"},Wt=["onClick"],Xt={class:"fixed inset-x-0 bottom-0 p-2 z-50"},Kt={class:"flex justify-between text-white"},Yt={class:"font-bold"},es={class:"text-xl font-black"},ts={key:0,class:"font-bold"},ss={class:"text-xl font-black"},ls={class:"relative block mb-1"},ns=["disabled"],os={class:"relative block"},as=["disabled"],is={class:"grid grid-cols-5 gap-2 my-2"},ds=["disabled"],us=["disabled"],rs=["disabled"],cs=["disabled"],ps=["disabled"],bs=["disabled"],vs=["disabled"],xs=["disabled"],fs={class:"flex justify-between text-white space-x-2 my-2"},ms=["disabled"],hs={key:1,id:"receipt",class:"w-64 bg-white pb-6 -z-50"},gs=o(()=>e("div",{class:"flex justify-center"},[e("img",{src:"logo.jpg",class:"w-32",alt:""})],-1)),_s={class:"grid grid-cols-2"},ws={class:"text-right"},ys={class:"grid grid-cols-2"},ks=o(()=>e("b",null,"Type",-1)),Cs={class:"text-right"},zs=o(()=>e("hr",{class:"border-black mt-2"},null,-1)),js=o(()=>e("div",{class:"flex justify-between"},[e("p",null,"Item"),e("p",null,"Subtotal")],-1)),$s=o(()=>e("hr",{class:"border-black mb-2"},null,-1)),Ts={class:"flex justify-between pl-4 w-full"},Is={class:"w-full"},Os=o(()=>e("hr",{class:"border-black my-2"},null,-1)),Ss={class:"font-bold text-lg flex justify-between"},Ds=o(()=>e("p",null,"TOTAL",-1)),Fs={class:"pl-4"},Ns=o(()=>e("hr",{class:"border-black my-2"},null,-1)),Ps=o(()=>e("div",{class:"flex justify-center"},[e("p",null,"Thank you. Come again.")],-1)),As={class:"flex justify-between text-sm"},Ls=o(()=>e("p",null,"Cashier",-1)),Vs={class:"flex justify-between text-sm"},Es=o(()=>e("p",null,"Order ID",-1)),Us={class:"text-right"},Bs={class:"flex justify-between text-sm"},qs=o(()=>e("p",{class:"w-max"},"Order Time",-1)),Ms={class:"w-max"},Hs=o(()=>e("div",{class:"flex flex-col items-center justify-center text-sm mt-2 w-full"},[e("b",null,"UPTop Diner"),e("p",null,"25 L. Geirosa Ave., Brgy. Silangan"),e("p",null,"Calauan, Laguna"),e("p",null,"La Famiglia Building 2nd Floor")],-1)),Gs=o(()=>e("hr",{class:"border-black my-2"},null,-1)),Rs=o(()=>e("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1)),Qs={class:"flex justify-center p-4 bg-white text-zinc-900 text-3xl font-bold uppercase"},Js={class:"p-6 bg-zinc-800 text-white"},Zs=o(()=>e("label",{for:"note"},"Note",-1)),Ws={class:"flex w-full"},Xs={class:"flex justify-end items-center space-x-4 mt-4"},Ks={class:"p-4 bg-zinc-800 text-white"},Ys=o(()=>e("span",{class:"text-lg"},"Do you want to print receipt?",-1)),el={class:"grid grid-cols-2 gap-2 mt-4"},tl=Object.assign({layout:null},{__name:"Playground",props:{items:Object,categories:Object},setup(k){const D=k,w=p(null),F=p(null),C=p(!1),M=p(!1),N=p(!1),E=i=>{F.value=i,w.length?w.value.splice(0,w.value.length,...D.items[i]):w.value=D.items[i]},c=p(null),n=Z(()=>{var i;return(i=c.value)==null?void 0:i.reduce((t,b)=>t+b.price*b.count,0)}),a=p(0),g=p(""),v=p(""),P=p(""),r=p(null),A=p(!1),I=p(!1),U=p(!1),H=p(null),K=()=>{U.value=!0},G=i=>{if(c.value){var t=c.value.findIndex(b=>b.id===i.id);t==-1?(i.count=1,c.value.push(i)):c.value[t].count+=1}else i.count=1,c.value=[i]},R=i=>{var t=c.value.findIndex(b=>b.id===i.id);c.value[t].count-=1,c.value[t].count===0&&c.value.splice(t,1),c.value.length||(a.value=0)},Q=i=>{var t=c.value.findIndex(b=>b.id===i.id);c.value.splice(t,1),c.value.length||(a.value=0)},J=i=>{C.value=!0,A.value=!1,pe.post(route("transaction.save"),{items:c.value,payment:a.value,name:g.value,type:v.value,note:P.value},{maxBodyLength:2048,maxContentLength:2048}).then(t=>{H.value=t.data.message,r.value=t.data.transaction}).catch(t=>{console.log(t)}).finally(()=>{c.value=null,a.value=null,g.value=null,v.value=null,P.value=null,C.value=!1,i&&Y(),K()})},z=p([]);se(()=>{let i=navigator.userAgent.toLowerCase();M.value=i.indexOf("android")>-1;const t=JSON.parse(localStorage.getItem("catOrder"))||[];if(t.length){const b=new Map(t.map(s=>[s.id,s.order]));z.value=D.categories.map(s=>({...s,order:b.get(s.id)??s.order})),z.value.sort((s,m)=>s.order-m.order)}else z.value=D.categories;E(z.value[0].name)}),le(z,i=>{i.forEach((b,s)=>{b.order=s+1});const t=i.map(b=>({id:b.id,order:b.order}));localStorage.setItem("catOrder",JSON.stringify(t))},{deep:!0});const Y=()=>{const i=document.getElementById("receipt");be(i,{quality:1,scale:2}).then(t=>{console.log(t),M.value&&(window.location.href="rawbt:"+t)})},ee=new Audio("../notif.mp3");Echo.private("done-orders").listen("OrderDone",i=>{ee.play()});const L=p(!1);p(!1);const te=Z(()=>({animation:200,group:"products",ghostClass:"opacity-40"}));return(i,t)=>{const b=ne("longpress");return d(),u(y,null,[j(B(ue),null,{default:_(()=>[xe]),_:1}),e("main",fe,[e("div",me,[e("aside",he,[j(B(X),{list:z.value,"item-key":"order",disabled:!L.value},oe({item:_(({element:s})=>[f((d(),u("div",{class:T([{"bg-zinc-600 font-bold px-5":F.value===s.name},"py-2 px-4 text-white hover:bg-zinc-700 rounded-lg duration-200 ease-in-out"]),onClick:m=>E(s.name)},[O(l(s.name),1)],10,ge)),[[b,()=>L.value=!0]])]),_:2},[L.value?{name:"header",fn:_(()=>[e("div",_e,[we,e("i",{onClick:t[0]||(t[0]=s=>L.value=!1),class:"bx bx-check rounded-full text-xl cursor-pointer bg-white text-black h-7 w-7 inline-flex justify-center items-center"})])]),key:"0"}:void 0]),1032,["list","disabled"])]),w.value.length?(d(),u("div",{key:0,class:"select-none overflow-y-auto col-span-7 max-h-screen min-h-screen z-50",onContextmenu:t[3]||(t[3]=h(()=>{},["prevent"]))},[(d(),ae(B(X),ie({key:F.value.id,list:w.value},te.value,{tag:"transition-group","component-data":{name:"shift",tag:"div",class:"grid grid-cols-4 gap-2 p-2"}}),{item:_(({element:s})=>[(d(),u("div",{key:s.id,style:W(`background: ${s.color??"#121212"} !important`),class:"flex w-full aspect-square relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:m=>G(s),ontouchstart:""},[s.pic?(d(),u("img",{key:0,draggable:"false",onContextmenu:t[1]||(t[1]=h(()=>{},["prevent"])),onDragstart:t[2]||(t[2]=h(()=>{},["prevent"])),src:`../storage/${s.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,ke)):x("",!0),e("p",Ce,l(s.name),1),e("span",ze,l(s.price),1)],12,ye))]),_:1},16,["list"]))],32)):x("",!0),e("div",je,[e("div",$e,[e("div",Te,[(d(!0),u(y,null,$(c.value,s=>(d(),u("div",Ie,[e("div",Oe,[e("i",{onClick:m=>R(s),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,Se),e("p",null,l(s.name)+" x"+l(s.count),1)]),e("div",De,[e("p",null,l(s.price*s.count),1),e("i",{onClick:m=>Q(s),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,Fe)])]))),256))]),n.value>0?(d(),u("div",Ne,[e("div",Pe,[e("p",Ae,[O("Total: "),e("span",Le,l(n.value),1)]),a.value>n.value?(d(),u("p",Ve,[O("Change: "),e("span",Ee,l(n.value&&a.value-n.value),1)])):x("",!0)])])):x("",!0)]),e("div",Ue,[e("label",Be,[f(e("input",{disabled:!n.value,"onUpdate:modelValue":t[4]||(t[4]=s=>g.value=s),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,qe),[[S,g.value]]),e("i",{onClick:t[5]||(t[5]=h(s=>g.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),e("label",Me,[f(e("input",{disabled:!n.value,"onUpdate:modelValue":t[6]||(t[6]=s=>a.value=s),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,He),[[S,a.value]]),e("i",{onClick:t[7]||(t[7]=h(s=>a.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),e("div",Ge,[e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:t[8]||(t[8]=s=>a.value+=50)},"50",8,Re),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:t[9]||(t[9]=s=>a.value+=100)},"100",8,Qe),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:t[10]||(t[10]=s=>a.value+=200)},"200",8,Je),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:t[11]||(t[11]=s=>a.value+=500)},"500",8,Ze),e("button",{disabled:!n.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:t[12]||(t[12]=s=>a.value+=1e3)},"1000",8,We),e("button",{disabled:!n.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:t[13]||(t[13]=s=>a.value=n.value)},"Exact amount",8,Xe)]),f(e("input",{disabled:!n.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":t[14]||(t[14]=s=>v.value=s)},null,8,Ke),[[V,v.value]]),f(e("input",{disabled:!n.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":t[15]||(t[15]=s=>v.value=s)},null,8,Ye),[[V,v.value]]),e("div",et,[e("label",{class:T(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",v.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"dinein"},"Dine-in",2),e("label",{class:T(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",v.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"takeout"},"Take-out",2)]),e("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98] absolute bottom-0 right-0",onClick:t[16]||(t[16]=s=>I.value=!0),disabled:!v.value||!n.value||a.value<n.value||!a.value||C.value},l(C.value?"Processing...":"Place order"),9,tt)])])]),r.value?(d(),u("div",st,[lt,e("div",nt,[e("p",null,l(r.value.name??" "),1),e("p",ot,l(`Order #${r.value.number}`),1)]),e("div",at,[it,e("b",dt,l(r.value.type),1)]),ut,rt,ct,e("div",null,[(d(!0),u(y,null,$(r.value.items,s=>(d(),u("div",null,[e("p",null,l(s.name),1),e("div",pt,[e("p",bt,l(Number(s.price).amountFormat())+" x"+l(s.quantity),1),e("p",null,l((s.quantity*s.price).amountFormat()),1)])]))),256)),vt,e("div",null,[e("div",xt,[ft,e("p",null,l(r.value.gross.amountFormat()),1)]),e("div",mt,[e("p",null,"CASH: "+l(r.value.payment.amountFormat()),1),e("p",null,"CHANGE: "+l((r.value.payment-r.value.gross).amountFormat()),1)])]),ht,gt,e("div",_t,[wt,e("p",null,l(i.$page.props.auth.user.name),1)]),e("div",yt,[kt,e("p",Ct,l(`dQw4w9WgXcQ${r.value.id.pad(4)}`),1)]),e("div",zt,[jt,e("p",$t,l(Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}).format(new Date(r.value.created_at))),1)]),Tt,It,Ot])])):x("",!0)]),e("main",St,[e("nav",Dt,[(d(!0),u(y,null,$(k.categories,s=>(d(),u("span",{onClick:m=>E(s.name),class:T(["inline-flex font-semibold px-2 rounded-full border-white border whitespace-nowrap text-clip h-min",F.value===s.name?"text-zinc-900 bg-white":"text-white bg-zinc-900"])},l(s.name),11,Ft))),256))]),e("div",Nt,[(d(!0),u(y,null,$(w.value,s=>(d(),u("div",{style:W(`background: ${s.color??"#121212"} !important`),class:"item flex w-full aspect-square relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:m=>G(s),ontouchstart:""},[s.pic?(d(),u("img",{key:0,draggable:"false",onContextmenu:t[17]||(t[17]=h(()=>{},["prevent"])),onDragstart:t[18]||(t[18]=h(()=>{},["prevent"])),src:`../storage/${s.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,At)):x("",!0),e("p",Lt,l(s.name),1),e("span",Vt,l(s.price),1)],12,Pt))),256))]),N.value?x("",!0):(d(),u("div",{key:0,class:"fixed z-40 w-full bottom-0 inset-x-0",onClick:t[19]||(t[19]=s=>N.value=!0)},Ut)),j(de,{"enter-from-class":"translate-y-full","enter-active-class":"ease-in-out duration-100","leave-active-class":"ease-in-out duration-100","leave-to-class":"translate-y-full"},{default:_(()=>[N.value?(d(),u("div",Bt,[e("div",{class:"fixed z-40 w-full top-0 inset-x-0",onClick:t[20]||(t[20]=s=>N.value=!1)},Mt),e("div",Ht,[Gt,(d(!0),u(y,null,$(c.value,s=>(d(),u("div",Rt,[e("div",Qt,[e("i",{onClick:m=>R(s),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,Jt),e("p",null,l(s.name)+" x"+l(s.count),1)]),e("div",Zt,[e("p",null,l(s.price*s.count),1),e("i",{onClick:m=>Q(s),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,Wt)])]))),256))]),e("div",Xt,[e("div",Kt,[e("p",Yt,[O("Total: "),e("span",es,l(n.value),1)]),a.value>n.value?(d(),u("p",ts,[O("Change: "),e("span",ss,l(n.value&&a.value-n.value),1)])):x("",!0)]),e("label",ls,[f(e("input",{disabled:!n.value,"onUpdate:modelValue":t[21]||(t[21]=s=>g.value=s),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,ns),[[S,g.value]]),e("i",{onClick:t[22]||(t[22]=h(s=>g.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),e("label",os,[f(e("input",{disabled:!n.value,"onUpdate:modelValue":t[23]||(t[23]=s=>a.value=s),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,as),[[S,a.value]]),e("i",{onClick:t[24]||(t[24]=h(s=>a.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),e("div",is,[e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:t[25]||(t[25]=s=>a.value+=50)},"50",8,ds),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:t[26]||(t[26]=s=>a.value+=100)},"100",8,us),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:t[27]||(t[27]=s=>a.value+=200)},"200",8,rs),e("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:t[28]||(t[28]=s=>a.value+=500)},"500",8,cs),e("button",{disabled:!n.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:t[29]||(t[29]=s=>a.value+=1e3)},"1000",8,ps),e("button",{disabled:!n.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:t[30]||(t[30]=s=>a.value=n.value)},"Exact amount",8,bs)]),f(e("input",{disabled:!n.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":t[31]||(t[31]=s=>v.value=s)},null,8,vs),[[V,v.value]]),f(e("input",{disabled:!n.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":t[32]||(t[32]=s=>v.value=s)},null,8,xs),[[V,v.value]]),e("div",fs,[e("label",{class:T(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",v.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"dinein"},"Dine-in",2),e("label",{class:T(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",v.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"takeout"},"Take-out",2)]),e("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98]",onClick:t[33]||(t[33]=s=>I.value=!0),disabled:!v.value||!n.value||a.value<n.value||!a.value||C.value},l(C.value?"Processing...":"Place order"),9,ms)])])):x("",!0)]),_:1}),r.value?(d(),u("div",hs,[gs,e("div",_s,[e("p",null,l(r.value.name??" "),1),e("p",ws,l(`Order #${r.value.number}`),1)]),e("div",ys,[ks,e("b",Cs,l(r.value.type),1)]),zs,js,$s,e("div",null,[(d(!0),u(y,null,$(r.value.items,s=>(d(),u("div",null,[e("p",null,l(s.name),1),e("div",Ts,[e("p",Is,l(Number(s.price).amountFormat())+" x"+l(s.quantity),1),e("p",null,l((s.quantity*s.price).amountFormat()),1)])]))),256)),Os,e("div",null,[e("div",Ss,[Ds,e("p",null,l(r.value.gross.amountFormat()),1)]),e("div",Fs,[e("p",null,"CASH: "+l(r.value.payment.amountFormat()),1),e("p",null,"CHANGE: "+l((r.value.payment-r.value.gross).amountFormat()),1)])]),Ns,Ps,e("div",As,[Ls,e("p",null,l(i.$page.props.auth.user.name),1)]),e("div",Vs,[Es,e("p",Us,l(`dQw4w9WgXcQ${r.value.id.pad(4)}`),1)]),e("div",Bs,[qs,e("p",Ms,l(Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}).format(new Date(r.value.created_at))),1)]),Hs,Gs,Rs])])):x("",!0)]),j(q,{"max-width":"sm",show:U.value,onClose:t[34]||(t[34]=s=>U.value=!1)},{default:_(()=>[e("div",Qs,l(H.value),1)]),_:1},8,["show"]),j(q,{"max-width":i.sm,show:I.value},{default:_(()=>[e("div",Js,[Zs,e("div",Ws,[f(e("textarea",{name:"note",id:"note",rows:"5","onUpdate:modelValue":t[35]||(t[35]=s=>P.value=s),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none w-full border-zinc-700 bg-zinc-900 text-zinc-300 focus:border-indigo-600 focus:ring-indigo-600 rounded-md shadow-sm"},null,512),[[S,P.value]])]),e("div",Xs,[e("span",{class:"hover:underline cursor-pointer",onClick:t[36]||(t[36]=s=>I.value=!1)},"Cancel"),e("button",{onClick:t[37]||(t[37]=()=>{A.value=!0,I.value=!1}),class:"px-8 py-2 bg-green-500 hover:bg-green-600 active:bg-green-800 rounded-lg ease-in-out duration-200"},"Next")])])]),_:1},8,["max-width","show"]),j(q,{"max-width":"sm",show:A.value,onClose:t[40]||(t[40]=s=>A.value=!1)},{default:_(()=>[e("div",Ks,[Ys,e("div",el,[e("button",{onClick:t[38]||(t[38]=s=>J(!0)),class:"w-full py-2 text-lg bg-blue-500 rounded-lg"},"Yes"),e("button",{onClick:t[39]||(t[39]=s=>J(!1)),class:"w-full py-2 text-lg bg-red-500 rounded-lg"},"No")])])]),_:1},8,["show"])],64)}}}),il=ve(tl,[["__scopeId","data-v-ef1db2cd"]]);export{il as default};
