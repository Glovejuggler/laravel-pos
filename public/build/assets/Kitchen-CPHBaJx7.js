import{r as d,y as B,o as a,f as i,b as e,t as g,F as C,k as j,z as D,A as I,a as k,w as b,u as T,c as O,B as L,Z as R,C as A,D as E,E as z}from"./app-4eaRcCvq.js";import{_ as F}from"./Modal-CKCJnszM.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={key:0,class:"bg-zinc-800 rounded-lg p-4 ease-in-out duration-200 transition-all relative text-white h-min"},Y={class:"text-xs"},q={class:"rounded-lg p-2 bg-zinc-700 mb-2"},G={key:1,class:"bg-zinc-800 rounded-lg p-4 ease-in-out duration-200 transition-all text-white h-min"},P=D('<p class="h-3 w-32 rounded-full bg-zinc-600 mb-2 animate-pulse"></p><p class="h-28 rounded-lg bg-zinc-600 animate-pulse"></p><div class="flex justify-between space-x-2 mt-2"><div class="h-8 rounded-2xl bg-zinc-600 animate-pulse w-full"></div><div class="h-8 rounded-2xl bg-zinc-600 animate-pulse w-full"></div></div>',3),U=[P],Z={__name:"OrderCard",props:{data:{type:Object},id:{type:Number}},emits:["remove","finish"],setup(c,{emit:_}){const m=c,y=_,s=d(null),v=d(!1);B(()=>{m.id&&(v.value=!0,axios.get(route("order.get",m.id)).then(u=>s.value=u.data).finally(()=>{v.value=!1}))});const o=()=>{y("remove")},f=()=>{y("finish")};return(u,$)=>!v.value&&s.value?(a(),i("div",V,[e("p",Y,g(Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).format(new Date(s.value.created_at))),1),e("p",null,"Customer: "+g(s.value.name),1),(a(!0),i(C,null,j(s.value.items,x=>(a(),i("p",q,g(`${x.name} x${x.quantity}`),1))),256)),e("p",null,g(s.value.type),1),e("div",{class:"flex justify-between space-x-2"},[e("button",{onClick:o,class:"p-2 bg-red-500 rounded-2xl text-white text-xs w-full"},"Cancel"),e("button",{onClick:f,class:"p-2 bg-blue-500 rounded-2xl text-white text-xs w-full"},"Done")])])):(a(),i("div",G,U))}},r=c=>(A("data-v-408372d6"),c=c(),E(),c),H=r(()=>e("title",null,`
            Kitchen
        `,-1)),J={class:"bg-zinc-950 min-h-screen"},Q={key:1,class:"min-h-screen w-full flex justify-center items-center text-zinc-400"},W={class:"flex flex-col"},X=["src"],ee=r(()=>e("p",{class:"text-zinc-400"},"Nothing in here...",-1)),te=r(()=>e("b",null,"Confirmation",-1)),se=r(()=>e("p",{class:"mt-2"},"Are you sure you want to cancel this order?",-1)),oe=r(()=>e("p",{class:"text-sm"},"This action cannot be undone.",-1)),ne=r(()=>e("b",null,"Confirmation",-1)),ae=r(()=>e("p",{class:"mt-2"},"Are you sure this order is already done?",-1)),le=r(()=>e("p",{class:"text-sm"},"This action cannot be undone.",-1)),ie=Object.assign({layout:null},{__name:"Kitchen",props:{orders:Object},setup(c){const _=(t,l)=>{const n=Math.ceil(t),p=Math.floor(l);return Math.floor(Math.random()*(p-n+1)+n)},m=d(_(1,14)),s=d(c.orders);I(s.value,()=>{s.value.length===0&&(m.value=_(1,14))});const v=new Audio("../genshin_mail.mp3");Echo.private("kitchen").listen("OrderPlaced",t=>{s.value?s.value.push(t.order):s.value=[t.order],v.play()});const o=d({index:"",order:""}),f=d(!1),u=d(!1),$=(t,l)=>{o.value.index=t,o.value.order=l,f.value=!0},x=(t,l)=>{o.value.index=t,o.value.order=l,u.value=!0},h=()=>{f.value=!1,u.value=!1},M=()=>{s.value.splice(o.value.index,1),h(),z.delete(route("order.cancel",o.value.order)).then(t=>console.log(t.data))},N=()=>{s.value.splice(o.value.index,1),h(),z.delete(route("order.done",o.value.order)).then(t=>console.log(t.data))},S=t=>{const{marginLeft:l,marginTop:n,width:p,height:w}=window.getComputedStyle(t);t.style.left=`${t.offsetLeft-parseFloat(l,10)}px`,t.style.top=`${t.offsetTop-parseFloat(n,10)}px`,t.style.width=p,t.style.height=w};return(t,l)=>(a(),i(C,null,[k(T(R),null,{default:b(()=>[H]),_:1}),e("div",J,[s.value.length?(a(),O(L,{key:0,tag:"div",name:"list",onBeforeLeave:S,class:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-2 p-4"},{default:b(()=>[(a(!0),i(C,null,j(s.value,(n,p)=>(a(),i("div",{key:n},[(a(),O(Z,{id:n,key:n,onRemove:w=>$(p,n),onFinish:w=>x(p,n)},null,8,["id","onRemove","onFinish"]))]))),128))]),_:1})):(a(),i("div",Q,[e("div",W,[e("img",{class:"max-w-32 max-h-32",src:`../empty/${m.value}.png`,alt:""},null,8,X),ee])]))]),k(F,{show:f.value,onClose:h,"max-width":"md"},{default:b(()=>[e("div",{class:"p-6 bg-zinc-800 text-white"},[te,se,oe,e("div",{class:"flex justify-end space-x-4"},[e("button",{onClick:h,class:"hover:underline"},"No"),e("button",{onClick:M,class:"bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out px-2 py-1 rounded-lg text-sm"},"Yes")])])]),_:1},8,["show"]),k(F,{show:u.value,onClose:h,"max-width":"md"},{default:b(()=>[e("div",{class:"p-6 bg-zinc-800 text-white"},[ne,ae,le,e("div",{class:"flex justify-end space-x-4"},[e("button",{onClick:h,class:"hover:underline"},"No"),e("button",{onClick:N,class:"bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out px-2 py-1 rounded-lg text-sm"},"Yes")])])]),_:1},8,["show"])],64))}}),ue=K(ie,[["__scopeId","data-v-408372d6"]]);export{ue as default};
