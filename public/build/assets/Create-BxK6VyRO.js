import{T as U,r as p,o as n,f as s,a as i,w as $,u as a,b as t,g as x,i as j,p as B,F as c,k as g,q as h,e as S,Z as I,t as N}from"./app-Dk50twIb.js";import{_ as b}from"./InputLabel-DSld51WF.js";import{_ as m}from"./TextInput-7H9RoEsX.js";import{c as f}from"./colors-CgKrs_oP.js";const A=t("title",null,`
            Add new item
        `,-1),D={class:"max-w-screen-lg mx-auto mt-8"},F=t("p",{class:"dark:text-white mb-8"},"New item",-1),L={class:"grid grid-cols-3 gap-4"},R={key:0,class:"bx bx-plus font-bold text-3xl dark:text-white"},M=["src"],P={class:"flex mt-2"},T=["value"],q={class:"col-span-2 p-6 rounded-lg bg-white dark:bg-zinc-800 h-min"},E=t("p",{class:"block font-medium text-sm text-zinc-700 dark:text-zinc-300 mt-4 select-none"},"Breakdown of cost",-1),O=["onClick"],Z=t("div",{class:"flex justify-end"},[t("button",{"type-":"submit",class:"rounded-lg px-4 py-2 bg-green-500 hover:bg-green-700 active:bg-green-900 text-white text-sm duration-200 ease-in-out"},"Save")],-1),W={__name:"Create",setup(G){const _=Object.keys(f).filter(r=>typeof f[r]=="object"),y=new URLSearchParams(window.location.search),l=U({category_id:y.get("category"),image:"",name:"",price:"",color:"",breakdown:[]}),w=p(""),k=p(null),v=p(null),V=()=>{if(l.image){let r=new FileReader;r.readAsDataURL(l.image),r.onload=o=>{v.value=o.target.result}}},C=()=>{l.breakdown.push({name:"",cost:""})},z=r=>{l.breakdown.splice(r,1)};return(r,o)=>(n(),s(c,null,[i(a(I),null,{default:$(()=>[A]),_:1}),t("div",D,[F,t("div",L,[t("div",null,[t("div",{onClick:o[0]||(o[0]=e=>k.value.click()),class:"h-72 w-72 rounded-lg overflow-hidden bg-white dark:bg-zinc-700 flex justify-center items-center"},[a(l).image?x("",!0):(n(),s("i",R)),a(l).image?(n(),s("img",{key:1,src:v.value,class:"w-72 h-72 object-cover",alt:""},null,8,M)):x("",!0)]),i(b,{class:"mt-4",for:"color",value:"Color"}),t("div",P,[j(t("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>a(l).color=e),id:"color",name:"color",onChange:o[2]||(o[2]=e=>w.value=e.target.value),class:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 dark:text-white"},[(n(!0),s(c,null,g(a(_),e=>(n(),s(c,null,[(n(!0),s(c,null,g(a(f)[e],d=>(n(),s("option",{style:h(`background: ${d} !important`),value:d},N(d),13,T))),256))],64))),256))],544),[[B,a(l).color]]),t("div",{class:"w-10 h-10 ml-4",style:h(`background-color: ${w.value} !important`)},null,4)])]),t("div",q,[t("form",{onSubmit:o[6]||(o[6]=S(e=>a(l).post(r.route("items.store")),["prevent"]))},[t("input",{ref_key:"newImage",ref:k,onInput:o[3]||(o[3]=e=>a(l).image=e.target.files[0]),onChange:V,type:"file",accept:"image/*",hidden:""},null,544),i(b,{for:"name",value:"Name"}),i(m,{id:"name",type:"text",modelValue:a(l).name,"onUpdate:modelValue":o[4]||(o[4]=e=>a(l).name=e),class:"mt-2 w-full block"},null,8,["modelValue"]),i(b,{class:"mt-4",for:"price",value:"Price"}),i(m,{id:"price",type:"number",modelValue:a(l).price,"onUpdate:modelValue":o[5]||(o[5]=e=>a(l).price=e),class:"mt-2 w-full block"},null,8,["modelValue"]),E,(n(!0),s(c,null,g(a(l).breakdown,(e,d)=>(n(),s("div",{key:d,class:"grid grid-cols-11 gap-2 m-2"},[i(m,{type:"text",modelValue:e.name,"onUpdate:modelValue":u=>e.name=u,class:"w-full block col-span-5",placeholder:"Item"},null,8,["modelValue","onUpdate:modelValue"]),i(m,{type:"number",modelValue:e.cost,"onUpdate:modelValue":u=>e.cost=u,class:"w-full block col-span-5",placeholder:"Cost"},null,8,["modelValue","onUpdate:modelValue"]),t("i",{onClick:u=>z(d),class:"bx bx-x p-2 w-8 h-8 rounded-lg text-white bg-red-500 hover:bg-red-700 duration-200 ease-in-out inline-flex justify-center items-center"},null,8,O)]))),128)),t("button",{type:"button",class:"text-xs px-4 py-1 rounded-lg bg-zinc-400 text-white",onClick:C},"Add"),Z],32)])])])],64))}};export{W as default};
