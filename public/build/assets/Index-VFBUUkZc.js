import{r,T as j,o as a,f as n,a as i,w as p,u as d,b as e,F as y,h as V,g as z,A as E,Z as B,e as x,n as K,t as C,z as O,j as F}from"./app-Cd4CZcFk.js";import{_ as k}from"./Modal-97x4wYFC.js";import{_ as I}from"./TextInput-DWD7UEqb.js";const q=e("title",null,`
            Products
        `,-1),P={class:"max-w-7xl lg:flex mx-auto py-8 px-6 lg:px-8"},U={class:"w-full lg:w-1/6 bg-white dark:bg-zinc-900 py-4 rounded-lg h-min border dark:border-zinc-700 mb-6 text-sm"},L=e("span",null,"Categories",-1),Z=e("hr",{class:"border-zinc-600 mt-1"},null,-1),G=["onClick"],H={class:"invisible group-hover:visible space-x-2"},J=["onClick"],Q=["onClick"],R={class:"w-full md:w-5/6 md:px-4 dark:text-white"},W={key:0,class:"flex items-center mb-4"},X=e("span",{class:"font-semibold mr-8"},"Products",-1),Y={class:"grid grid-cols-3 lg:grid-cols-5 gap-2"},ee=["onClick"],te=["src"],se={class:"bg-black/70 p-2 inset-x-0 bottom-0 absolute text-sm text-white"},oe={class:"p-6"},le=e("p",{class:"dark:text-white font-semibold"},"Add Category",-1),ae={class:"p-6"},ne=e("p",{class:"dark:text-white font-semibold"},"Edit Category",-1),re={class:"p-6 dark:text-white"},ie=e("p",{class:"font-semibold"},"Confirmation",-1),ce={class:"mt-2"},de=e("p",{class:"sm italic text-red-500"},"This action cannot be undone",-1),ue={class:"mt-4 flex justify-end space-x-2"},fe={__name:"Index",props:{items:Object,categories:Object,category:Object},setup(u){const h=r(!1),f=r(null),M=()=>{h.value=!0,E(()=>f.value.focus())},$=()=>{h.value=!1,c.reset()},N=()=>{c.post(route("categories.store"),{preserveScroll:!0,preserveState:!1,onSuccess:()=>$,onError:()=>f.value.focus(),onFinish:()=>c.reset()})},v=r(!1),b=r(null),A=s=>{o.name=s.name,o.id=s.id,v.value=!0,E(()=>b.value.focus())},S=()=>{v.value=!1,o.reset()},D=()=>{o.put(route("categories.update",o.id),{preserveScroll:!0,preserveState:!1,onSuccess:()=>S,onError:()=>b.value.focus(),onFinish:()=>o.reset()})},g=r(!1),m=r(null),T=s=>{m.value=s,g.value=!0},_=()=>{g.value=!1,m.value=null},c=j({name:""}),o=j({name:"",id:""});return(s,l)=>(a(),n(y,null,[i(d(B),null,{default:p(()=>[q]),_:1}),e("div",P,[e("div",U,[e("div",{class:"flex justify-between items-center px-4 dark:text-white"},[L,e("i",{onClick:M,class:"bx bx-plus rounded-full hover:bg-black/20 dark:hover:bg-white/20 w-8 h-8 inline-flex justify-center items-center duration-200 ease-in-out"})]),Z,(a(!0),n(y,null,V(u.categories,t=>(a(),n("div",{onClick:x(w=>s.$inertia.get(s.route("items.index",t)),["stop"]),class:K([{"bg-blue-500 hover:bg-blue-500 font-bold text-white":s.$page.url.replaceAll("%20"," ")===`/items/${t.name}`},"dark:text-white px-4 py-2 duration-200 ease-in-out flex justify-between group cursor-pointer"])},[e("span",null,C(t.name),1),e("div",H,[e("i",{class:"bx bx-edit opacity-70 hover:opacity-100",onClick:x(w=>A(t),["stop"])},null,8,J),e("i",{class:"bx bx-trash opacity-70 hover:opacity-100",onClick:x(w=>T(t),["stop"])},null,8,Q)])],10,G))),256))]),e("div",R,[u.category?(a(),n("div",W,[X,e("i",{onClick:l[0]||(l[0]=t=>s.$inertia.get(s.route("items.create"),{category:u.category.id})),class:"bx bx-plus rounded-full hover:bg-black/20 dark:hover:bg-white/20 w-8 h-8 inline-flex justify-center items-center duration-200 ease-in-out"})])):z("",!0),e("div",Y,[(a(!0),n(y,null,V(u.items,t=>(a(),n("div",{onClick:w=>s.$inertia.get(s.route("items.show",t.id)),class:"flex aspect-square w-full rounded-lg overflow-hidden border dark:border-zinc-700 relative",style:O(`background: ${t.color??"rgb(56, 56, 65)"} !important`)},[t.pic?(a(),n("img",{key:0,class:"object-cover w-full aspect-square",src:`../storage/${t.pic}`},null,8,te)):z("",!0),e("div",se,C(t.name),1)],12,ee))),256))])])]),i(k,{show:h.value,onClose:$},{default:p(()=>[e("div",oe,[le,i(I,{ref_key:"newCatInput",ref:f,class:"mt-2 block w-full",type:"text",modelValue:d(c).name,"onUpdate:modelValue":l[1]||(l[1]=t=>d(c).name=t),placeholder:"Category",onKeyup:F(N,["enter"])},null,8,["modelValue"])])]),_:1},8,["show"]),i(k,{show:v.value,onClose:S},{default:p(()=>[e("div",ae,[ne,i(I,{ref_key:"editCatInput",ref:b,class:"mt-2 block w-full",type:"text",modelValue:d(o).name,"onUpdate:modelValue":l[2]||(l[2]=t=>d(o).name=t),placeholder:"Category",onKeyup:F(D,["enter"])},null,8,["modelValue"])])]),_:1},8,["show"]),i(k,{show:g.value,onClose:_},{default:p(()=>[e("div",re,[ie,e("p",ce,"Are you sure you want to delete this category: "+C(m.value.name)+"?",1),de,e("div",ue,[e("button",{onClick:_,class:"hover:underline"},"Cancel"),e("button",{onClick:l[3]||(l[3]=t=>s.$inertia.delete(s.route("categories.destroy",m.value),{preserveScroll:!0,preserveState:!1,onSuccess:()=>_})),class:"px-4 py-2 text-sm text-white bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out"},"Delete")])])]),_:1},8,["show"])],64))}};export{fe as default};
