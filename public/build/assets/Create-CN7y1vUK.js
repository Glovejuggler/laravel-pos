import{T as v,r as g,o as r,f as d,a as n,w as y,u as a,b as t,g as f,e as V,F as w,k as C,Z as U}from"./app-D8Qpgn3l.js";import{_ as b}from"./InputLabel-DyNHPxyY.js";import{_ as c}from"./TextInput-BwONylFs.js";const B=t("title",null,`
            Add new item
        `,-1),z={class:"max-w-screen-lg mx-auto mt-8"},I=t("p",{class:"dark:text-white mb-8"},"New item",-1),N={class:"grid grid-cols-3 gap-4"},$={key:0,class:"bx bx-plus font-bold text-3xl text-white"},j=["src"],A={class:"col-span-2 p-6 rounded-lg bg-zinc-800"},F=t("p",{class:"block font-medium text-sm text-zinc-700 dark:text-zinc-300 mt-4 select-none"},"Breakdown of cost",-1),L=["onClick"],R=t("div",{class:"flex justify-end"},[t("button",{"type-":"submit",class:"rounded-lg px-4 py-2 bg-green-500 hover:bg-green-700 active:bg-green-900 text-white text-sm duration-200 ease-in-out"},"Save")],-1),E={__name:"Create",setup(S){const x=new URLSearchParams(window.location.search),e=v({category_id:x.get("category"),image:"",name:"",price:"",breakdown:[]}),m=g(null),u=g(null),k=()=>{if(e.image){let s=new FileReader;s.readAsDataURL(e.image),s.onload=o=>{u.value=o.target.result}}},_=()=>{e.breakdown.push({name:"",cost:""})},h=s=>{e.breakdown.splice(s,1)};return(s,o)=>(r(),d(w,null,[n(a(U),null,{default:y(()=>[B]),_:1}),t("div",z,[I,t("div",N,[t("div",{onClick:o[0]||(o[0]=l=>m.value.click()),class:"h-72 w-72 rounded-lg overflow-hidden bg-zinc-700 flex justify-center items-center"},[a(e).image?f("",!0):(r(),d("i",$)),a(e).image?(r(),d("img",{key:1,src:u.value,class:"w-72 h-72 object-cover",alt:""},null,8,j)):f("",!0)]),t("div",A,[t("form",{onSubmit:o[4]||(o[4]=V(l=>a(e).post(s.route("items.store")),["prevent"]))},[t("input",{ref_key:"newImage",ref:m,onInput:o[1]||(o[1]=l=>a(e).image=l.target.files[0]),onChange:k,type:"file",accept:"image/*",hidden:""},null,544),n(b,{for:"name",value:"Name"}),n(c,{id:"name",type:"text",modelValue:a(e).name,"onUpdate:modelValue":o[2]||(o[2]=l=>a(e).name=l),class:"mt-2 w-full block"},null,8,["modelValue"]),n(b,{class:"mt-4",for:"price",value:"Price"}),n(c,{id:"price",type:"number",modelValue:a(e).price,"onUpdate:modelValue":o[3]||(o[3]=l=>a(e).price=l),class:"mt-2 w-full block"},null,8,["modelValue"]),F,(r(!0),d(w,null,C(a(e).breakdown,(l,p)=>(r(),d("div",{key:p,class:"grid grid-cols-11 gap-2 m-2"},[n(c,{type:"text",modelValue:l.name,"onUpdate:modelValue":i=>l.name=i,class:"w-full block col-span-5",placeholder:"Item"},null,8,["modelValue","onUpdate:modelValue"]),n(c,{type:"number",modelValue:l.cost,"onUpdate:modelValue":i=>l.cost=i,class:"w-full block col-span-5",placeholder:"Cost"},null,8,["modelValue","onUpdate:modelValue"]),t("i",{onClick:i=>h(p),class:"bx bx-x p-2 w-8 h-8 rounded-lg text-white bg-red-500 hover:bg-red-700 duration-200 ease-in-out inline-flex justify-center items-center"},null,8,L)]))),128)),t("button",{type:"button",class:"text-xs px-4 py-1 rounded-lg bg-zinc-400 text-white",onClick:_},"Add"),R],32)])])])],64))}};export{E as default};
