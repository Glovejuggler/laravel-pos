import{r as c,k as Z,O as te,D as le,U as se,o as a,f as d,a as _,w,u as U,b as t,V as ne,e as m,c as oe,P as ie,g as v,F as h,h as z,d as T,t as s,p as x,R as I,v as A,n as j,Q as ae,Z as de,z as J,G as ue}from"./app-bx6r09WD.js";import{_ as E}from"./Modal-B8EYgpVm.js";import{Z as re}from"./index-CbjWbaYu.js";import{d as W}from"./vuedraggable.umd-DfxPOfhM.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";const be={class:"fixed inset-0 overflow-hidden min-h-screen max-h-screen bg-zinc-900 sm:hidden md:block"},pe={class:"grid grid-cols-12"},ve={class:"bg-zinc-900 flex flex-col space-y-2 col-span-2 p-2 text-xs md:text-sm min-h-screen max-h-screen z-50 overflow-y-auto"},xe=["onClick"],fe={class:"flex justify-between items-center text-white py-1"},me=["onClick"],ge=["src"],we={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},ye={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},he={class:"bg-zinc-900 p-4 col-span-3 min-h-screen max-h-screen"},ke={class:"h-1/2 relative"},Ce={class:"h-5/6 overflow-y-auto px-2 text-white"},_e={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2"},ze={class:"flex space-x-2 items-center"},je=["onClick"],$e={class:"flex space-x-2 items-center"},Te=["onClick"],Ie={key:0,class:"absolute bottom-2 text-white w-full"},Oe={class:"flex justify-between"},De={class:"font-bold"},Fe={class:"text-xl font-black"},Se={key:0,class:"font-bold"},Ne={class:"text-xl font-black"},Pe={class:"h-1/2 relative"},Ae={class:"relative block mb-1"},Ve=["disabled"],Le={class:"relative block"},Ue=["disabled"],Ee={class:"grid grid-cols-2 md:grid-cols-5 gap-2 my-2"},Be=["disabled"],qe=["disabled"],Me=["disabled"],He=["disabled"],Re=["disabled"],Ge=["disabled"],Qe=["disabled"],Ze=["disabled"],Je={class:"flex justify-between text-white space-x-2"},We=["disabled"],Xe={key:0,id:"receipt",class:"w-64 bg-white pb-6 z-10"},Ye={class:"grid grid-cols-2"},Ke={class:"text-right"},et={class:"grid grid-cols-2"},tt={class:"text-right"},lt={class:"flex justify-between pl-4 w-full"},st={class:"w-full"},nt={class:"font-bold text-lg flex justify-between"},ot={class:"pl-4"},it={class:"flex justify-between text-sm"},at={class:"flex justify-between text-sm"},dt={class:"text-right"},ut={class:"flex justify-between text-sm"},rt={class:"w-max"},ct={class:"md:hidden sm:block fixed inset-0 bg-zinc-900 min-h-screen overflow-y-auto"},bt={class:"p-2 flex space-x-2 overflow-x-scroll"},pt=["onClick"],vt={class:"grid grid-cols-2 gap-2 p-2 mb-24"},xt=["onClick"],ft=["src"],mt={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},gt={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},wt={key:0,class:"fixed inset-0 bg-zinc-900"},yt={class:"pt-8 px-2 bg-zinc-900 text-white z-50"},ht={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2 text-white"},kt={class:"flex space-x-2 items-center"},Ct=["onClick"],_t={class:"flex space-x-2 items-center"},zt=["onClick"],jt={class:"fixed inset-x-0 bottom-0 p-2 z-50"},$t={class:"flex justify-between text-white"},Tt={class:"font-bold"},It={class:"text-xl font-black"},Ot={key:0,class:"font-bold"},Dt={class:"text-xl font-black"},Ft={class:"relative block mb-1"},St=["disabled"],Nt={class:"relative block"},Pt=["disabled"],At={class:"grid grid-cols-5 gap-2 my-2"},Vt=["disabled"],Lt=["disabled"],Ut=["disabled"],Et=["disabled"],Bt=["disabled"],qt=["disabled"],Mt=["disabled"],Ht=["disabled"],Rt={class:"flex justify-between text-white space-x-2 my-2"},Gt=["disabled"],Qt={key:1,id:"receipt",class:"w-64 bg-white pb-6 -z-50"},Zt={class:"grid grid-cols-2"},Jt={class:"text-right"},Wt={class:"grid grid-cols-2"},Xt={class:"text-right"},Yt={class:"flex justify-between pl-4 w-full"},Kt={class:"w-full"},el={class:"font-bold text-lg flex justify-between"},tl={class:"pl-4"},ll={class:"flex justify-between text-sm"},sl={class:"flex justify-between text-sm"},nl={class:"text-right"},ol={class:"flex justify-between text-sm"},il={class:"w-max"},al={class:"flex justify-center p-4 bg-white text-zinc-900 text-3xl font-bold uppercase"},dl={class:"p-6 bg-zinc-800 text-white"},ul={class:"flex w-full"},rl={class:"flex justify-end items-center space-x-4 mt-4"},cl={class:"p-4 bg-zinc-800 text-white"},bl={class:"grid grid-cols-2 gap-2 mt-4"},pl=Object.assign({layout:null},{__name:"Playground",props:{items:Object,categories:Object},setup(B){const O=B,y=c(null),D=c(null),k=c(!1),q=c(!1),F=c(!1),V=i=>{D.value=i,y.length?y.value.splice(0,y.value.length,...O.items[i]):y.value=O.items[i]},r=c(null),n=Z(()=>{var i;return(i=r.value)==null?void 0:i.reduce((e,b)=>e+b.price*b.count,0)}),o=c(0),g=c(""),p=c(""),S=c(""),u=c(null),N=c(!1),$=c(!1),L=c(!1),M=c(null),X=()=>{L.value=!0},H=i=>{if(r.value){var e=r.value.findIndex(b=>b.id===i.id);e==-1?(i.count=1,r.value.push(i)):r.value[e].count+=1}else i.count=1,r.value=[i]},R=i=>{var e=r.value.findIndex(b=>b.id===i.id);r.value[e].count-=1,r.value[e].count===0&&r.value.splice(e,1),r.value.length||(o.value=0)},G=i=>{var e=r.value.findIndex(b=>b.id===i.id);r.value.splice(e,1),r.value.length||(o.value=0)},Q=i=>{k.value=!0,N.value=!1,ue.post(route("transaction.save"),{items:r.value,payment:o.value,name:g.value,type:p.value,note:S.value},{maxBodyLength:2048,maxContentLength:2048}).then(e=>{M.value=e.data.message,u.value=e.data.transaction}).catch(e=>{console.log(e)}).finally(()=>{r.value=null,o.value=null,g.value=null,p.value=null,S.value=null,k.value=!1,i&&Y(),X()})},C=c([]);te(()=>{let i=navigator.userAgent.toLowerCase();q.value=i.indexOf("android")>-1;const e=JSON.parse(localStorage.getItem("catOrder"))||[];if(e.length){const b=new Map(e.map(l=>[l.id,l.order]));C.value=O.categories.map(l=>({...l,order:b.get(l.id)??l.order})),C.value.sort((l,f)=>l.order-f.order)}else C.value=O.categories;V(C.value[0].name)}),le(C,i=>{i.forEach((b,l)=>{b.order=l+1});const e=i.map(b=>({id:b.id,order:b.order}));localStorage.setItem("catOrder",JSON.stringify(e))},{deep:!0});const Y=()=>{const i=document.getElementById("receipt");re(i,{quality:1,scale:2}).then(e=>{console.log(e),q.value&&(window.location.href="rawbt:"+e)})},K=new Audio("../notif.mp3");Echo.private("done-orders").listen("OrderDone",i=>{K.play()});const P=c(!1);c(!1);const ee=Z(()=>({animation:200,group:"products",ghostClass:"opacity-40"}));return(i,e)=>{const b=se("longpress");return a(),d(h,null,[_(U(de),null,{default:w(()=>[...e[41]||(e[41]=[t("title",null,`
            POS
        `,-1)])]),_:1}),t("main",be,[t("div",pe,[t("aside",ve,[_(U(W),{list:C.value,"item-key":"order",disabled:!P.value},ne({item:w(({element:l})=>[x((a(),d("div",{class:j([{"bg-zinc-600 font-bold px-5":D.value===l.name},"py-2 px-4 text-white hover:bg-zinc-700 rounded-lg duration-200 ease-in-out"]),onClick:f=>V(l.name)},[T(s(l.name),1)],10,xe)),[[b,()=>P.value=!0]])]),_:2},[P.value?{name:"header",fn:w(()=>[t("div",fe,[e[42]||(e[42]=t("span",null,"Editting sort",-1)),t("i",{onClick:e[0]||(e[0]=l=>P.value=!1),class:"bx bx-check rounded-full text-xl cursor-pointer bg-white text-black h-7 w-7 inline-flex justify-center items-center"})])]),key:"0"}:void 0]),1032,["list","disabled"])]),y.value.length?(a(),d("div",{key:0,class:"select-none overflow-y-auto col-span-7 max-h-screen min-h-screen z-50",onContextmenu:e[3]||(e[3]=m(()=>{},["prevent"]))},[(a(),oe(U(W),ie({key:D.value.id,list:y.value},ee.value,{tag:"transition-group","component-data":{name:"shift",tag:"div",class:"grid grid-cols-4 gap-2 p-2"}}),{item:w(({element:l})=>[(a(),d("div",{key:l.id,style:J(`background: ${l.color??"#121212"} !important`),class:"flex w-full aspect-square relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:f=>H(l),ontouchstart:""},[l.pic?(a(),d("img",{key:0,draggable:"false",onContextmenu:e[1]||(e[1]=m(()=>{},["prevent"])),onDragstart:e[2]||(e[2]=m(()=>{},["prevent"])),src:`../storage/${l.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,ge)):v("",!0),t("p",we,s(l.name),1),t("span",ye,s(l.price),1)],12,me))]),_:1},16,["list"]))],32)):v("",!0),t("div",he,[t("div",ke,[t("div",Ce,[(a(!0),d(h,null,z(r.value,l=>(a(),d("div",_e,[t("div",ze,[t("i",{onClick:f=>R(l),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,je),t("p",null,s(l.name)+" x"+s(l.count),1)]),t("div",$e,[t("p",null,s(l.price*l.count),1),t("i",{onClick:f=>G(l),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,Te)])]))),256))]),n.value>0?(a(),d("div",Ie,[t("div",Oe,[t("p",De,[e[43]||(e[43]=T("Total: ",-1)),t("span",Fe,s(n.value),1)]),o.value>n.value?(a(),d("p",Se,[e[44]||(e[44]=T("Change: ",-1)),t("span",Ne,s(n.value&&o.value-n.value),1)])):v("",!0)])])):v("",!0)]),t("div",Pe,[t("label",Ae,[x(t("input",{disabled:!n.value,"onUpdate:modelValue":e[4]||(e[4]=l=>g.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,Ve),[[I,g.value]]),t("i",{onClick:e[5]||(e[5]=m(l=>g.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("label",Le,[x(t("input",{disabled:!n.value,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,Ue),[[I,o.value]]),t("i",{onClick:e[7]||(e[7]=m(l=>o.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("div",Ee,[t("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[8]||(e[8]=l=>o.value+=50)},"50",8,Be),t("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[9]||(e[9]=l=>o.value+=100)},"100",8,qe),t("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[10]||(e[10]=l=>o.value+=200)},"200",8,Me),t("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[11]||(e[11]=l=>o.value+=500)},"500",8,He),t("button",{disabled:!n.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[12]||(e[12]=l=>o.value+=1e3)},"1000",8,Re),t("button",{disabled:!n.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:e[13]||(e[13]=l=>o.value=n.value)},"Exact amount",8,Ge)]),x(t("input",{disabled:!n.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":e[14]||(e[14]=l=>p.value=l)},null,8,Qe),[[A,p.value]]),x(t("input",{disabled:!n.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":e[15]||(e[15]=l=>p.value=l)},null,8,Ze),[[A,p.value]]),t("div",Je,[t("label",{class:j(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",p.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"dinein"},"Dine-in",2),t("label",{class:j(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",p.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"takeout"},"Take-out",2)]),t("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98] absolute bottom-0 right-0",onClick:e[16]||(e[16]=l=>$.value=!0),disabled:!p.value||!n.value||o.value<n.value||!o.value||k.value},s(k.value?"Processing...":"Place order"),9,We)])])]),u.value?(a(),d("div",Xe,[e[56]||(e[56]=t("div",{class:"flex justify-center"},[t("img",{src:"logo.jpg",class:"w-32",alt:""})],-1)),t("div",Ye,[t("p",null,s(u.value.name??" "),1),t("p",Ke,s(`Order #${u.value.number}`),1)]),t("div",et,[e[45]||(e[45]=t("b",null,"Type",-1)),t("b",tt,s(u.value.type),1)]),e[57]||(e[57]=t("hr",{class:"border-black mt-2"},null,-1)),e[58]||(e[58]=t("div",{class:"flex justify-between"},[t("p",null,"Item"),t("p",null,"Subtotal")],-1)),e[59]||(e[59]=t("hr",{class:"border-black mb-2"},null,-1)),t("div",null,[(a(!0),d(h,null,z(u.value.items,l=>(a(),d("div",null,[t("p",null,s(l.name),1),t("div",lt,[t("p",st,s(Number(l.price).amountFormat())+" x"+s(l.quantity),1),t("p",null,s((l.quantity*l.price).amountFormat()),1)])]))),256)),e[50]||(e[50]=t("hr",{class:"border-black my-2"},null,-1)),t("div",null,[t("div",nt,[e[46]||(e[46]=t("p",null,"TOTAL",-1)),t("p",null,s(u.value.gross.amountFormat()),1)]),t("div",ot,[t("p",null,"CASH: "+s(u.value.payment.amountFormat()),1),t("p",null,"CHANGE: "+s((u.value.payment-u.value.gross).amountFormat()),1)])]),e[51]||(e[51]=t("hr",{class:"border-black my-2"},null,-1)),e[52]||(e[52]=t("div",{class:"flex justify-center"},[t("p",null,"Thank you. Come again.")],-1)),t("div",it,[e[47]||(e[47]=t("p",null,"Cashier",-1)),t("p",null,s(i.$page.props.auth.user.name),1)]),t("div",at,[e[48]||(e[48]=t("p",null,"Order ID",-1)),t("p",dt,s(`dQw4w9WgXcQ${u.value.id.pad(4)}`),1)]),t("div",ut,[e[49]||(e[49]=t("p",{class:"w-max"},"Order Time",-1)),t("p",rt,s(Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}).format(new Date(u.value.created_at))),1)]),e[53]||(e[53]=t("div",{class:"flex flex-col items-center justify-center text-sm mt-2 w-full"},[t("b",null,"UPTop Diner"),t("p",null,"25 L. Geirosa Ave., Brgy. Silangan"),t("p",null,"Calauan, Laguna"),t("p",null,"La Famiglia Building 2nd Floor")],-1)),e[54]||(e[54]=t("hr",{class:"border-black my-2"},null,-1)),e[55]||(e[55]=t("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1))])])):v("",!0)]),t("main",ct,[t("nav",bt,[(a(!0),d(h,null,z(B.categories,l=>(a(),d("span",{onClick:f=>V(l.name),class:j(["inline-flex font-semibold px-2 rounded-full border-white border whitespace-nowrap text-clip h-min",D.value===l.name?"text-zinc-900 bg-white":"text-white bg-zinc-900"])},s(l.name),11,pt))),256))]),t("div",vt,[(a(!0),d(h,null,z(y.value,l=>(a(),d("div",{style:J(`background: ${l.color??"#121212"} !important`),class:"item flex w-full aspect-square relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:f=>H(l),ontouchstart:""},[l.pic?(a(),d("img",{key:0,draggable:"false",onContextmenu:e[17]||(e[17]=m(()=>{},["prevent"])),onDragstart:e[18]||(e[18]=m(()=>{},["prevent"])),src:`../storage/${l.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,ft)):v("",!0),t("p",mt,s(l.name),1),t("span",gt,s(l.price),1)],12,xt))),256))]),F.value?v("",!0):(a(),d("div",{key:0,class:"fixed z-40 w-full bottom-0 inset-x-0",onClick:e[19]||(e[19]=l=>F.value=!0)},[...e[60]||(e[60]=[t("div",{class:"flex justify-center"},[t("i",{class:"bx bx-caret-up text-zinc-900 bg-white px-10 pt-2 rounded-t-3xl"})],-1)])])),_(ae,{"enter-from-class":"translate-y-full","enter-active-class":"ease-in-out duration-100","leave-active-class":"ease-in-out duration-100","leave-to-class":"translate-y-full"},{default:w(()=>[F.value?(a(),d("div",wt,[t("div",{class:"fixed z-40 w-full top-0 inset-x-0",onClick:e[20]||(e[20]=l=>F.value=!1)},[...e[61]||(e[61]=[t("div",{class:"flex justify-center"},[t("i",{class:"bx bx-caret-down text-zinc-900 bg-white px-10 pb-2 rounded-b-3xl"})],-1)])]),t("div",yt,[e[62]||(e[62]=t("p",{class:"font-semibold mb-2"},"Cart",-1)),(a(!0),d(h,null,z(r.value,l=>(a(),d("div",ht,[t("div",kt,[t("i",{onClick:f=>R(l),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,Ct),t("p",null,s(l.name)+" x"+s(l.count),1)]),t("div",_t,[t("p",null,s(l.price*l.count),1),t("i",{onClick:f=>G(l),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,zt)])]))),256))]),t("div",jt,[t("div",$t,[t("p",Tt,[e[63]||(e[63]=T("Total: ",-1)),t("span",It,s(n.value),1)]),o.value>n.value?(a(),d("p",Ot,[e[64]||(e[64]=T("Change: ",-1)),t("span",Dt,s(n.value&&o.value-n.value),1)])):v("",!0)]),t("label",Ft,[x(t("input",{disabled:!n.value,"onUpdate:modelValue":e[21]||(e[21]=l=>g.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,St),[[I,g.value]]),t("i",{onClick:e[22]||(e[22]=m(l=>g.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("label",Nt,[x(t("input",{disabled:!n.value,"onUpdate:modelValue":e[23]||(e[23]=l=>o.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,Pt),[[I,o.value]]),t("i",{onClick:e[24]||(e[24]=m(l=>o.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("div",At,[t("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[25]||(e[25]=l=>o.value+=50)},"50",8,Vt),t("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[26]||(e[26]=l=>o.value+=100)},"100",8,Lt),t("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[27]||(e[27]=l=>o.value+=200)},"200",8,Ut),t("button",{disabled:!n.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[28]||(e[28]=l=>o.value+=500)},"500",8,Et),t("button",{disabled:!n.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[29]||(e[29]=l=>o.value+=1e3)},"1000",8,Bt),t("button",{disabled:!n.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:e[30]||(e[30]=l=>o.value=n.value)},"Exact amount",8,qt)]),x(t("input",{disabled:!n.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":e[31]||(e[31]=l=>p.value=l)},null,8,Mt),[[A,p.value]]),x(t("input",{disabled:!n.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":e[32]||(e[32]=l=>p.value=l)},null,8,Ht),[[A,p.value]]),t("div",Rt,[t("label",{class:j(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",p.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"dinein"},"Dine-in",2),t("label",{class:j(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",p.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!n.value}]),for:"takeout"},"Take-out",2)]),t("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98]",onClick:e[33]||(e[33]=l=>$.value=!0),disabled:!p.value||!n.value||o.value<n.value||!o.value||k.value},s(k.value?"Processing...":"Place order"),9,Gt)])])):v("",!0)]),_:1}),u.value?(a(),d("div",Qt,[e[76]||(e[76]=t("div",{class:"flex justify-center"},[t("img",{src:"logo.jpg",class:"w-32",alt:""})],-1)),t("div",Zt,[t("p",null,s(u.value.name??" "),1),t("p",Jt,s(`Order #${u.value.number}`),1)]),t("div",Wt,[e[65]||(e[65]=t("b",null,"Type",-1)),t("b",Xt,s(u.value.type),1)]),e[77]||(e[77]=t("hr",{class:"border-black mt-2"},null,-1)),e[78]||(e[78]=t("div",{class:"flex justify-between"},[t("p",null,"Item"),t("p",null,"Subtotal")],-1)),e[79]||(e[79]=t("hr",{class:"border-black mb-2"},null,-1)),t("div",null,[(a(!0),d(h,null,z(u.value.items,l=>(a(),d("div",null,[t("p",null,s(l.name),1),t("div",Yt,[t("p",Kt,s(Number(l.price).amountFormat())+" x"+s(l.quantity),1),t("p",null,s((l.quantity*l.price).amountFormat()),1)])]))),256)),e[70]||(e[70]=t("hr",{class:"border-black my-2"},null,-1)),t("div",null,[t("div",el,[e[66]||(e[66]=t("p",null,"TOTAL",-1)),t("p",null,s(u.value.gross.amountFormat()),1)]),t("div",tl,[t("p",null,"CASH: "+s(u.value.payment.amountFormat()),1),t("p",null,"CHANGE: "+s((u.value.payment-u.value.gross).amountFormat()),1)])]),e[71]||(e[71]=t("hr",{class:"border-black my-2"},null,-1)),e[72]||(e[72]=t("div",{class:"flex justify-center"},[t("p",null,"Thank you. Come again.")],-1)),t("div",ll,[e[67]||(e[67]=t("p",null,"Cashier",-1)),t("p",null,s(i.$page.props.auth.user.name),1)]),t("div",sl,[e[68]||(e[68]=t("p",null,"Order ID",-1)),t("p",nl,s(`dQw4w9WgXcQ${u.value.id.pad(4)}`),1)]),t("div",ol,[e[69]||(e[69]=t("p",{class:"w-max"},"Order Time",-1)),t("p",il,s(Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}).format(new Date(u.value.created_at))),1)]),e[73]||(e[73]=t("div",{class:"flex flex-col items-center justify-center text-sm mt-2 w-full"},[t("b",null,"UPTop Diner"),t("p",null,"25 L. Geirosa Ave., Brgy. Silangan"),t("p",null,"Calauan, Laguna"),t("p",null,"La Famiglia Building 2nd Floor")],-1)),e[74]||(e[74]=t("hr",{class:"border-black my-2"},null,-1)),e[75]||(e[75]=t("p",null,"THIS IS NOT AN OFFICIAL RECEIPT",-1))])])):v("",!0)]),_(E,{"max-width":"sm",show:L.value,onClose:e[34]||(e[34]=l=>L.value=!1)},{default:w(()=>[t("div",al,s(M.value),1)]),_:1},8,["show"]),_(E,{"max-width":i.sm,show:$.value},{default:w(()=>[t("div",dl,[e[80]||(e[80]=t("label",{for:"note"},"Note",-1)),t("div",ul,[x(t("textarea",{name:"note",id:"note",rows:"5","onUpdate:modelValue":e[35]||(e[35]=l=>S.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none w-full border-zinc-700 bg-zinc-900 text-zinc-300 focus:border-indigo-600 focus:ring-indigo-600 rounded-md shadow-sm"},null,512),[[I,S.value]])]),t("div",rl,[t("span",{class:"hover:underline cursor-pointer",onClick:e[36]||(e[36]=l=>$.value=!1)},"Cancel"),t("button",{onClick:e[37]||(e[37]=()=>{N.value=!0,$.value=!1}),class:"px-8 py-2 bg-green-500 hover:bg-green-600 active:bg-green-800 rounded-lg ease-in-out duration-200"},"Next")])])]),_:1},8,["max-width","show"]),_(E,{"max-width":"sm",show:N.value,onClose:e[40]||(e[40]=l=>N.value=!1)},{default:w(()=>[t("div",cl,[e[81]||(e[81]=t("span",{class:"text-lg"},"Do you want to print receipt?",-1)),t("div",bl,[t("button",{onClick:e[38]||(e[38]=l=>Q(!0)),class:"w-full py-2 text-lg bg-blue-500 rounded-lg"},"Yes"),t("button",{onClick:e[39]||(e[39]=l=>Q(!1)),class:"w-full py-2 text-lg bg-red-500 rounded-lg"},"No")])])]),_:1},8,["show"])],64)}}}),wl=ce(pl,[["__scopeId","data-v-9770a73e"]]);export{wl as default};
