import{r as d,y as D,o,f as l,b as e,t as f,g as z,F as $,k as M,z as I,A as T,a as k,w as b,u as L,c as O,B as R,Z as A,C as V,D as E,E as F}from"./app-3FfzWDb5.js";import{_ as j}from"./Modal-DLuXQ9aD.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={key:0,class:"bg-zinc-800 rounded-lg p-4 ease-in-out duration-200 transition-all relative text-white h-min"},q={class:"text-xs"},G={key:0},P={class:"rounded-lg p-2 bg-zinc-700 mb-2"},U={class:"rounded-full px-5 border text-sm"},Z={key:1,class:"my-4 rounded-md p-3 bg-zinc-900 text-zinc-200"},H={key:1,class:"bg-zinc-800 rounded-lg p-4 ease-in-out duration-200 transition-all text-white h-min"},J=I('<p class="h-3 w-32 rounded-full bg-zinc-600 mb-2 animate-pulse"></p><p class="h-28 rounded-lg bg-zinc-600 animate-pulse"></p><div class="flex justify-between space-x-2 mt-2"><div class="h-8 rounded-2xl bg-zinc-600 animate-pulse w-full"></div><div class="h-8 rounded-2xl bg-zinc-600 animate-pulse w-full"></div></div>',3),Q=[J],W={__name:"OrderCard",props:{data:{type:Object},id:{type:Number}},emits:["remove","finish"],setup(c,{emit:x}){const p=c,y=x,s=d(null),v=d(!1);D(()=>{p.id&&(v.value=!0,axios.get(route("order.get",p.id)).then(u=>s.value=u.data).finally(()=>{v.value=!1}))});const n=()=>{y("remove")},_=()=>{y("finish")};return(u,C)=>!v.value&&s.value?(o(),l("div",Y,[e("p",q,f(Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).format(new Date(s.value.created_at))),1),s.value.name?(o(),l("p",G,"Customer: "+f(s.value.name),1)):z("",!0),(o(!0),l($,null,M(s.value.items,g=>(o(),l("p",P,f(`${g.name} x${g.quantity}`),1))),256)),e("span",U,f(s.value.type),1),s.value.note?(o(),l("div",Z,f(s.value.note),1)):z("",!0),e("div",{class:"flex justify-between space-x-2 mt-2"},[e("button",{onClick:n,class:"p-2 bg-red-500 rounded-2xl text-white text-xs w-full"},"Cancel"),e("button",{onClick:_,class:"p-2 bg-blue-500 rounded-2xl text-white text-xs w-full"},"Done")])])):(o(),l("div",H,Q))}},r=c=>(V("data-v-38683fc6"),c=c(),E(),c),X=r(()=>e("title",null,`
            Kitchen
        `,-1)),ee={class:"bg-zinc-950 min-h-screen"},te={key:1,class:"min-h-screen w-full flex justify-center items-center text-zinc-400"},se={class:"flex flex-col"},oe=["src"],ne=r(()=>e("p",{class:"text-zinc-400"},"Nothing in here...",-1)),ae=r(()=>e("b",null,"Confirmation",-1)),le=r(()=>e("p",{class:"mt-2"},"Are you sure you want to cancel this order?",-1)),ie=r(()=>e("p",{class:"text-sm"},"This action cannot be undone.",-1)),re=r(()=>e("b",null,"Confirmation",-1)),ce=r(()=>e("p",{class:"mt-2"},"Are you sure this order is already done?",-1)),de=r(()=>e("p",{class:"text-sm"},"This action cannot be undone.",-1)),ue=Object.assign({layout:null},{__name:"Kitchen",props:{orders:Object},setup(c){const x=(t,i)=>{const a=Math.ceil(t),m=Math.floor(i);return Math.floor(Math.random()*(m-a+1)+a)},p=d(x(1,14)),s=d(c.orders);T(s.value,()=>{s.value.length===0&&(p.value=x(1,14))});const v=new Audio("../genshin_mail.mp3");Echo.private("kitchen").listen("OrderPlaced",t=>{s.value?s.value.push(t.order):s.value=[t.order],v.play()});const n=d({index:"",order:""}),_=d(!1),u=d(!1),C=(t,i)=>{n.value.index=t,n.value.order=i,_.value=!0},g=(t,i)=>{n.value.index=t,n.value.order=i,u.value=!0},h=()=>{_.value=!1,u.value=!1},N=()=>{s.value.splice(n.value.index,1),h(),F.delete(route("order.cancel",n.value.order)).then(t=>console.log(t.data))},S=()=>{s.value.splice(n.value.index,1),h(),F.delete(route("order.done",n.value.order)).then(t=>console.log(t.data))},B=t=>{const{marginLeft:i,marginTop:a,width:m,height:w}=window.getComputedStyle(t);t.style.left=`${t.offsetLeft-parseFloat(i,10)}px`,t.style.top=`${t.offsetTop-parseFloat(a,10)}px`,t.style.width=m,t.style.height=w};return(t,i)=>(o(),l($,null,[k(L(A),null,{default:b(()=>[X]),_:1}),e("div",ee,[s.value.length?(o(),O(R,{key:0,tag:"div",name:"list",onBeforeLeave:B,class:"grid sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-2 p-4"},{default:b(()=>[(o(!0),l($,null,M(s.value,(a,m)=>(o(),l("div",{key:a},[(o(),O(W,{id:a,key:a,onRemove:w=>C(m,a),onFinish:w=>g(m,a)},null,8,["id","onRemove","onFinish"]))]))),128))]),_:1})):(o(),l("div",te,[e("div",se,[e("img",{class:"max-w-32 max-h-32",src:`../empty/${p.value}.png`,alt:""},null,8,oe),ne])]))]),k(j,{show:_.value,onClose:h,"max-width":"md"},{default:b(()=>[e("div",{class:"p-6 bg-zinc-800 text-white"},[ae,le,ie,e("div",{class:"flex justify-end space-x-4"},[e("button",{onClick:h,class:"hover:underline"},"No"),e("button",{onClick:N,class:"bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out px-2 py-1 rounded-lg text-sm"},"Yes")])])]),_:1},8,["show"]),k(j,{show:u.value,onClose:h,"max-width":"md"},{default:b(()=>[e("div",{class:"p-6 bg-zinc-800 text-white"},[re,ce,de,e("div",{class:"flex justify-end space-x-4"},[e("button",{onClick:h,class:"hover:underline"},"No"),e("button",{onClick:S,class:"bg-red-500 hover:bg-red-700 active:bg-red-900 duration-200 ease-in-out px-2 py-1 rounded-lg text-sm"},"Yes")])])]),_:1},8,["show"])],64))}}),ve=K(ue,[["__scopeId","data-v-38683fc6"]]);export{ve as default};
