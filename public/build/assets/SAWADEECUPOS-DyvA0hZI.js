import{r as c,k as Q,m as Y,o as i,f as a,a as w,w as _,u as H,b as t,F as m,h,e as b,d as D,t as d,g as x,p as v,R as C,v as T,n as y,Q as J,Z as K,z as Z,G as X}from"./app-bx6r09WD.js";import{_ as S}from"./Modal-B8EYgpVm.js";import{Z as ee}from"./index-CbjWbaYu.js";import{_ as te}from"./SawadeecupReceipt-BLentSV6.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";const se={class:"fixed inset-0 overflow-hidden min-h-screen max-h-screen bg-zinc-900 sm:hidden md:block"},ne={class:"grid grid-cols-12"},oe={class:"bg-zinc-900 flex flex-col space-y-2 col-span-2 p-2 text-xs md:text-sm min-h-screen max-h-screen z-50 overflow-y-auto"},ie=["onClick"],ae={class:"grid grid-cols-4 gap-2 p-2"},de=["onClick"],ue=["src"],re={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},ce={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},be={class:"bg-zinc-900 p-4 col-span-3 min-h-screen max-h-screen"},ve={class:"h-1/2 relative"},pe={class:"h-5/6 overflow-y-auto px-2 text-white"},xe={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2"},fe={class:"flex space-x-2 items-center"},me=["onClick"],ge={class:"flex space-x-2 items-center"},we=["onClick"],he={key:0,class:"absolute bottom-2 text-white w-full"},ye={class:"flex justify-between"},ke={class:"font-bold"},_e={class:"text-xl font-black"},Ce={key:0,class:"font-bold"},ze={class:"text-xl font-black"},$e={class:"h-1/2 relative"},je={class:"relative block mb-1"},De=["disabled"],Te={class:"relative block"},Ve=["disabled"],Ue={class:"grid grid-cols-2 md:grid-cols-5 gap-2 my-2"},Pe=["disabled"],Ee=["disabled"],Ie=["disabled"],Oe=["disabled"],Se=["disabled"],Ae=["disabled"],Me=["disabled"],Ne=["disabled"],qe={class:"flex justify-between text-white space-x-2"},Be=["disabled"],Le={class:"md:hidden sm:block fixed inset-0 bg-zinc-900 min-h-screen overflow-y-auto"},Re={class:"p-2 flex space-x-2 overflow-x-scroll"},Ze=["onClick"],Fe={class:"grid grid-cols-2 gap-2 p-2 mb-24"},We=["onClick"],Ge=["src"],Qe={class:"absolute bottom-0 inset-x-0 bg-black/50 p-2 text-white text-xs md:text-sm lg:text-base"},Ye={class:"absolute top-2 right-2 bg-black/50 text-white rounded-lg p-1"},He={key:0,class:"fixed inset-0 bg-zinc-900"},Je={class:"pt-8 px-2 bg-zinc-900 text-white z-50"},Ke={class:"rounded-lg flex justify-between bg-zinc-700 p-2 mb-2 text-white"},Xe={class:"flex space-x-2 items-center"},et=["onClick"],tt={class:"flex space-x-2 items-center"},lt=["onClick"],st={class:"fixed inset-x-0 bottom-0 p-2 z-50"},nt={class:"flex justify-between text-white"},ot={class:"font-bold"},it={class:"text-xl font-black"},at={key:0,class:"font-bold"},dt={class:"text-xl font-black"},ut={class:"relative block mb-1"},rt=["disabled"],ct={class:"relative block"},bt=["disabled"],vt={class:"grid grid-cols-5 gap-2 my-2"},pt=["disabled"],xt=["disabled"],ft=["disabled"],mt=["disabled"],gt=["disabled"],wt=["disabled"],ht=["disabled"],yt=["disabled"],kt={class:"flex justify-between text-white space-x-2 my-2"},_t=["disabled"],Ct={class:"flex justify-center p-4 bg-white text-zinc-900 text-3xl font-bold uppercase"},zt={class:"p-6 bg-zinc-800 text-white"},$t={class:"flex w-full"},jt={class:"flex justify-end items-center space-x-4 mt-4"},Dt={class:"p-4 bg-zinc-800 text-white"},Tt={class:"grid grid-cols-2 gap-2 mt-4"},Vt={key:0,class:"fixed top-0 -left-96"},Ut=Object.assign({layout:null},{__name:"SAWADEECUPOS",props:{items:Object,categories:Object},setup(V){const A=V,U=c(null),P=c(null),g=c(!1),M=c(!1),z=c(!1),E=o=>{P.value=o,U.value=A.items[o]},u=c(null),s=Q(()=>{var o;return(o=u.value)==null?void 0:o.reduce((e,l)=>e+l.price*l.count,0)}),n=c(0),p=c(""),r=c(""),$=c(""),I=c(null),j=c(!1),k=c(!1),O=c(!1),N=c(null),F=()=>{O.value=!0},q=o=>{if(u.value){var e=u.value.findIndex(l=>l.id===o.id);e==-1?(o.count=1,u.value.push(o)):u.value[e].count+=1}else o.count=1,u.value=[o]},B=o=>{var e=u.value.findIndex(l=>l.id===o.id);u.value[e].count-=1,u.value[e].count===0&&u.value.splice(e,1),u.value.length||(n.value=0)},L=o=>{var e=u.value.findIndex(l=>l.id===o.id);u.value.splice(e,1),u.value.length||(n.value=0)},R=o=>{g.value=!0,j.value=!1,X.post(route("transaction.save"),{items:u.value,payment:n.value,name:p.value,type:r.value,note:$.value},{maxBodyLength:2048,maxContentLength:2048}).then(e=>{N.value=e.data.message,I.value=e.data.transaction}).catch(e=>{console.log(e)}).finally(()=>{u.value=null,n.value=null,p.value=null,r.value=null,$.value=null,g.value=!1,o&&W(),F()})};Y(()=>{E(A.categories[0].name);let o=navigator.userAgent.toLowerCase();M.value=o.indexOf("android")>-1});const W=()=>{const o=document.getElementById("receipt");ee(o,{quality:1,scale:2}).then(e=>{console.log(e),M.value&&(window.location.href="rawbt:"+e)})},G=new Audio("../notif.mp3");return Echo.private("done-orders").listen("OrderDone",o=>{G.play()}),(o,e)=>(i(),a(m,null,[w(H(K),null,{default:_(()=>[...e[40]||(e[40]=[t("title",null,`
            Sawadeecup - POS
        `,-1)])]),_:1}),t("main",se,[t("div",ne,[t("aside",oe,[(i(!0),a(m,null,h(V.categories,l=>(i(),a("div",{class:y([{"bg-zinc-600 font-bold px-5":P.value===l.name},"py-2 px-4 text-white hover:bg-zinc-700 rounded-lg duration-200 ease-in-out"]),onClick:f=>E(l.name)},d(l.name),11,ie))),256))]),t("div",{class:"select-none overflow-y-auto col-span-7 max-h-screen min-h-screen z-50",onContextmenu:e[2]||(e[2]=b(()=>{},["prevent"]))},[t("div",ae,[(i(!0),a(m,null,h(U.value,l=>(i(),a("div",{style:Z(`background: ${l.color??"#121212"} !important`),class:"item flex w-full aspect-square relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:f=>q(l),ontouchstart:""},[l.pic?(i(),a("img",{key:0,draggable:"false",onContextmenu:e[0]||(e[0]=b(()=>{},["prevent"])),onDragstart:e[1]||(e[1]=b(()=>{},["prevent"])),src:`../storage/${l.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,ue)):x("",!0),t("p",re,d(l.name),1),t("span",ce,d(l.price),1)],12,de))),256))])],32),t("div",be,[t("div",ve,[t("div",pe,[(i(!0),a(m,null,h(u.value,l=>(i(),a("div",xe,[t("div",fe,[t("i",{onClick:f=>B(l),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,me),t("p",null,d(l.name)+" x"+d(l.count),1)]),t("div",ge,[t("p",null,d(l.price*l.count),1),t("i",{onClick:f=>L(l),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,we)])]))),256))]),s.value>0?(i(),a("div",he,[t("div",ye,[t("p",ke,[e[41]||(e[41]=D("Total: ",-1)),t("span",_e,d(s.value),1)]),n.value>s.value?(i(),a("p",Ce,[e[42]||(e[42]=D("Change: ",-1)),t("span",ze,d(s.value&&n.value-s.value),1)])):x("",!0)])])):x("",!0)]),t("div",$e,[t("label",je,[v(t("input",{disabled:!s.value,"onUpdate:modelValue":e[3]||(e[3]=l=>p.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,De),[[C,p.value]]),t("i",{onClick:e[4]||(e[4]=b(l=>p.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("label",Te,[v(t("input",{disabled:!s.value,"onUpdate:modelValue":e[5]||(e[5]=l=>n.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,Ve),[[C,n.value]]),t("i",{onClick:e[6]||(e[6]=b(l=>n.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("div",Ue,[t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[7]||(e[7]=l=>n.value+=50)},"50",8,Pe),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[8]||(e[8]=l=>n.value+=100)},"100",8,Ee),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[9]||(e[9]=l=>n.value+=200)},"200",8,Ie),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[10]||(e[10]=l=>n.value+=500)},"500",8,Oe),t("button",{disabled:!s.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[11]||(e[11]=l=>n.value+=1e3)},"1000",8,Se),t("button",{disabled:!s.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:e[12]||(e[12]=l=>n.value=s.value)},"Exact amount",8,Ae)]),v(t("input",{disabled:!s.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":e[13]||(e[13]=l=>r.value=l)},null,8,Me),[[T,r.value]]),v(t("input",{disabled:!s.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":e[14]||(e[14]=l=>r.value=l)},null,8,Ne),[[T,r.value]]),t("div",qe,[t("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",r.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!s.value}]),for:"dinein"},"Dine-in",2),t("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",r.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!s.value}]),for:"takeout"},"Take-out",2)]),t("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98] absolute bottom-0 right-0",onClick:e[15]||(e[15]=l=>k.value=!0),disabled:!r.value||!s.value||n.value<s.value||!n.value||g.value},d(g.value?"Processing...":"Place order"),9,Be)])])])]),t("main",Le,[t("nav",Re,[(i(!0),a(m,null,h(V.categories,l=>(i(),a("span",{onClick:f=>E(l.name),class:y(["inline-flex font-semibold px-2 rounded-full border-white border whitespace-nowrap text-clip h-min",P.value===l.name?"text-zinc-900 bg-white":"text-white bg-zinc-900"])},d(l.name),11,Ze))),256))]),t("div",Fe,[(i(!0),a(m,null,h(U.value,l=>(i(),a("div",{style:Z(`background: ${l.color??"#121212"} !important`),class:"item flex w-full aspect-square relative active:scale-95 duration-150 ease-in-out rounded-md overflow-hidden",onClick:f=>q(l),ontouchstart:""},[l.pic?(i(),a("img",{key:0,draggable:"false",onContextmenu:e[16]||(e[16]=b(()=>{},["prevent"])),onDragstart:e[17]||(e[17]=b(()=>{},["prevent"])),src:`../storage/${l.pic}`,class:"w-full aspect-square object-cover",height:"25px",width:"25px"},null,40,Ge)):x("",!0),t("p",Qe,d(l.name),1),t("span",Ye,d(l.price),1)],12,We))),256))]),z.value?x("",!0):(i(),a("div",{key:0,class:"fixed z-40 w-full bottom-0 inset-x-0",onClick:e[18]||(e[18]=l=>z.value=!0)},[...e[43]||(e[43]=[t("div",{class:"flex justify-center"},[t("i",{class:"bx bx-caret-up text-zinc-900 bg-white px-10 pt-2 rounded-t-3xl"})],-1)])])),w(J,{"enter-from-class":"translate-y-full","enter-active-class":"ease-in-out duration-100","leave-active-class":"ease-in-out duration-100","leave-to-class":"translate-y-full"},{default:_(()=>[z.value?(i(),a("div",He,[t("div",{class:"fixed z-40 w-full top-0 inset-x-0",onClick:e[19]||(e[19]=l=>z.value=!1)},[...e[44]||(e[44]=[t("div",{class:"flex justify-center"},[t("i",{class:"bx bx-caret-down text-zinc-900 bg-white px-10 pb-2 rounded-b-3xl"})],-1)])]),t("div",Je,[e[45]||(e[45]=t("p",{class:"font-semibold mb-2"},"Cart",-1)),(i(!0),a(m,null,h(u.value,l=>(i(),a("div",Ke,[t("div",Xe,[t("i",{onClick:f=>B(l),class:"bx bx-minus inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-blue-500 hover:bg-blue-600 acive:bg-blue-800 duration-200 ease-in-out cursor-pointer"},null,8,et),t("p",null,d(l.name)+" x"+d(l.count),1)]),t("div",tt,[t("p",null,d(l.price*l.count),1),t("i",{onClick:f=>L(l),class:"bx bx-trash inline-flex justify-center items-center min-w-6 min-h-6 rounded-full bg-red-500 hover:bg-red-600 acive:bg-red-800 duration-200 ease-in-out cursor-pointer"},null,8,lt)])]))),256))]),t("div",st,[t("div",nt,[t("p",ot,[e[46]||(e[46]=D("Total: ",-1)),t("span",it,d(s.value),1)]),n.value>s.value?(i(),a("p",at,[e[47]||(e[47]=D("Change: ",-1)),t("span",dt,d(s.value&&n.value-s.value),1)])):x("",!0)]),t("label",ut,[v(t("input",{disabled:!s.value,"onUpdate:modelValue":e[20]||(e[20]=l=>p.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Customer",type:"text",name:"customer"},null,8,rt),[[C,p.value]]),t("i",{onClick:e[21]||(e[21]=b(l=>p.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("label",ct,[v(t("input",{disabled:!s.value,"onUpdate:modelValue":e[22]||(e[22]=l=>n.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none duration-300 ease-in-out placeholder:text-xs placeholder:text-zinc-400 text-white block bg-zinc-900 w-full border-slate-300 dark:border-slate-300/20 rounded-md py-2 pl-3 pr-9 shadow-sm focus:border-indigo-300 focus:ring-indigo-200 focus:ring focus:ring-opacity-50",placeholder:"Payment",type:"number",name:"payment"},null,8,bt),[[C,n.value]]),t("i",{onClick:e[23]||(e[23]=b(l=>n.value=null,["self"])),class:"bx bx-x-circle text-white/40 absolute text-xl inset-y-0 right-0 flex items-center pr-3 hover:text-red-500"})]),t("div",vt,[t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[24]||(e[24]=l=>n.value+=50)},"50",8,pt),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[25]||(e[25]=l=>n.value+=100)},"100",8,xt),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[26]||(e[26]=l=>n.value+=200)},"200",8,ft),t("button",{disabled:!s.value,class:"p-2 text-sm font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[27]||(e[27]=l=>n.value+=500)},"500",8,mt),t("button",{disabled:!s.value,class:"p-2 text-xs font-bold text-zinc-800 bg-white rounded-md enabled:active:scale-95 disabled:opacity-50",onClick:e[28]||(e[28]=l=>n.value+=1e3)},"1000",8,gt),t("button",{disabled:!s.value,class:"bg-white rounded-md w-full p-2 font-bold text-sm enabled:active:scale-[0.98] disabled:opacity-50 col-span-5",onClick:e[29]||(e[29]=l=>n.value=s.value)},"Exact amount",8,wt)]),v(t("input",{disabled:!s.value,type:"radio",name:"type",id:"dinein",value:"Dine-in",class:"hidden","onUpdate:modelValue":e[30]||(e[30]=l=>r.value=l)},null,8,ht),[[T,r.value]]),v(t("input",{disabled:!s.value,type:"radio",name:"type",id:"takeout",value:"Take-out",class:"hidden","onUpdate:modelValue":e[31]||(e[31]=l=>r.value=l)},null,8,yt),[[T,r.value]]),t("div",kt,[t("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",r.value==="Dine-in"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!s.value}]),for:"dinein"},"Dine-in",2),t("label",{class:y(["text-sm rounded-2xl py-1 w-full inline-flex justify-center duration-200 ease-in-out",r.value==="Take-out"?"bg-white font-bold text-zinc-800":"bg-zinc-600 text-zinc-200",{"opacity-50":!s.value}]),for:"takeout"},"Take-out",2)]),t("button",{class:"bg-white disabled:opacity-50 rounded-md text-sm w-full p-2 font-bold enabled:active:scale-[0.98]",onClick:e[32]||(e[32]=l=>k.value=!0),disabled:!r.value||!s.value||n.value<s.value||!n.value||g.value},d(g.value?"Processing...":"Place order"),9,_t)])])):x("",!0)]),_:1})]),w(S,{"max-width":"sm",show:O.value,onClose:e[33]||(e[33]=l=>O.value=!1)},{default:_(()=>[t("div",Ct,d(N.value),1)]),_:1},8,["show"]),w(S,{"max-width":o.sm,show:k.value},{default:_(()=>[t("div",zt,[e[48]||(e[48]=t("label",{for:"note"},"Note",-1)),t("div",$t,[v(t("textarea",{name:"note",id:"note",rows:"5","onUpdate:modelValue":e[34]||(e[34]=l=>$.value=l),class:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none w-full border-zinc-700 bg-zinc-900 text-zinc-300 focus:border-indigo-600 focus:ring-indigo-600 rounded-md shadow-sm"},null,512),[[C,$.value]])]),t("div",jt,[t("span",{class:"hover:underline cursor-pointer",onClick:e[35]||(e[35]=l=>k.value=!1)},"Cancel"),t("button",{onClick:e[36]||(e[36]=()=>{j.value=!0,k.value=!1}),class:"px-8 py-2 bg-green-500 hover:bg-green-600 active:bg-green-800 rounded-lg ease-in-out duration-200"},"Next")])])]),_:1},8,["max-width","show"]),w(S,{"max-width":"sm",show:j.value,onClose:e[39]||(e[39]=l=>j.value=!1)},{default:_(()=>[t("div",Dt,[e[49]||(e[49]=t("span",{class:"text-lg"},"Do you want to print receipt?",-1)),t("div",Tt,[t("button",{onClick:e[37]||(e[37]=l=>R(!0)),class:"w-full py-2 text-lg bg-blue-500 rounded-lg"},"Yes"),t("button",{onClick:e[38]||(e[38]=l=>R(!1)),class:"w-full py-2 text-lg bg-red-500 rounded-lg"},"No")])])]),_:1},8,["show"]),I.value?(i(),a("div",Vt,[w(te,{receipt:I.value,id:"receipt"},null,8,["receipt"])])):x("",!0)],64))}}),At=le(Ut,[["__scopeId","data-v-f14251f3"]]);export{At as default};
